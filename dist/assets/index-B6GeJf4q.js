var rN=Object.defineProperty;var sN=(t,e,n)=>e in t?rN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vr=(t,e,n)=>sN(t,typeof e!="symbol"?e+"":e,n);function iN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Du(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jx={exports:{}},Ou={},Cx={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ml=Symbol.for("react.element"),oN=Symbol.for("react.portal"),aN=Symbol.for("react.fragment"),lN=Symbol.for("react.strict_mode"),cN=Symbol.for("react.profiler"),uN=Symbol.for("react.provider"),dN=Symbol.for("react.context"),hN=Symbol.for("react.forward_ref"),fN=Symbol.for("react.suspense"),mN=Symbol.for("react.memo"),pN=Symbol.for("react.lazy"),kg=Symbol.iterator;function gN(t){return t===null||typeof t!="object"?null:(t=kg&&t[kg]||t["@@iterator"],typeof t=="function"?t:null)}var Rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Px=Object.assign,Dx={};function Po(t,e,n){this.props=t,this.context=e,this.refs=Dx,this.updater=n||Rx}Po.prototype.isReactComponent={};Po.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Po.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ox(){}Ox.prototype=Po.prototype;function tm(t,e,n){this.props=t,this.context=e,this.refs=Dx,this.updater=n||Rx}var nm=tm.prototype=new Ox;nm.constructor=tm;Px(nm,Po.prototype);nm.isPureReactComponent=!0;var Ag=Array.isArray,Lx=Object.prototype.hasOwnProperty,rm={current:null},Vx={key:!0,ref:!0,__self:!0,__source:!0};function Mx(t,e,n){var r,s={},i=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)Lx.call(e,r)&&!Vx.hasOwnProperty(r)&&(s[r]=e[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),d=0;d<c;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:ml,type:t,key:i,ref:a,props:s,_owner:rm.current}}function yN(t,e){return{$$typeof:ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===ml}function xN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jg=/\/+/g;function Od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xN(""+t.key):e.toString(36)}function yc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ml:case oN:a=!0}}if(a)return a=t,s=s(a),t=r===""?"."+Od(a,0):r,Ag(s)?(n="",t!=null&&(n=t.replace(jg,"$&/")+"/"),yc(s,e,n,"",function(d){return d})):s!=null&&(sm(s)&&(s=yN(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(jg,"$&/")+"/")+t)),e.push(s)),1;if(a=0,r=r===""?".":r+":",Ag(t))for(var c=0;c<t.length;c++){i=t[c];var u=r+Od(i,c);a+=yc(i,e,n,u,s)}else if(u=gN(t),typeof u=="function")for(t=u.call(t),c=0;!(i=t.next()).done;)i=i.value,u=r+Od(i,c++),a+=yc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Wl(t,e,n){if(t==null)return t;var r=[],s=0;return yc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},xc={transition:null},wN={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:xc,ReactCurrentOwner:rm};function Fx(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Wl,forEach:function(t,e,n){Wl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wl(t,function(){e++}),e},toArray:function(t){return Wl(t,function(e){return e})||[]},only:function(t){if(!sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=Po;me.Fragment=aN;me.Profiler=cN;me.PureComponent=tm;me.StrictMode=lN;me.Suspense=fN;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wN;me.act=Fx;me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Px({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=rm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)Lx.call(e,u)&&!Vx.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:ml,type:t.type,key:s,ref:i,props:r,_owner:a}};me.createContext=function(t){return t={$$typeof:dN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uN,_context:t},t.Consumer=t};me.createElement=Mx;me.createFactory=function(t){var e=Mx.bind(null,t);return e.type=t,e};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:hN,render:t}};me.isValidElement=sm;me.lazy=function(t){return{$$typeof:pN,_payload:{_status:-1,_result:t},_init:vN}};me.memo=function(t,e){return{$$typeof:mN,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=xc.transition;xc.transition={};try{t()}finally{xc.transition=e}};me.unstable_act=Fx;me.useCallback=function(t,e){return $t.current.useCallback(t,e)};me.useContext=function(t){return $t.current.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};me.useEffect=function(t,e){return $t.current.useEffect(t,e)};me.useId=function(){return $t.current.useId()};me.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};me.useMemo=function(t,e){return $t.current.useMemo(t,e)};me.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};me.useRef=function(t){return $t.current.useRef(t)};me.useState=function(t){return $t.current.useState(t)};me.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};me.useTransition=function(){return $t.current.useTransition()};me.version="18.3.1";Cx.exports=me;var A=Cx.exports;const br=Du(A),_N=iN({__proto__:null,default:br},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=A,NN=Symbol.for("react.element"),bN=Symbol.for("react.fragment"),TN=Object.prototype.hasOwnProperty,IN=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SN={key:!0,ref:!0,__self:!0,__source:!0};function Ux(t,e,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)TN.call(e,r)&&!SN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:NN,type:t,key:i,ref:a,props:s,_owner:IN.current}}Ou.Fragment=bN;Ou.jsx=Ux;Ou.jsxs=Ux;jx.exports=Ou;var o=jx.exports,$x={exports:{}},dn={},zx={exports:{}},Bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,ee){var ne=B.length;B.push(ee);e:for(;0<ne;){var ye=ne-1>>>1,de=B[ye];if(0<s(de,ee))B[ye]=ee,B[ne]=de,ne=ye;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var ee=B[0],ne=B.pop();if(ne!==ee){B[0]=ne;e:for(var ye=0,de=B.length,_e=de>>>1;ye<_e;){var We=2*(ye+1)-1,Et=B[We],He=We+1,Pt=B[He];if(0>s(Et,ne))He<de&&0>s(Pt,Et)?(B[ye]=Pt,B[He]=ne,ye=He):(B[ye]=Et,B[We]=ne,ye=We);else if(He<de&&0>s(Pt,ne))B[ye]=Pt,B[He]=ne,ye=He;else break e}}return ee}function s(B,ee){var ne=B.sortIndex-ee.sortIndex;return ne!==0?ne:B.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var u=[],d=[],f=1,p=null,g=3,w=!1,_=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var ee=n(d);ee!==null;){if(ee.callback===null)r(d);else if(ee.startTime<=B)r(d),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(d)}}function L(B){if(S=!1,b(B),!_)if(n(u)!==null)_=!0,Z(F);else{var ee=n(d);ee!==null&&nt(L,ee.startTime-B)}}function F(B,ee){_=!1,S&&(S=!1,N(v),v=-1),w=!0;var ne=g;try{for(b(ee),p=n(u);p!==null&&(!(p.expirationTime>ee)||B&&!P());){var ye=p.callback;if(typeof ye=="function"){p.callback=null,g=p.priorityLevel;var de=ye(p.expirationTime<=ee);ee=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(u)&&r(u),b(ee)}else r(u);p=n(u)}if(p!==null)var _e=!0;else{var We=n(d);We!==null&&nt(L,We.startTime-ee),_e=!1}return _e}finally{p=null,g=ne,w=!1}}var $=!1,T=null,v=-1,I=5,k=-1;function P(){return!(t.unstable_now()-k<I)}function D(){if(T!==null){var B=t.unstable_now();k=B;var ee=!0;try{ee=T(!0,B)}finally{ee?E():($=!1,T=null)}}else $=!1}var E;if(typeof x=="function")E=function(){x(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=D,E=function(){ie.postMessage(null)}}else E=function(){j(D,0)};function Z(B){T=B,$||($=!0,E())}function nt(B,ee){v=j(function(){B(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){_||w||(_=!0,Z(F))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ne=g;g=ee;try{return B()}finally{g=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,ee){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=g;g=B;try{return ee()}finally{g=ne}},t.unstable_scheduleCallback=function(B,ee,ne){var ye=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ye+ne:ye):ne=ye,B){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ne+de,B={id:f++,callback:ee,priorityLevel:B,startTime:ne,expirationTime:de,sortIndex:-1},ne>ye?(B.sortIndex=ne,e(d,B),n(u)===null&&B===n(d)&&(S?(N(v),v=-1):S=!0,nt(L,ne-ye))):(B.sortIndex=de,e(u,B),_||w||(_=!0,Z(F))),B},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(B){var ee=g;return function(){var ne=g;g=ee;try{return B.apply(this,arguments)}finally{g=ne}}}})(Bx);zx.exports=Bx;var kN=zx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN=A,un=kN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qx=new Set,Ua={};function Ei(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(Ua[t]=e,t=0;t<e.length;t++)qx.add(e[t])}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,jN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cg={},Rg={};function CN(t){return Th.call(Rg,t)?!0:Th.call(Cg,t)?!1:jN.test(t)?Rg[t]=!0:(Cg[t]=!0,!1)}function RN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PN(t,e,n,r){if(e===null||typeof e>"u"||RN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,r,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var im=/[\-:]([a-z])/g;function om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(im,om);wt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(im,om);wt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(im,om);wt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});wt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function am(t,e,n,r){var s=wt.hasOwnProperty(e)?wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PN(e,n,s,r)&&(n=null),r||s===null?CN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Br=AN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hl=Symbol.for("react.element"),$i=Symbol.for("react.portal"),zi=Symbol.for("react.fragment"),lm=Symbol.for("react.strict_mode"),Ih=Symbol.for("react.profiler"),Wx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),um=Symbol.for("react.memo"),ns=Symbol.for("react.lazy"),Gx=Symbol.for("react.offscreen"),Pg=Symbol.iterator;function ta(t){return t===null||typeof t!="object"?null:(t=Pg&&t[Pg]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,Ld;function fa(t){if(Ld===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ld=e&&e[1]||""}return`
`+Ld+t}var Vd=!1;function Md(t,e){if(!t||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,c=i.length-1;1<=a&&0<=c&&s[a]!==i[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==i[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==i[c]){var u=`
`+s[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=c);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fa(t):""}function DN(t){switch(t.tag){case 5:return fa(t.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return t=Md(t.type,!1),t;case 11:return t=Md(t.type.render,!1),t;case 1:return t=Md(t.type,!0),t;default:return""}}function Ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case $i:return"Portal";case Ih:return"Profiler";case lm:return"StrictMode";case Sh:return"Suspense";case kh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Hx:return(t.displayName||"Context")+".Consumer";case Wx:return(t._context.displayName||"Context")+".Provider";case cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case um:return e=t.displayName||null,e!==null?e:Ah(t.type)||"Memo";case ns:e=t._payload,t=t._init;try{return Ah(t(e))}catch{}}return null}function ON(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ah(e);case 8:return e===lm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function As(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LN(t){var e=Kx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gl(t){t._valueTracker||(t._valueTracker=LN(t))}function Qx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jh(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=As(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yx(t,e){e=e.checked,e!=null&&am(t,"checked",e,!1)}function Ch(t,e){Yx(t,e);var n=As(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rh(t,e.type,As(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Og(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rh(t,e,n){(e!=="number"||zc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ma=Array.isArray;function eo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+As(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Lg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ma(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:As(n)}}function Xx(t,e){var n=As(e.value),r=As(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kl,Zx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $a(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VN=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){VN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function ev(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function tv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ev(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var MN=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oh(t,e){if(e){if(MN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Lh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function dm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mh=null,to=null,no=null;function Mg(t){if(t=yl(t)){if(typeof Mh!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Uu(e),Mh(t.stateNode,t.type,e))}}function nv(t){to?no?no.push(t):no=[t]:to=t}function rv(){if(to){var t=to,e=no;if(no=to=null,Mg(t),e)for(t=0;t<e.length;t++)Mg(e[t])}}function sv(t,e){return t(e)}function iv(){}var Fd=!1;function ov(t,e,n){if(Fd)return t(e,n);Fd=!0;try{return sv(t,e,n)}finally{Fd=!1,(to!==null||no!==null)&&(iv(),rv())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=Uu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Fh=!1;if(Dr)try{var na={};Object.defineProperty(na,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{Fh=!1}function FN(t,e,n,r,s,i,a,c,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var ba=!1,Bc=null,qc=!1,Uh=null,UN={onError:function(t){ba=!0,Bc=t}};function $N(t,e,n,r,s,i,a,c,u){ba=!1,Bc=null,FN.apply(UN,arguments)}function zN(t,e,n,r,s,i,a,c,u){if($N.apply(this,arguments),ba){if(ba){var d=Bc;ba=!1,Bc=null}else throw Error(z(198));qc||(qc=!0,Uh=d)}}function Ni(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function av(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fg(t){if(Ni(t)!==t)throw Error(z(188))}function BN(t){var e=t.alternate;if(!e){if(e=Ni(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Fg(s),t;if(i===r)return Fg(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a){for(c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function lv(t){return t=BN(t),t!==null?cv(t):null}function cv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cv(t);if(e!==null)return e;t=t.sibling}return null}var uv=un.unstable_scheduleCallback,Ug=un.unstable_cancelCallback,qN=un.unstable_shouldYield,WN=un.unstable_requestPaint,Ye=un.unstable_now,HN=un.unstable_getCurrentPriorityLevel,hm=un.unstable_ImmediatePriority,dv=un.unstable_UserBlockingPriority,Wc=un.unstable_NormalPriority,GN=un.unstable_LowPriority,hv=un.unstable_IdlePriority,Lu=null,tr=null;function KN(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(Lu,t,void 0,(t.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:XN,QN=Math.log,YN=Math.LN2;function XN(t){return t>>>=0,t===0?32:31-(QN(t)/YN|0)|0}var Ql=64,Yl=4194304;function pa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~s;c!==0?r=pa(c):(i&=a,i!==0&&(r=pa(i)))}else a=n&~s,a!==0?r=pa(a):i!==0&&(r=pa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mn(e),s=1<<n,r|=t[n],e&=~s;return r}function JN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Mn(i),c=1<<a,u=s[a];u===-1?(!(c&n)||c&r)&&(s[a]=JN(c,e)):u<=e&&(t.expiredLanes|=c),i&=~c}}function $h(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fv(){var t=Ql;return Ql<<=1,!(Ql&4194240)&&(Ql=64),t}function Ud(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mn(e),t[e]=n}function eb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Mn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function mv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pv,mm,gv,yv,xv,zh=!1,Xl=[],ys=null,xs=null,vs=null,Ba=new Map,qa=new Map,ss=[],tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(t,e){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ba.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qa.delete(e.pointerId)}}function ra(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yl(e),e!==null&&mm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function nb(t,e,n,r,s){switch(e){case"focusin":return ys=ra(ys,t,e,n,r,s),!0;case"dragenter":return xs=ra(xs,t,e,n,r,s),!0;case"mouseover":return vs=ra(vs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ba.set(i,ra(Ba.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,qa.set(i,ra(qa.get(i)||null,t,e,n,r,s)),!0}return!1}function vv(t){var e=ei(t.target);if(e!==null){var n=Ni(e);if(n!==null){if(e=n.tag,e===13){if(e=av(n),e!==null){t.blockedOn=e,xv(t.priority,function(){gv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return e=yl(n),e!==null&&mm(e),t.blockedOn=n,!1;e.shift()}return!0}function zg(t,e,n){vc(t)&&n.delete(e)}function rb(){zh=!1,ys!==null&&vc(ys)&&(ys=null),xs!==null&&vc(xs)&&(xs=null),vs!==null&&vc(vs)&&(vs=null),Ba.forEach(zg),qa.forEach(zg)}function sa(t,e){t.blockedOn===e&&(t.blockedOn=null,zh||(zh=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,rb)))}function Wa(t){function e(s){return sa(s,t)}if(0<Xl.length){sa(Xl[0],t);for(var n=1;n<Xl.length;n++){var r=Xl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ys!==null&&sa(ys,t),xs!==null&&sa(xs,t),vs!==null&&sa(vs,t),Ba.forEach(e),qa.forEach(e),n=0;n<ss.length;n++)r=ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ss.length&&(n=ss[0],n.blockedOn===null);)vv(n),n.blockedOn===null&&ss.shift()}var ro=Br.ReactCurrentBatchConfig,Gc=!0;function sb(t,e,n,r){var s=Ae,i=ro.transition;ro.transition=null;try{Ae=1,pm(t,e,n,r)}finally{Ae=s,ro.transition=i}}function ib(t,e,n,r){var s=Ae,i=ro.transition;ro.transition=null;try{Ae=4,pm(t,e,n,r)}finally{Ae=s,ro.transition=i}}function pm(t,e,n,r){if(Gc){var s=Bh(t,e,n,r);if(s===null)Yd(t,e,r,Kc,n),$g(t,r);else if(nb(s,t,e,n,r))r.stopPropagation();else if($g(t,r),e&4&&-1<tb.indexOf(t)){for(;s!==null;){var i=yl(s);if(i!==null&&pv(i),i=Bh(t,e,n,r),i===null&&Yd(t,e,r,Kc,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Yd(t,e,r,null,n)}}var Kc=null;function Bh(t,e,n,r){if(Kc=null,t=dm(r),t=ei(t),t!==null)if(e=Ni(t),e===null)t=null;else if(n=e.tag,n===13){if(t=av(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kc=t,null}function wv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(HN()){case hm:return 1;case dv:return 4;case Wc:case GN:return 16;case hv:return 536870912;default:return 16}default:return 16}}var hs=null,gm=null,wc=null;function _v(){if(wc)return wc;var t,e=gm,n=e.length,r,s="value"in hs?hs.value:hs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===s[i-r];r++);return wc=s.slice(t,1<r?1-r:void 0)}function _c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function Bg(){return!1}function hn(t){function e(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jl:Bg,this.isPropagationStopped=Bg,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var Do={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=hn(Do),gl=$e({},Do,{view:0,detail:0}),ob=hn(gl),$d,zd,ia,Vu=$e({},gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ia&&(ia&&t.type==="mousemove"?($d=t.screenX-ia.screenX,zd=t.screenY-ia.screenY):zd=$d=0,ia=t),$d)},movementY:function(t){return"movementY"in t?t.movementY:zd}}),qg=hn(Vu),ab=$e({},Vu,{dataTransfer:0}),lb=hn(ab),cb=$e({},gl,{relatedTarget:0}),Bd=hn(cb),ub=$e({},Do,{animationName:0,elapsedTime:0,pseudoElement:0}),db=hn(ub),hb=$e({},Do,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fb=hn(hb),mb=$e({},Do,{data:0}),Wg=hn(mb),pb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=yb[t])?!!e[t]:!1}function xm(){return xb}var vb=$e({},gl,{key:function(t){if(t.key){var e=pb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xm,charCode:function(t){return t.type==="keypress"?_c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wb=hn(vb),_b=$e({},Vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hg=hn(_b),Eb=$e({},gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xm}),Nb=hn(Eb),bb=$e({},Do,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tb=hn(bb),Ib=$e({},Vu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sb=hn(Ib),kb=[9,13,27,32],vm=Dr&&"CompositionEvent"in window,Ta=null;Dr&&"documentMode"in document&&(Ta=document.documentMode);var Ab=Dr&&"TextEvent"in window&&!Ta,Ev=Dr&&(!vm||Ta&&8<Ta&&11>=Ta),Gg=" ",Kg=!1;function Nv(t,e){switch(t){case"keyup":return kb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bi=!1;function jb(t,e){switch(t){case"compositionend":return bv(e);case"keypress":return e.which!==32?null:(Kg=!0,Gg);case"textInput":return t=e.data,t===Gg&&Kg?null:t;default:return null}}function Cb(t,e){if(Bi)return t==="compositionend"||!vm&&Nv(t,e)?(t=_v(),wc=gm=hs=null,Bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ev&&e.locale!=="ko"?null:e.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Rb[t.type]:e==="textarea"}function Tv(t,e,n,r){nv(r),e=Qc(e,"onChange"),0<e.length&&(n=new ym("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ia=null,Ha=null;function Pb(t){Lv(t,0)}function Mu(t){var e=Hi(t);if(Qx(e))return t}function Db(t,e){if(t==="change")return e}var Iv=!1;if(Dr){var qd;if(Dr){var Wd="oninput"in document;if(!Wd){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Wd=typeof Yg.oninput=="function"}qd=Wd}else qd=!1;Iv=qd&&(!document.documentMode||9<document.documentMode)}function Xg(){Ia&&(Ia.detachEvent("onpropertychange",Sv),Ha=Ia=null)}function Sv(t){if(t.propertyName==="value"&&Mu(Ha)){var e=[];Tv(e,Ha,t,dm(t)),ov(Pb,e)}}function Ob(t,e,n){t==="focusin"?(Xg(),Ia=e,Ha=n,Ia.attachEvent("onpropertychange",Sv)):t==="focusout"&&Xg()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Ha)}function Vb(t,e){if(t==="click")return Mu(e)}function Mb(t,e){if(t==="input"||t==="change")return Mu(e)}function Fb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:Fb;function Ga(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Th.call(e,s)||!Un(t[s],e[s]))return!1}return!0}function Jg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zg(t,e){var n=Jg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Jg(n)}}function kv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Av(){for(var t=window,e=zc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zc(t.document)}return e}function wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ub(t){var e=Av(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kv(n.ownerDocument.documentElement,n)){if(r!==null&&wm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zg(n,i);var a=Zg(n,r);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $b=Dr&&"documentMode"in document&&11>=document.documentMode,qi=null,qh=null,Sa=null,Wh=!1;function e0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wh||qi==null||qi!==zc(r)||(r=qi,"selectionStart"in r&&wm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sa&&Ga(Sa,r)||(Sa=r,r=Qc(qh,"onSelect"),0<r.length&&(e=new ym("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function Zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wi={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},Hd={},jv={};Dr&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function Fu(t){if(Hd[t])return Hd[t];if(!Wi[t])return t;var e=Wi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jv)return Hd[t]=e[n];return t}var Cv=Fu("animationend"),Rv=Fu("animationiteration"),Pv=Fu("animationstart"),Dv=Fu("transitionend"),Ov=new Map,t0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(t,e){Ov.set(t,e),Ei(e,[t])}for(var Gd=0;Gd<t0.length;Gd++){var Kd=t0[Gd],zb=Kd.toLowerCase(),Bb=Kd[0].toUpperCase()+Kd.slice(1);Os(zb,"on"+Bb)}Os(Cv,"onAnimationEnd");Os(Rv,"onAnimationIteration");Os(Pv,"onAnimationStart");Os("dblclick","onDoubleClick");Os("focusin","onFocus");Os("focusout","onBlur");Os(Dv,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ga));function n0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zN(r,e,void 0,t),t.currentTarget=null}function Lv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],u=c.instance,d=c.currentTarget;if(c=c.listener,u!==i&&s.isPropagationStopped())break e;n0(s,c,d),i=u}else for(a=0;a<r.length;a++){if(c=r[a],u=c.instance,d=c.currentTarget,c=c.listener,u!==i&&s.isPropagationStopped())break e;n0(s,c,d),i=u}}}if(qc)throw t=Uh,qc=!1,Uh=null,t}function Oe(t,e){var n=e[Yh];n===void 0&&(n=e[Yh]=new Set);var r=t+"__bubble";n.has(r)||(Vv(e,t,2,!1),n.add(r))}function Qd(t,e,n){var r=0;e&&(r|=4),Vv(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Ka(t){if(!t[ec]){t[ec]=!0,qx.forEach(function(n){n!=="selectionchange"&&(qb.has(n)||Qd(n,!1,t),Qd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,Qd("selectionchange",!1,e))}}function Vv(t,e,n,r){switch(wv(e)){case 1:var s=sb;break;case 4:s=ib;break;default:s=pm}n=s.bind(null,e,n,t),s=void 0,!Fh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Yd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;c!==null;){if(a=ei(c),a===null)return;if(u=a.tag,u===5||u===6){r=i=a;continue e}c=c.parentNode}}r=r.return}ov(function(){var d=i,f=dm(n),p=[];e:{var g=Ov.get(t);if(g!==void 0){var w=ym,_=t;switch(t){case"keypress":if(_c(n)===0)break e;case"keydown":case"keyup":w=wb;break;case"focusin":_="focus",w=Bd;break;case"focusout":_="blur",w=Bd;break;case"beforeblur":case"afterblur":w=Bd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=lb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=Nb;break;case Cv:case Rv:case Pv:w=db;break;case Dv:w=Tb;break;case"scroll":w=ob;break;case"wheel":w=Sb;break;case"copy":case"cut":case"paste":w=fb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hg}var S=(e&4)!==0,j=!S&&t==="scroll",N=S?g!==null?g+"Capture":null:g;S=[];for(var x=d,b;x!==null;){b=x;var L=b.stateNode;if(b.tag===5&&L!==null&&(b=L,N!==null&&(L=za(x,N),L!=null&&S.push(Qa(x,L,b)))),j)break;x=x.return}0<S.length&&(g=new w(g,_,null,n,f),p.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",g&&n!==Vh&&(_=n.relatedTarget||n.fromElement)&&(ei(_)||_[Or]))break e;if((w||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=d,_=_?ei(_):null,_!==null&&(j=Ni(_),_!==j||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=d),w!==_)){if(S=qg,L="onMouseLeave",N="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(S=Hg,L="onPointerLeave",N="onPointerEnter",x="pointer"),j=w==null?g:Hi(w),b=_==null?g:Hi(_),g=new S(L,x+"leave",w,n,f),g.target=j,g.relatedTarget=b,L=null,ei(f)===d&&(S=new S(N,x+"enter",_,n,f),S.target=b,S.relatedTarget=j,L=S),j=L,w&&_)t:{for(S=w,N=_,x=0,b=S;b;b=Li(b))x++;for(b=0,L=N;L;L=Li(L))b++;for(;0<x-b;)S=Li(S),x--;for(;0<b-x;)N=Li(N),b--;for(;x--;){if(S===N||N!==null&&S===N.alternate)break t;S=Li(S),N=Li(N)}S=null}else S=null;w!==null&&r0(p,g,w,S,!1),_!==null&&j!==null&&r0(p,j,_,S,!0)}}e:{if(g=d?Hi(d):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var F=Db;else if(Qg(g))if(Iv)F=Mb;else{F=Lb;var $=Ob}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(F=Vb);if(F&&(F=F(t,d))){Tv(p,F,n,f);break e}$&&$(t,g,d),t==="focusout"&&($=g._wrapperState)&&$.controlled&&g.type==="number"&&Rh(g,"number",g.value)}switch($=d?Hi(d):window,t){case"focusin":(Qg($)||$.contentEditable==="true")&&(qi=$,qh=d,Sa=null);break;case"focusout":Sa=qh=qi=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,e0(p,n,f);break;case"selectionchange":if($b)break;case"keydown":case"keyup":e0(p,n,f)}var T;if(vm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bi?Nv(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ev&&n.locale!=="ko"&&(Bi||v!=="onCompositionStart"?v==="onCompositionEnd"&&Bi&&(T=_v()):(hs=f,gm="value"in hs?hs.value:hs.textContent,Bi=!0)),$=Qc(d,v),0<$.length&&(v=new Wg(v,t,null,n,f),p.push({event:v,listeners:$}),T?v.data=T:(T=bv(n),T!==null&&(v.data=T)))),(T=Ab?jb(t,n):Cb(t,n))&&(d=Qc(d,"onBeforeInput"),0<d.length&&(f=new Wg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=T))}Lv(p,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=za(t,n),i!=null&&r.unshift(Qa(t,i,s)),i=za(t,e),i!=null&&r.push(Qa(t,i,s))),t=t.return}return r}function Li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function r0(t,e,n,r,s){for(var i=e._reactName,a=[];n!==null&&n!==r;){var c=n,u=c.alternate,d=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&d!==null&&(c=d,s?(u=za(n,i),u!=null&&a.unshift(Qa(n,u,c))):s||(u=za(n,i),u!=null&&a.push(Qa(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Wb=/\r\n?/g,Hb=/\u0000|\uFFFD/g;function s0(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(Hb,"")}function tc(t,e,n){if(e=s0(e),s0(t)!==e&&n)throw Error(z(425))}function Yc(){}var Hh=null,Gh=null;function Kh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qh=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,i0=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof i0<"u"?function(t){return i0.resolve(null).then(t).catch(Qb)}:Qh;function Qb(t){setTimeout(function(){throw t})}function Xd(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wa(e)}function ws(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),Jn="__reactFiber$"+Oo,Ya="__reactProps$"+Oo,Or="__reactContainer$"+Oo,Yh="__reactEvents$"+Oo,Yb="__reactListeners$"+Oo,Xb="__reactHandles$"+Oo;function ei(t){var e=t[Jn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Or]||n[Jn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=o0(t);t!==null;){if(n=t[Jn])return n;t=o0(t)}return e}t=n,n=t.parentNode}return null}function yl(t){return t=t[Jn]||t[Or],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Uu(t){return t[Ya]||null}var Xh=[],Gi=-1;function Ls(t){return{current:t}}function Ve(t){0>Gi||(t.current=Xh[Gi],Xh[Gi]=null,Gi--)}function Pe(t,e){Gi++,Xh[Gi]=t.current,t.current=e}var js={},Ct=Ls(js),Yt=Ls(!1),ui=js;function po(t,e){var n=t.type.contextTypes;if(!n)return js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Xt(t){return t=t.childContextTypes,t!=null}function Xc(){Ve(Yt),Ve(Ct)}function a0(t,e,n){if(Ct.current!==js)throw Error(z(168));Pe(Ct,e),Pe(Yt,n)}function Mv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,ON(t)||"Unknown",s));return $e({},n,r)}function Jc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||js,ui=Ct.current,Pe(Ct,t),Pe(Yt,Yt.current),!0}function l0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=Mv(t,e,ui),r.__reactInternalMemoizedMergedChildContext=t,Ve(Yt),Ve(Ct),Pe(Ct,t)):Ve(Yt),Pe(Yt,n)}var Er=null,$u=!1,Jd=!1;function Fv(t){Er===null?Er=[t]:Er.push(t)}function Jb(t){$u=!0,Fv(t)}function Vs(){if(!Jd&&Er!==null){Jd=!0;var t=0,e=Ae;try{var n=Er;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Er=null,$u=!1}catch(s){throw Er!==null&&(Er=Er.slice(t+1)),uv(hm,Vs),s}finally{Ae=e,Jd=!1}}return null}var Ki=[],Qi=0,Zc=null,eu=0,yn=[],xn=0,di=null,Tr=1,Ir="";function Xs(t,e){Ki[Qi++]=eu,Ki[Qi++]=Zc,Zc=t,eu=e}function Uv(t,e,n){yn[xn++]=Tr,yn[xn++]=Ir,yn[xn++]=di,di=t;var r=Tr;t=Ir;var s=32-Mn(r)-1;r&=~(1<<s),n+=1;var i=32-Mn(e)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Tr=1<<32-Mn(e)+s|n<<s|r,Ir=i+t}else Tr=1<<i|n<<s|r,Ir=t}function _m(t){t.return!==null&&(Xs(t,1),Uv(t,1,0))}function Em(t){for(;t===Zc;)Zc=Ki[--Qi],Ki[Qi]=null,eu=Ki[--Qi],Ki[Qi]=null;for(;t===di;)di=yn[--xn],yn[xn]=null,Ir=yn[--xn],yn[xn]=null,Tr=yn[--xn],yn[xn]=null}var cn=null,an=null,Me=!1,Dn=null;function $v(t,e){var n=vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function c0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,an=ws(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=di!==null?{id:Tr,overflow:Ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cn=t,an=null,!0):!1;default:return!1}}function Jh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zh(t){if(Me){var e=an;if(e){var n=e;if(!c0(t,e)){if(Jh(t))throw Error(z(418));e=ws(n.nextSibling);var r=cn;e&&c0(t,e)?$v(r,n):(t.flags=t.flags&-4097|2,Me=!1,cn=t)}}else{if(Jh(t))throw Error(z(418));t.flags=t.flags&-4097|2,Me=!1,cn=t}}}function u0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function nc(t){if(t!==cn)return!1;if(!Me)return u0(t),Me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kh(t.type,t.memoizedProps)),e&&(e=an)){if(Jh(t))throw zv(),Error(z(418));for(;e;)$v(t,e),e=ws(e.nextSibling)}if(u0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=ws(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=cn?ws(t.stateNode.nextSibling):null;return!0}function zv(){for(var t=an;t;)t=ws(t.nextSibling)}function go(){an=cn=null,Me=!1}function Nm(t){Dn===null?Dn=[t]:Dn.push(t)}var Zb=Br.ReactCurrentBatchConfig;function oa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var c=s.refs;a===null?delete c[i]:c[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function rc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d0(t){var e=t._init;return e(t._payload)}function Bv(t){function e(N,x){if(t){var b=N.deletions;b===null?(N.deletions=[x],N.flags|=16):b.push(x)}}function n(N,x){if(!t)return null;for(;x!==null;)e(N,x),x=x.sibling;return null}function r(N,x){for(N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function s(N,x){return N=bs(N,x),N.index=0,N.sibling=null,N}function i(N,x,b){return N.index=b,t?(b=N.alternate,b!==null?(b=b.index,b<x?(N.flags|=2,x):b):(N.flags|=2,x)):(N.flags|=1048576,x)}function a(N){return t&&N.alternate===null&&(N.flags|=2),N}function c(N,x,b,L){return x===null||x.tag!==6?(x=ih(b,N.mode,L),x.return=N,x):(x=s(x,b),x.return=N,x)}function u(N,x,b,L){var F=b.type;return F===zi?f(N,x,b.props.children,L,b.key):x!==null&&(x.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ns&&d0(F)===x.type)?(L=s(x,b.props),L.ref=oa(N,x,b),L.return=N,L):(L=kc(b.type,b.key,b.props,null,N.mode,L),L.ref=oa(N,x,b),L.return=N,L)}function d(N,x,b,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=oh(b,N.mode,L),x.return=N,x):(x=s(x,b.children||[]),x.return=N,x)}function f(N,x,b,L,F){return x===null||x.tag!==7?(x=ai(b,N.mode,L,F),x.return=N,x):(x=s(x,b),x.return=N,x)}function p(N,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ih(""+x,N.mode,b),x.return=N,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Hl:return b=kc(x.type,x.key,x.props,null,N.mode,b),b.ref=oa(N,null,x),b.return=N,b;case $i:return x=oh(x,N.mode,b),x.return=N,x;case ns:var L=x._init;return p(N,L(x._payload),b)}if(ma(x)||ta(x))return x=ai(x,N.mode,b,null),x.return=N,x;rc(N,x)}return null}function g(N,x,b,L){var F=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return F!==null?null:c(N,x,""+b,L);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Hl:return b.key===F?u(N,x,b,L):null;case $i:return b.key===F?d(N,x,b,L):null;case ns:return F=b._init,g(N,x,F(b._payload),L)}if(ma(b)||ta(b))return F!==null?null:f(N,x,b,L,null);rc(N,b)}return null}function w(N,x,b,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return N=N.get(b)||null,c(x,N,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Hl:return N=N.get(L.key===null?b:L.key)||null,u(x,N,L,F);case $i:return N=N.get(L.key===null?b:L.key)||null,d(x,N,L,F);case ns:var $=L._init;return w(N,x,b,$(L._payload),F)}if(ma(L)||ta(L))return N=N.get(b)||null,f(x,N,L,F,null);rc(x,L)}return null}function _(N,x,b,L){for(var F=null,$=null,T=x,v=x=0,I=null;T!==null&&v<b.length;v++){T.index>v?(I=T,T=null):I=T.sibling;var k=g(N,T,b[v],L);if(k===null){T===null&&(T=I);break}t&&T&&k.alternate===null&&e(N,T),x=i(k,x,v),$===null?F=k:$.sibling=k,$=k,T=I}if(v===b.length)return n(N,T),Me&&Xs(N,v),F;if(T===null){for(;v<b.length;v++)T=p(N,b[v],L),T!==null&&(x=i(T,x,v),$===null?F=T:$.sibling=T,$=T);return Me&&Xs(N,v),F}for(T=r(N,T);v<b.length;v++)I=w(T,N,v,b[v],L),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?v:I.key),x=i(I,x,v),$===null?F=I:$.sibling=I,$=I);return t&&T.forEach(function(P){return e(N,P)}),Me&&Xs(N,v),F}function S(N,x,b,L){var F=ta(b);if(typeof F!="function")throw Error(z(150));if(b=F.call(b),b==null)throw Error(z(151));for(var $=F=null,T=x,v=x=0,I=null,k=b.next();T!==null&&!k.done;v++,k=b.next()){T.index>v?(I=T,T=null):I=T.sibling;var P=g(N,T,k.value,L);if(P===null){T===null&&(T=I);break}t&&T&&P.alternate===null&&e(N,T),x=i(P,x,v),$===null?F=P:$.sibling=P,$=P,T=I}if(k.done)return n(N,T),Me&&Xs(N,v),F;if(T===null){for(;!k.done;v++,k=b.next())k=p(N,k.value,L),k!==null&&(x=i(k,x,v),$===null?F=k:$.sibling=k,$=k);return Me&&Xs(N,v),F}for(T=r(N,T);!k.done;v++,k=b.next())k=w(T,N,v,k.value,L),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?v:k.key),x=i(k,x,v),$===null?F=k:$.sibling=k,$=k);return t&&T.forEach(function(D){return e(N,D)}),Me&&Xs(N,v),F}function j(N,x,b,L){if(typeof b=="object"&&b!==null&&b.type===zi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Hl:e:{for(var F=b.key,$=x;$!==null;){if($.key===F){if(F=b.type,F===zi){if($.tag===7){n(N,$.sibling),x=s($,b.props.children),x.return=N,N=x;break e}}else if($.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ns&&d0(F)===$.type){n(N,$.sibling),x=s($,b.props),x.ref=oa(N,$,b),x.return=N,N=x;break e}n(N,$);break}else e(N,$);$=$.sibling}b.type===zi?(x=ai(b.props.children,N.mode,L,b.key),x.return=N,N=x):(L=kc(b.type,b.key,b.props,null,N.mode,L),L.ref=oa(N,x,b),L.return=N,N=L)}return a(N);case $i:e:{for($=b.key;x!==null;){if(x.key===$)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){n(N,x.sibling),x=s(x,b.children||[]),x.return=N,N=x;break e}else{n(N,x);break}else e(N,x);x=x.sibling}x=oh(b,N.mode,L),x.return=N,N=x}return a(N);case ns:return $=b._init,j(N,x,$(b._payload),L)}if(ma(b))return _(N,x,b,L);if(ta(b))return S(N,x,b,L);rc(N,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(n(N,x.sibling),x=s(x,b),x.return=N,N=x):(n(N,x),x=ih(b,N.mode,L),x.return=N,N=x),a(N)):n(N,x)}return j}var yo=Bv(!0),qv=Bv(!1),tu=Ls(null),nu=null,Yi=null,bm=null;function Tm(){bm=Yi=nu=null}function Im(t){var e=tu.current;Ve(tu),t._currentValue=e}function ef(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function so(t,e){nu=t,bm=Yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(bm!==t)if(t={context:t,memoizedValue:e,next:null},Yi===null){if(nu===null)throw Error(z(308));Yi=t,nu.dependencies={lanes:0,firstContext:t}}else Yi=Yi.next=t;return e}var ti=null;function Sm(t){ti===null?ti=[t]:ti.push(t)}function Wv(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Sm(e)):(n.next=s.next,s.next=n),e.interleaved=n,Lr(t,r)}function Lr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rs=!1;function km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Lr(t,n)}return s=r.interleaved,s===null?(e.next=e,Sm(r)):(e.next=s.next,s.next=e),r.interleaved=e,Lr(t,n)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fm(t,n)}}function h0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ru(t,e,n,r){var s=t.updateQueue;rs=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,d=u.next;u.next=null,a===null?i=d:a.next=d,a=u;var f=t.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==a&&(c===null?f.firstBaseUpdate=d:c.next=d,f.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,f=d=u=null,c=i;do{var g=c.lane,w=c.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:w,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var _=t,S=c;switch(g=e,w=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){p=_.call(w,p,g);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,g=typeof _=="function"?_.call(w,p,g):_,g==null)break e;p=$e({},p,g);break e;case 2:rs=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[c]:g.push(c))}else w={eventTime:w,lane:g,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(d=f=w,u=p):f=f.next=w,a|=g;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;g=c,c=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fi|=a,t.lanes=a,t.memoizedState=p}}function f0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var xl={},nr=Ls(xl),Xa=Ls(xl),Ja=Ls(xl);function ni(t){if(t===xl)throw Error(z(174));return t}function Am(t,e){switch(Pe(Ja,e),Pe(Xa,t),Pe(nr,xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dh(e,t)}Ve(nr),Pe(nr,e)}function xo(){Ve(nr),Ve(Xa),Ve(Ja)}function Gv(t){ni(Ja.current);var e=ni(nr.current),n=Dh(e,t.type);e!==n&&(Pe(Xa,t),Pe(nr,n))}function jm(t){Xa.current===t&&(Ve(nr),Ve(Xa))}var Fe=Ls(0);function su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zd=[];function Cm(){for(var t=0;t<Zd.length;t++)Zd[t]._workInProgressVersionPrimary=null;Zd.length=0}var Nc=Br.ReactCurrentDispatcher,eh=Br.ReactCurrentBatchConfig,hi=0,Ue=null,st=null,ut=null,iu=!1,ka=!1,Za=0,eT=0;function Tt(){throw Error(z(321))}function Rm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function Pm(t,e,n,r,s,i){if(hi=i,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nc.current=t===null||t.memoizedState===null?sT:iT,t=n(r,s),ka){i=0;do{if(ka=!1,Za=0,25<=i)throw Error(z(301));i+=1,ut=st=null,e.updateQueue=null,Nc.current=oT,t=n(r,s)}while(ka)}if(Nc.current=ou,e=st!==null&&st.next!==null,hi=0,ut=st=Ue=null,iu=!1,e)throw Error(z(300));return t}function Dm(){var t=Za!==0;return Za=0,t}function Xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?Ue.memoizedState=ut=t:ut=ut.next=t,ut}function Nn(){if(st===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ut===null?Ue.memoizedState:ut.next;if(e!==null)ut=e,st=t;else{if(t===null)throw Error(z(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ut===null?Ue.memoizedState=ut=t:ut=ut.next=t}return ut}function el(t,e){return typeof e=="function"?e(t):e}function th(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=st,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var c=a=null,u=null,d=i;do{var f=d.lane;if((hi&f)===f)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(c=u=p,a=r):u=u.next=p,Ue.lanes|=f,fi|=f}d=d.next}while(d!==null&&d!==i);u===null?a=r:u.next=c,Un(r,e.memoizedState)||(Qt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ue.lanes|=i,fi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nh(t){var e=Nn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Un(i,e.memoizedState)||(Qt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Kv(){}function Qv(t,e){var n=Ue,r=Nn(),s=e(),i=!Un(r.memoizedState,s);if(i&&(r.memoizedState=s,Qt=!0),r=r.queue,Om(Jv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,tl(9,Xv.bind(null,n,r,s,e),void 0,null),dt===null)throw Error(z(349));hi&30||Yv(n,e,s)}return s}function Yv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xv(t,e,n,r){e.value=n,e.getSnapshot=r,Zv(e)&&ew(t)}function Jv(t,e,n){return n(function(){Zv(e)&&ew(t)})}function Zv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function ew(t){var e=Lr(t,1);e!==null&&Fn(e,t,1,-1)}function m0(t){var e=Xn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:t},e.queue=t,t=t.dispatch=rT.bind(null,Ue,t),[e.memoizedState,t]}function tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tw(){return Nn().memoizedState}function bc(t,e,n,r){var s=Xn();Ue.flags|=t,s.memoizedState=tl(1|e,n,void 0,r===void 0?null:r)}function zu(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(st!==null){var a=st.memoizedState;if(i=a.destroy,r!==null&&Rm(r,a.deps)){s.memoizedState=tl(e,n,i,r);return}}Ue.flags|=t,s.memoizedState=tl(1|e,n,i,r)}function p0(t,e){return bc(8390656,8,t,e)}function Om(t,e){return zu(2048,8,t,e)}function nw(t,e){return zu(4,2,t,e)}function rw(t,e){return zu(4,4,t,e)}function sw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iw(t,e,n){return n=n!=null?n.concat([t]):null,zu(4,4,sw.bind(null,e,t),n)}function Lm(){}function ow(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aw(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lw(t,e,n){return hi&21?(Un(n,e)||(n=fv(),Ue.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=n)}function tT(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=eh.transition;eh.transition={};try{t(!1),e()}finally{Ae=n,eh.transition=r}}function cw(){return Nn().memoizedState}function nT(t,e,n){var r=Ns(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uw(t))dw(e,n);else if(n=Wv(t,e,n,r),n!==null){var s=Ft();Fn(n,t,r,s),hw(n,e,r)}}function rT(t,e,n){var r=Ns(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uw(t))dw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,c=i(a,n);if(s.hasEagerState=!0,s.eagerState=c,Un(c,a)){var u=e.interleaved;u===null?(s.next=s,Sm(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Wv(t,e,s,r),n!==null&&(s=Ft(),Fn(n,t,r,s),hw(n,e,r))}}function uw(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function dw(t,e){ka=iu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fm(t,n)}}var ou={readContext:En,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},sT={readContext:En,useCallback:function(t,e){return Xn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:p0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bc(4194308,4,sw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bc(4194308,4,t,e)},useInsertionEffect:function(t,e){return bc(4,2,t,e)},useMemo:function(t,e){var n=Xn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nT.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=Xn();return t={current:t},e.memoizedState=t},useState:m0,useDebugValue:Lm,useDeferredValue:function(t){return Xn().memoizedState=t},useTransition:function(){var t=m0(!1),e=t[0];return t=tT.bind(null,t[1]),Xn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=Xn();if(Me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),dt===null)throw Error(z(349));hi&30||Yv(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,p0(Jv.bind(null,r,i,t),[t]),r.flags|=2048,tl(9,Xv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Xn(),e=dt.identifierPrefix;if(Me){var n=Ir,r=Tr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=eT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},iT={readContext:En,useCallback:ow,useContext:En,useEffect:Om,useImperativeHandle:iw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:th,useRef:tw,useState:function(){return th(el)},useDebugValue:Lm,useDeferredValue:function(t){var e=Nn();return lw(e,st.memoizedState,t)},useTransition:function(){var t=th(el)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:Kv,useSyncExternalStore:Qv,useId:cw,unstable_isNewReconciler:!1},oT={readContext:En,useCallback:ow,useContext:En,useEffect:Om,useImperativeHandle:iw,useInsertionEffect:nw,useLayoutEffect:rw,useMemo:aw,useReducer:nh,useRef:tw,useState:function(){return nh(el)},useDebugValue:Lm,useDeferredValue:function(t){var e=Nn();return st===null?e.memoizedState=t:lw(e,st.memoizedState,t)},useTransition:function(){var t=nh(el)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:Kv,useSyncExternalStore:Qv,useId:cw,unstable_isNewReconciler:!1};function Rn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function tf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bu={isMounted:function(t){return(t=t._reactInternals)?Ni(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ft(),s=Ns(t),i=Cr(r,s);i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(Fn(e,t,s,r),Ec(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ft(),s=Ns(t),i=Cr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=_s(t,i,s),e!==null&&(Fn(e,t,s,r),Ec(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ft(),r=Ns(t),s=Cr(n,r);s.tag=2,e!=null&&(s.callback=e),e=_s(t,s,r),e!==null&&(Fn(e,t,r,n),Ec(e,t,r))}};function g0(t,e,n,r,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,a):e.prototype&&e.prototype.isPureReactComponent?!Ga(n,r)||!Ga(s,i):!0}function fw(t,e,n){var r=!1,s=js,i=e.contextType;return typeof i=="object"&&i!==null?i=En(i):(s=Xt(e)?ui:Ct.current,r=e.contextTypes,i=(r=r!=null)?po(t,s):js),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function y0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bu.enqueueReplaceState(e,e.state,null)}function nf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},km(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=En(i):(i=Xt(e)?ui:Ct.current,s.context=po(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(tf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bu.enqueueReplaceState(s,s.state,null),ru(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",r=e;do n+=DN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function rh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var aT=typeof WeakMap=="function"?WeakMap:Map;function mw(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lu||(lu=!0,mf=r),rf(t,e)},n}function pw(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){rf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){rf(t,e),typeof r!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function x0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new aT;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=_T.bind(null,t,e,n),e.then(t,t))}function v0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var lT=Br.ReactCurrentOwner,Qt=!1;function Ot(t,e,n,r){e.child=t===null?qv(e,null,n,r):yo(e,t.child,n,r)}function _0(t,e,n,r,s){n=n.render;var i=e.ref;return so(e,s),r=Pm(t,e,n,r,i,s),n=Dm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(Me&&n&&_m(e),e.flags|=1,Ot(t,e,r,s),e.child)}function E0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!qm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gw(t,e,i,r,s)):(t=kc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(a,r)&&t.ref===e.ref)return Vr(t,e,s)}return e.flags|=1,t=bs(i,r),t.ref=e.ref,t.return=e,e.child=t}function gw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ga(i,r)&&t.ref===e.ref)if(Qt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Qt=!0);else return e.lanes=t.lanes,Vr(t,e,s)}return sf(t,e,n,r,s)}function yw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Ji,sn),sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Ji,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Pe(Ji,sn),sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Pe(Ji,sn),sn|=r;return Ot(t,e,s,n),e.child}function xw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sf(t,e,n,r,s){var i=Xt(n)?ui:Ct.current;return i=po(e,i),so(e,s),n=Pm(t,e,n,r,i,s),r=Dm(),t!==null&&!Qt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Vr(t,e,s)):(Me&&r&&_m(e),e.flags|=1,Ot(t,e,n,s),e.child)}function N0(t,e,n,r,s){if(Xt(n)){var i=!0;Jc(e)}else i=!1;if(so(e,s),e.stateNode===null)Tc(t,e),fw(e,n,r),nf(e,n,r,s),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=En(d):(d=Xt(n)?ui:Ct.current,d=po(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||u!==d)&&y0(e,a,r,d),rs=!1;var g=e.memoizedState;a.state=g,ru(e,r,a,s),u=e.memoizedState,c!==r||g!==u||Yt.current||rs?(typeof f=="function"&&(tf(e,n,f,r),u=e.memoizedState),(c=rs||g0(e,n,c,r,g,u,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=d,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Hv(t,e),c=e.memoizedProps,d=e.type===e.elementType?c:Rn(e.type,c),a.props=d,p=e.pendingProps,g=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=En(u):(u=Xt(n)?ui:Ct.current,u=po(e,u));var w=n.getDerivedStateFromProps;(f=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==p||g!==u)&&y0(e,a,r,u),rs=!1,g=e.memoizedState,a.state=g,ru(e,r,a,s);var _=e.memoizedState;c!==p||g!==_||Yt.current||rs?(typeof w=="function"&&(tf(e,n,w,r),_=e.memoizedState),(d=rs||g0(e,n,d,r,g,_,u)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),a.props=r,a.state=_,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return of(t,e,n,r,i,s)}function of(t,e,n,r,s,i){xw(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return s&&l0(e,n,!1),Vr(t,e,i);r=e.stateNode,lT.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=yo(e,t.child,null,i),e.child=yo(e,null,c,i)):Ot(t,e,c,i),e.memoizedState=r.state,s&&l0(e,n,!0),e.child}function vw(t){var e=t.stateNode;e.pendingContext?a0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a0(t,e.context,!1),Am(t,e.containerInfo)}function b0(t,e,n,r,s){return go(),Nm(s),e.flags|=256,Ot(t,e,n,r),e.child}var af={dehydrated:null,treeContext:null,retryLane:0};function lf(t){return{baseLanes:t,cachePool:null,transitions:null}}function ww(t,e,n){var r=e.pendingProps,s=Fe.current,i=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Pe(Fe,s&1),t===null)return Zh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,i?(r=e.mode,i=e.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Hu(a,r,0,null),t=ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=lf(n),e.memoizedState=af,t):Vm(e,a));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return cT(t,e,a,r,c,s,n);if(i){i=r.fallback,a=e.mode,s=t.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=bs(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=bs(c,i):(i=ai(i,a,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,a=t.child.memoizedState,a=a===null?lf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~n,e.memoizedState=af,r}return i=t.child,t=i.sibling,r=bs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vm(t,e){return e=Hu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sc(t,e,n,r){return r!==null&&Nm(r),yo(e,t.child,null,n),t=Vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cT(t,e,n,r,s,i,a){if(n)return e.flags&256?(e.flags&=-257,r=rh(Error(z(422))),sc(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Hu({mode:"visible",children:r.children},s,0,null),i=ai(i,s,a,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&yo(e,t.child,null,a),e.child.memoizedState=lf(a),e.memoizedState=af,i);if(!(e.mode&1))return sc(t,e,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,i=Error(z(419)),r=rh(i,r,void 0),sc(t,e,a,r)}if(c=(a&t.childLanes)!==0,Qt||c){if(r=dt,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Lr(t,s),Fn(r,t,s,-1))}return Bm(),r=rh(Error(z(421))),sc(t,e,a,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=ET.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,an=ws(s.nextSibling),cn=e,Me=!0,Dn=null,t!==null&&(yn[xn++]=Tr,yn[xn++]=Ir,yn[xn++]=di,Tr=t.id,Ir=t.overflow,di=e),e=Vm(e,r.children),e.flags|=4096,e)}function T0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ef(t.return,e,n)}function sh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _w(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ot(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T0(t,n,e);else if(t.tag===19)T0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&su(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),sh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&su(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}sh(e,!0,n,null,i);break;case"together":sh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=bs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uT(t,e,n){switch(e.tag){case 3:vw(e),go();break;case 5:Gv(e);break;case 1:Xt(e.type)&&Jc(e);break;case 4:Am(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Pe(tu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?ww(t,e,n):(Pe(Fe,Fe.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);Pe(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _w(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Pe(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,yw(t,e,n)}return Vr(t,e,n)}var Ew,cf,Nw,bw;Ew=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cf=function(){};Nw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ni(nr.current);var i=null;switch(n){case"input":s=jh(t,s),r=jh(t,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=Ph(t,s),r=Ph(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yc)}Oh(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ua.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(c=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(u!=null||c!=null))if(d==="style")if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Oe("scroll",t),i||c===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};bw=function(t,e,n,r){n!==r&&(e.flags|=4)};function aa(t,e){if(!Me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dT(t,e,n){var r=e.pendingProps;switch(Em(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Xt(e.type)&&Xc(),It(e),null;case 3:return r=e.stateNode,xo(),Ve(Yt),Ve(Ct),Cm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dn!==null&&(yf(Dn),Dn=null))),cf(t,e),It(e),null;case 5:jm(e);var s=ni(Ja.current);if(n=e.type,t!==null&&e.stateNode!=null)Nw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return It(e),null}if(t=ni(nr.current),nc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Jn]=e,r[Ya]=i,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(s=0;s<ga.length;s++)Oe(ga[s],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Dg(r,i),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Oe("invalid",r);break;case"textarea":Lg(r,i),Oe("invalid",r)}Oh(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="children"?typeof c=="string"?r.textContent!==c&&(i.suppressHydrationWarning!==!0&&tc(r.textContent,c,t),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&tc(r.textContent,c,t),s=["children",""+c]):Ua.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Oe("scroll",r)}switch(n){case"input":Gl(r),Og(r,i,!0);break;case"textarea":Gl(r),Vg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Yc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Jn]=e,t[Ya]=r,Ew(t,e,!1,!1),e.stateNode=t;e:{switch(a=Lh(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),s=r;break;case"iframe":case"object":case"embed":Oe("load",t),s=r;break;case"video":case"audio":for(s=0;s<ga.length;s++)Oe(ga[s],t);s=r;break;case"source":Oe("error",t),s=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),s=r;break;case"details":Oe("toggle",t),s=r;break;case"input":Dg(t,r),s=jh(t,r),Oe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":Lg(t,r),s=Ph(t,r),Oe("invalid",t);break;default:s=r}Oh(n,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var u=c[i];i==="style"?tv(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zx(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&$a(t,u):typeof u=="number"&&$a(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ua.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Oe("scroll",t):u!=null&&am(t,i,u,a))}switch(n){case"input":Gl(t),Og(t,r,!1);break;case"textarea":Gl(t),Vg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+As(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?eo(t,!!r.multiple,i,!1):r.defaultValue!=null&&eo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)bw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=ni(Ja.current),ni(nr.current),nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jn]=e,(i=r.nodeValue!==n)&&(t=cn,t!==null))switch(t.tag){case 3:tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jn]=e,e.stateNode=r}return It(e),null;case 13:if(Ve(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Me&&an!==null&&e.mode&1&&!(e.flags&128))zv(),go(),e.flags|=98560,i=!1;else if(i=nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Jn]=e}else go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),i=!1}else Dn!==null&&(yf(Dn),Dn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?it===0&&(it=3):Bm())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return xo(),cf(t,e),t===null&&Ka(e.stateNode.containerInfo),It(e),null;case 10:return Im(e.type._context),It(e),null;case 17:return Xt(e.type)&&Xc(),It(e),null;case 19:if(Ve(Fe),i=e.memoizedState,i===null)return It(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)aa(i,!1);else{if(it!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=su(t),a!==null){for(e.flags|=128,aa(i,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Fe,Fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ye()>wo&&(e.flags|=128,r=!0,aa(i,!1),e.lanes=4194304)}else{if(!r)if(t=su(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),aa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Me)return It(e),null}else 2*Ye()-i.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,aa(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(n=i.last,n!==null?n.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ye(),e.sibling=null,n=Fe.current,Pe(Fe,r?n&1|2:n&1),e):(It(e),null);case 22:case 23:return zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function hT(t,e){switch(Em(e),e.tag){case 1:return Xt(e.type)&&Xc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xo(),Ve(Yt),Ve(Ct),Cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jm(e),null;case 13:if(Ve(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Fe),null;case 4:return xo(),null;case 10:return Im(e.type._context),null;case 22:case 23:return zm(),null;case 24:return null;default:return null}}var ic=!1,At=!1,fT=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Xi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qe(t,e,r)}else n.current=null}function uf(t,e,n){try{n()}catch(r){qe(t,e,r)}}var I0=!1;function mT(t,e){if(Hh=Gc,t=Av(),wm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,c=-1,u=-1,d=0,f=0,p=t,g=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(c=a+s),p!==i||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(w=p.firstChild)!==null;)g=p,p=w;for(;;){if(p===t)break t;if(g===n&&++d===s&&(c=a),g===i&&++f===r&&(u=a),(w=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=w}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gh={focusedElem:t,selectionRange:n},Gc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,j=_.memoizedState,N=e.stateNode,x=N.getSnapshotBeforeUpdate(e.elementType===e.type?S:Rn(e.type,S),j);N.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(L){qe(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=I0,I0=!1,_}function Aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&uf(e,n,i)}s=s.next}while(s!==r)}}function qu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function df(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tw(t){var e=t.alternate;e!==null&&(t.alternate=null,Tw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jn],delete e[Ya],delete e[Yh],delete e[Yb],delete e[Xb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Iw(t){return t.tag===5||t.tag===3||t.tag===4}function S0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Iw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yc));else if(r!==4&&(t=t.child,t!==null))for(hf(t,e,n),t=t.sibling;t!==null;)hf(t,e,n),t=t.sibling}function ff(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ff(t,e,n),t=t.sibling;t!==null;)ff(t,e,n),t=t.sibling}var mt=null,Pn=!1;function Zr(t,e,n){for(n=n.child;n!==null;)Sw(t,e,n),n=n.sibling}function Sw(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(Lu,n)}catch{}switch(n.tag){case 5:At||Xi(n,e);case 6:var r=mt,s=Pn;mt=null,Zr(t,e,n),mt=r,Pn=s,mt!==null&&(Pn?(t=mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Pn?(t=mt,n=n.stateNode,t.nodeType===8?Xd(t.parentNode,n):t.nodeType===1&&Xd(t,n),Wa(t)):Xd(mt,n.stateNode));break;case 4:r=mt,s=Pn,mt=n.stateNode.containerInfo,Pn=!0,Zr(t,e,n),mt=r,Pn=s;break;case 0:case 11:case 14:case 15:if(!At&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&uf(n,e,a),s=s.next}while(s!==r)}Zr(t,e,n);break;case 1:if(!At&&(Xi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){qe(n,e,c)}Zr(t,e,n);break;case 21:Zr(t,e,n);break;case 22:n.mode&1?(At=(r=At)||n.memoizedState!==null,Zr(t,e,n),At=r):Zr(t,e,n);break;default:Zr(t,e,n)}}function k0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new fT),e.forEach(function(r){var s=NT.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Cn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:mt=c.stateNode,Pn=!1;break e;case 3:mt=c.stateNode.containerInfo,Pn=!0;break e;case 4:mt=c.stateNode.containerInfo,Pn=!0;break e}c=c.return}if(mt===null)throw Error(z(160));Sw(i,a,s),mt=null,Pn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){qe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kw(e,t),e=e.sibling}function kw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cn(e,t),Yn(t),r&4){try{Aa(3,t,t.return),qu(3,t)}catch(S){qe(t,t.return,S)}try{Aa(5,t,t.return)}catch(S){qe(t,t.return,S)}}break;case 1:Cn(e,t),Yn(t),r&512&&n!==null&&Xi(n,n.return);break;case 5:if(Cn(e,t),Yn(t),r&512&&n!==null&&Xi(n,n.return),t.flags&32){var s=t.stateNode;try{$a(s,"")}catch(S){qe(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=n!==null?n.memoizedProps:i,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&Yx(s,i),Lh(c,a);var d=Lh(c,i);for(a=0;a<u.length;a+=2){var f=u[a],p=u[a+1];f==="style"?tv(s,p):f==="dangerouslySetInnerHTML"?Zx(s,p):f==="children"?$a(s,p):am(s,f,p,d)}switch(c){case"input":Ch(s,i);break;case"textarea":Xx(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?eo(s,!!i.multiple,w,!1):g!==!!i.multiple&&(i.defaultValue!=null?eo(s,!!i.multiple,i.defaultValue,!0):eo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ya]=i}catch(S){qe(t,t.return,S)}}break;case 6:if(Cn(e,t),Yn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){qe(t,t.return,S)}}break;case 3:if(Cn(e,t),Yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(e.containerInfo)}catch(S){qe(t,t.return,S)}break;case 4:Cn(e,t),Yn(t);break;case 13:Cn(e,t),Yn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Um=Ye())),r&4&&k0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(At=(d=At)||f,Cn(e,t),At=d):Cn(e,t),Yn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(Y=t,f=t.child;f!==null;){for(p=Y=f;Y!==null;){switch(g=Y,w=g.child,g.tag){case 0:case 11:case 14:case 15:Aa(4,g,g.return);break;case 1:Xi(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){qe(r,n,S)}}break;case 5:Xi(g,g.return);break;case 22:if(g.memoizedState!==null){j0(p);continue}}w!==null?(w.return=g,Y=w):j0(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=ev("display",a))}catch(S){qe(t,t.return,S)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(S){qe(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Cn(e,t),Yn(t),r&4&&k0(t);break;case 21:break;default:Cn(e,t),Yn(t)}}function Yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Iw(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($a(s,""),r.flags&=-33);var i=S0(t);ff(t,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,c=S0(t);hf(t,c,a);break;default:throw Error(z(161))}}catch(u){qe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pT(t,e,n){Y=t,Aw(t)}function Aw(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ic;if(!a){var c=s.alternate,u=c!==null&&c.memoizedState!==null||At;c=ic;var d=At;if(ic=a,(At=u)&&!d)for(Y=s;Y!==null;)a=Y,u=a.child,a.tag===22&&a.memoizedState!==null?C0(s):u!==null?(u.return=a,Y=u):C0(s);for(;i!==null;)Y=i,Aw(i),i=i.sibling;Y=s,ic=c,At=d}A0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):A0(t)}}function A0(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:At||qu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!At)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&f0(e,i,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}f0(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Wa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}At||e.flags&512&&df(e)}catch(g){qe(e,e.return,g)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function j0(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function C0(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qu(4,e)}catch(u){qe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){qe(e,s,u)}}var i=e.return;try{df(e)}catch(u){qe(e,i,u)}break;case 5:var a=e.return;try{df(e)}catch(u){qe(e,a,u)}}}catch(u){qe(e,e.return,u)}if(e===t){Y=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Y=c;break}Y=e.return}}var gT=Math.ceil,au=Br.ReactCurrentDispatcher,Mm=Br.ReactCurrentOwner,wn=Br.ReactCurrentBatchConfig,we=0,dt=null,et=null,xt=0,sn=0,Ji=Ls(0),it=0,nl=null,fi=0,Wu=0,Fm=0,ja=null,Gt=null,Um=0,wo=1/0,_r=null,lu=!1,mf=null,Es=null,oc=!1,fs=null,cu=0,Ca=0,pf=null,Ic=-1,Sc=0;function Ft(){return we&6?Ye():Ic!==-1?Ic:Ic=Ye()}function Ns(t){return t.mode&1?we&2&&xt!==0?xt&-xt:Zb.transition!==null?(Sc===0&&(Sc=fv()),Sc):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:wv(t.type)),t):1}function Fn(t,e,n,r){if(50<Ca)throw Ca=0,pf=null,Error(z(185));pl(t,n,r),(!(we&2)||t!==dt)&&(t===dt&&(!(we&2)&&(Wu|=n),it===4&&is(t,xt)),Jt(t,r),n===1&&we===0&&!(e.mode&1)&&(wo=Ye()+500,$u&&Vs()))}function Jt(t,e){var n=t.callbackNode;ZN(t,e);var r=Hc(t,t===dt?xt:0);if(r===0)n!==null&&Ug(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ug(n),e===1)t.tag===0?Jb(R0.bind(null,t)):Fv(R0.bind(null,t)),Kb(function(){!(we&6)&&Vs()}),n=null;else{switch(mv(r)){case 1:n=hm;break;case 4:n=dv;break;case 16:n=Wc;break;case 536870912:n=hv;break;default:n=Wc}n=Vw(n,jw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jw(t,e){if(Ic=-1,Sc=0,we&6)throw Error(z(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Hc(t,t===dt?xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uu(t,r);else{e=r;var s=we;we|=2;var i=Rw();(dt!==t||xt!==e)&&(_r=null,wo=Ye()+500,oi(t,e));do try{vT();break}catch(c){Cw(t,c)}while(!0);Tm(),au.current=i,we=s,et!==null?e=0:(dt=null,xt=0,e=it)}if(e!==0){if(e===2&&(s=$h(t),s!==0&&(r=s,e=gf(t,s))),e===1)throw n=nl,oi(t,0),is(t,r),Jt(t,Ye()),n;if(e===6)is(t,r);else{if(s=t.current.alternate,!(r&30)&&!yT(s)&&(e=uu(t,r),e===2&&(i=$h(t),i!==0&&(r=i,e=gf(t,i))),e===1))throw n=nl,oi(t,0),is(t,r),Jt(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Js(t,Gt,_r);break;case 3:if(is(t,r),(r&130023424)===r&&(e=Um+500-Ye(),10<e)){if(Hc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ft(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qh(Js.bind(null,t,Gt,_r),e);break}Js(t,Gt,_r);break;case 4:if(is(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var a=31-Mn(r);i=1<<a,a=e[a],a>s&&(s=a),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gT(r/1960))-r,10<r){t.timeoutHandle=Qh(Js.bind(null,t,Gt,_r),r);break}Js(t,Gt,_r);break;case 5:Js(t,Gt,_r);break;default:throw Error(z(329))}}}return Jt(t,Ye()),t.callbackNode===n?jw.bind(null,t):null}function gf(t,e){var n=ja;return t.current.memoizedState.isDehydrated&&(oi(t,e).flags|=256),t=uu(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&yf(e)),t}function yf(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function yT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Un(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function is(t,e){for(e&=~Fm,e&=~Wu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mn(e),r=1<<n;t[n]=-1,e&=~r}}function R0(t){if(we&6)throw Error(z(327));io();var e=Hc(t,0);if(!(e&1))return Jt(t,Ye()),null;var n=uu(t,e);if(t.tag!==0&&n===2){var r=$h(t);r!==0&&(e=r,n=gf(t,r))}if(n===1)throw n=nl,oi(t,0),is(t,e),Jt(t,Ye()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Js(t,Gt,_r),Jt(t,Ye()),null}function $m(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(wo=Ye()+500,$u&&Vs())}}function mi(t){fs!==null&&fs.tag===0&&!(we&6)&&io();var e=we;we|=1;var n=wn.transition,r=Ae;try{if(wn.transition=null,Ae=1,t)return t()}finally{Ae=r,wn.transition=n,we=e,!(we&6)&&Vs()}}function zm(){sn=Ji.current,Ve(Ji)}function oi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Gb(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(Em(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xc();break;case 3:xo(),Ve(Yt),Ve(Ct),Cm();break;case 5:jm(r);break;case 4:xo();break;case 13:Ve(Fe);break;case 19:Ve(Fe);break;case 10:Im(r.type._context);break;case 22:case 23:zm()}n=n.return}if(dt=t,et=t=bs(t.current,null),xt=sn=e,it=0,nl=null,Fm=Wu=fi=0,Gt=ja=null,ti!==null){for(e=0;e<ti.length;e++)if(n=ti[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}ti=null}return t}function Cw(t,e){do{var n=et;try{if(Tm(),Nc.current=ou,iu){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}iu=!1}if(hi=0,ut=st=Ue=null,ka=!1,Za=0,Mm.current=null,n===null||n.return===null){it=1,nl=e,et=null;break}e:{var i=t,a=n.return,c=n,u=e;if(e=xt,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,f=c,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var w=v0(a);if(w!==null){w.flags&=-257,w0(w,a,c,i,e),w.mode&1&&x0(i,d,e),e=w,u=d;var _=e.updateQueue;if(_===null){var S=new Set;S.add(u),e.updateQueue=S}else _.add(u);break e}else{if(!(e&1)){x0(i,d,e),Bm();break e}u=Error(z(426))}}else if(Me&&c.mode&1){var j=v0(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),w0(j,a,c,i,e),Nm(vo(u,c));break e}}i=u=vo(u,c),it!==4&&(it=2),ja===null?ja=[i]:ja.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var N=mw(i,u,e);h0(i,N);break e;case 1:c=u;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Es===null||!Es.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var L=pw(i,c,e);h0(i,L);break e}}i=i.return}while(i!==null)}Dw(n)}catch(F){e=F,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function Rw(){var t=au.current;return au.current=ou,t===null?ou:t}function Bm(){(it===0||it===3||it===2)&&(it=4),dt===null||!(fi&268435455)&&!(Wu&268435455)||is(dt,xt)}function uu(t,e){var n=we;we|=2;var r=Rw();(dt!==t||xt!==e)&&(_r=null,oi(t,e));do try{xT();break}catch(s){Cw(t,s)}while(!0);if(Tm(),we=n,au.current=r,et!==null)throw Error(z(261));return dt=null,xt=0,it}function xT(){for(;et!==null;)Pw(et)}function vT(){for(;et!==null&&!qN();)Pw(et)}function Pw(t){var e=Lw(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?Dw(t):et=e,Mm.current=null}function Dw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=hT(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,et=null;return}}else if(n=dT(n,e,sn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);it===0&&(it=5)}function Js(t,e,n){var r=Ae,s=wn.transition;try{wn.transition=null,Ae=1,wT(t,e,n,r)}finally{wn.transition=s,Ae=r}return null}function wT(t,e,n,r){do io();while(fs!==null);if(we&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(eb(t,i),t===dt&&(et=dt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,Vw(Wc,function(){return io(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wn.transition,wn.transition=null;var a=Ae;Ae=1;var c=we;we|=4,Mm.current=null,mT(t,n),kw(n,t),Ub(Gh),Gc=!!Hh,Gh=Hh=null,t.current=n,pT(n),WN(),we=c,Ae=a,wn.transition=i}else t.current=n;if(oc&&(oc=!1,fs=t,cu=s),i=t.pendingLanes,i===0&&(Es=null),KN(n.stateNode),Jt(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lu)throw lu=!1,t=mf,mf=null,t;return cu&1&&t.tag!==0&&io(),i=t.pendingLanes,i&1?t===pf?Ca++:(Ca=0,pf=t):Ca=0,Vs(),null}function io(){if(fs!==null){var t=mv(cu),e=wn.transition,n=Ae;try{if(wn.transition=null,Ae=16>t?16:t,fs===null)var r=!1;else{if(t=fs,fs=null,cu=0,we&6)throw Error(z(331));var s=we;for(we|=4,Y=t.current;Y!==null;){var i=Y,a=i.child;if(Y.flags&16){var c=i.deletions;if(c!==null){for(var u=0;u<c.length;u++){var d=c[u];for(Y=d;Y!==null;){var f=Y;switch(f.tag){case 0:case 11:case 15:Aa(8,f,i)}var p=f.child;if(p!==null)p.return=f,Y=p;else for(;Y!==null;){f=Y;var g=f.sibling,w=f.return;if(Tw(f),f===d){Y=null;break}if(g!==null){g.return=w,Y=g;break}Y=w}}}var _=i.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}Y=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Y=a;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Aa(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,Y=N;break e}Y=i.return}}var x=t.current;for(Y=x;Y!==null;){a=Y;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,Y=b;else e:for(a=x;Y!==null;){if(c=Y,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:qu(9,c)}}catch(F){qe(c,c.return,F)}if(c===a){Y=null;break e}var L=c.sibling;if(L!==null){L.return=c.return,Y=L;break e}Y=c.return}}if(we=s,Vs(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(Lu,t)}catch{}r=!0}return r}finally{Ae=n,wn.transition=e}}return!1}function P0(t,e,n){e=vo(n,e),e=mw(t,e,1),t=_s(t,e,1),e=Ft(),t!==null&&(pl(t,1,e),Jt(t,e))}function qe(t,e,n){if(t.tag===3)P0(t,t,n);else for(;e!==null;){if(e.tag===3){P0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Es===null||!Es.has(r))){t=vo(n,t),t=pw(e,t,1),e=_s(e,t,1),t=Ft(),e!==null&&(pl(e,1,t),Jt(e,t));break}}e=e.return}}function _T(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ft(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(xt&n)===n&&(it===4||it===3&&(xt&130023424)===xt&&500>Ye()-Um?oi(t,0):Fm|=n),Jt(t,e)}function Ow(t,e){e===0&&(t.mode&1?(e=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):e=1);var n=Ft();t=Lr(t,e),t!==null&&(pl(t,e,n),Jt(t,n))}function ET(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ow(t,n)}function NT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Ow(t,n)}var Lw;Lw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yt.current)Qt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qt=!1,uT(t,e,n);Qt=!!(t.flags&131072)}else Qt=!1,Me&&e.flags&1048576&&Uv(e,eu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tc(t,e),t=e.pendingProps;var s=po(e,Ct.current);so(e,n),s=Pm(null,e,r,t,s,n);var i=Dm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xt(r)?(i=!0,Jc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,km(e),s.updater=Bu,e.stateNode=s,s._reactInternals=e,nf(e,r,t,n),e=of(null,e,r,!0,i,n)):(e.tag=0,Me&&i&&_m(e),Ot(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=TT(r),t=Rn(r,t),s){case 0:e=sf(null,e,r,t,n);break e;case 1:e=N0(null,e,r,t,n);break e;case 11:e=_0(null,e,r,t,n);break e;case 14:e=E0(null,e,r,Rn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),sf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),N0(t,e,r,s,n);case 3:e:{if(vw(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Hv(t,e),ru(e,r,null,n);var a=e.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vo(Error(z(423)),e),e=b0(t,e,r,n,s);break e}else if(r!==s){s=vo(Error(z(424)),e),e=b0(t,e,r,n,s);break e}else for(an=ws(e.stateNode.containerInfo.firstChild),cn=e,Me=!0,Dn=null,n=qv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(go(),r===s){e=Vr(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return Gv(e),t===null&&Zh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Kh(r,s)?a=null:i!==null&&Kh(r,i)&&(e.flags|=32),xw(t,e),Ot(t,e,a,n),e.child;case 6:return t===null&&Zh(e),null;case 13:return ww(t,e,n);case 4:return Am(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=yo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),_0(t,e,r,s,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,Pe(tu,r._currentValue),r._currentValue=a,i!==null)if(Un(i.value,a)){if(i.children===s.children&&!Yt.current){e=Vr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){a=i.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Cr(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?u.next=u:(u.next=f.next,f.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ef(i.return,n,e),c.lanes|=n;break}u=u.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(z(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),ef(a,n,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ot(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,so(e,n),s=En(s),r=r(s),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,s=Rn(r,e.pendingProps),s=Rn(r.type,s),E0(t,e,r,s,n);case 15:return gw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Rn(r,s),Tc(t,e),e.tag=1,Xt(r)?(t=!0,Jc(e)):t=!1,so(e,n),fw(e,r,s),nf(e,r,s,n),of(null,e,r,!0,t,n);case 19:return _w(t,e,n);case 22:return yw(t,e,n)}throw Error(z(156,e.tag))};function Vw(t,e){return uv(t,e)}function bT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,e,n,r){return new bT(t,e,n,r)}function qm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TT(t){if(typeof t=="function")return qm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cm)return 11;if(t===um)return 14}return 2}function bs(t,e){var n=t.alternate;return n===null?(n=vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kc(t,e,n,r,s,i){var a=2;if(r=t,typeof t=="function")qm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case zi:return ai(n.children,s,i,e);case lm:a=8,s|=8;break;case Ih:return t=vn(12,n,e,s|2),t.elementType=Ih,t.lanes=i,t;case Sh:return t=vn(13,n,e,s),t.elementType=Sh,t.lanes=i,t;case kh:return t=vn(19,n,e,s),t.elementType=kh,t.lanes=i,t;case Gx:return Hu(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wx:a=10;break e;case Hx:a=9;break e;case cm:a=11;break e;case um:a=14;break e;case ns:a=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=vn(a,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ai(t,e,n,r){return t=vn(7,t,r,e),t.lanes=n,t}function Hu(t,e,n,r){return t=vn(22,t,r,e),t.elementType=Gx,t.lanes=n,t.stateNode={isHidden:!1},t}function ih(t,e,n){return t=vn(6,t,null,e),t.lanes=n,t}function oh(t,e,n){return e=vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IT(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wm(t,e,n,r,s,i,a,c,u){return t=new IT(t,e,n,c,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},km(i),t}function ST(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$i,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mw(t){if(!t)return js;t=t._reactInternals;e:{if(Ni(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Xt(n))return Mv(t,n,e)}return e}function Fw(t,e,n,r,s,i,a,c,u){return t=Wm(n,r,!0,t,s,i,a,c,u),t.context=Mw(null),n=t.current,r=Ft(),s=Ns(n),i=Cr(r,s),i.callback=e??null,_s(n,i,s),t.current.lanes=s,pl(t,s,r),Jt(t,r),t}function Gu(t,e,n,r){var s=e.current,i=Ft(),a=Ns(s);return n=Mw(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(i,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(s,e,a),t!==null&&(Fn(t,s,a,i),Ec(t,s,a)),a}function du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function D0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hm(t,e){D0(t,e),(t=t.alternate)&&D0(t,e)}function kT(){return null}var Uw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gm(t){this._internalRoot=t}Ku.prototype.render=Gm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Gu(t,e,null,null)};Ku.prototype.unmount=Gm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;mi(function(){Gu(null,t,null,null)}),e[Or]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=yv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ss.length&&e!==0&&e<ss[n].priority;n++);ss.splice(n,0,t),n===0&&vv(t)}};function Km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function O0(){}function AT(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=du(a);i.call(d)}}var a=Fw(e,r,t,0,null,!1,!1,"",O0);return t._reactRootContainer=a,t[Or]=a.current,Ka(t.nodeType===8?t.parentNode:t),mi(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var d=du(u);c.call(d)}}var u=Wm(t,0,!1,null,null,!1,!1,"",O0);return t._reactRootContainer=u,t[Or]=u.current,Ka(t.nodeType===8?t.parentNode:t),mi(function(){Gu(e,u,n,r)}),u}function Yu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var c=s;s=function(){var u=du(a);c.call(u)}}Gu(e,a,t,s)}else a=AT(n,e,t,s,r);return du(a)}pv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pa(e.pendingLanes);n!==0&&(fm(e,n|1),Jt(e,Ye()),!(we&6)&&(wo=Ye()+500,Vs()))}break;case 13:mi(function(){var r=Lr(t,1);if(r!==null){var s=Ft();Fn(r,t,1,s)}}),Hm(t,1)}};mm=function(t){if(t.tag===13){var e=Lr(t,134217728);if(e!==null){var n=Ft();Fn(e,t,134217728,n)}Hm(t,134217728)}};gv=function(t){if(t.tag===13){var e=Ns(t),n=Lr(t,e);if(n!==null){var r=Ft();Fn(n,t,e,r)}Hm(t,e)}};yv=function(){return Ae};xv=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Mh=function(t,e,n){switch(e){case"input":if(Ch(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Uu(r);if(!s)throw Error(z(90));Qx(r),Ch(r,s)}}}break;case"textarea":Xx(t,n);break;case"select":e=n.value,e!=null&&eo(t,!!n.multiple,e,!1)}};sv=$m;iv=mi;var jT={usingClientEntryPoint:!1,Events:[yl,Hi,Uu,nv,rv,$m]},la={findFiberByHostInstance:ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CT={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lv(t),t===null?null:t.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||kT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{Lu=ac.inject(CT),tr=ac}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jT;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Km(e))throw Error(z(200));return ST(t,e,null,n)};dn.createRoot=function(t,e){if(!Km(t))throw Error(z(299));var n=!1,r="",s=Uw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wm(t,1,!1,null,null,n,!1,r,s),t[Or]=e.current,Ka(t.nodeType===8?t.parentNode:t),new Gm(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=lv(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return mi(t)};dn.hydrate=function(t,e,n){if(!Qu(e))throw Error(z(200));return Yu(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!Km(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=Uw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Fw(e,null,t,1,n??null,s,!1,i,a),t[Or]=e.current,Ka(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ku(e)};dn.render=function(t,e,n){if(!Qu(e))throw Error(z(200));return Yu(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Qu(t))throw Error(z(40));return t._reactRootContainer?(mi(function(){Yu(null,null,t,!1,function(){t._reactRootContainer=null,t[Or]=null})}),!0):!1};dn.unstable_batchedUpdates=$m;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qu(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Yu(t,e,n,!1,r)};dn.version="18.3.1-next-f1338f8080-20240426";function $w(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($w)}catch(t){console.error(t)}}$w(),$x.exports=dn;var RT=$x.exports,zw,L0=RT;zw=L0.createRoot,L0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}var ms;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ms||(ms={}));const V0="popstate";function PT(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:a,hash:c}=r.location;return xf("",{pathname:i,search:a,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:hu(s)}return OT(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DT(){return Math.random().toString(36).substr(2,8)}function M0(t,e){return{usr:t.state,key:t.key,idx:e}}function xf(t,e,n,r){return n===void 0&&(n=null),rl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lo(e):e,{state:n,key:e&&e.key||r||DT()})}function hu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Lo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function OT(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,c=ms.Pop,u=null,d=f();d==null&&(d=0,a.replaceState(rl({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){c=ms.Pop;let j=f(),N=j==null?null:j-d;d=j,u&&u({action:c,location:S.location,delta:N})}function g(j,N){c=ms.Push;let x=xf(S.location,j,N);d=f()+1;let b=M0(x,d),L=S.createHref(x);try{a.pushState(b,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(L)}i&&u&&u({action:c,location:S.location,delta:1})}function w(j,N){c=ms.Replace;let x=xf(S.location,j,N);d=f();let b=M0(x,d),L=S.createHref(x);a.replaceState(b,"",L),i&&u&&u({action:c,location:S.location,delta:0})}function _(j){let N=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof j=="string"?j:hu(j);return x=x.replace(/ $/,"%20"),Xe(N,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,N)}let S={get action(){return c},get location(){return t(s,a)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(V0,p),u=j,()=>{s.removeEventListener(V0,p),u=null}},createHref(j){return e(s,j)},createURL:_,encodeLocation(j){let N=_(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:w,go(j){return a.go(j)}};return S}var F0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(F0||(F0={}));function LT(t,e,n){return n===void 0&&(n="/"),VT(t,e,n,!1)}function VT(t,e,n,r){let s=typeof e=="string"?Lo(e):e,i=Qm(s.pathname||"/",n);if(i==null)return null;let a=qw(t);MT(a);let c=null;for(let u=0;c==null&&u<a.length;++u){let d=QT(i);c=GT(a[u],d,r)}return c}function qw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,a,c)=>{let u={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};u.relativePath.startsWith("/")&&(Xe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ts([r,u.relativePath]),f=n.concat(u);i.children&&i.children.length>0&&(Xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),qw(i.children,e,f,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:WT(d,i.index),routesMeta:f})};return t.forEach((i,a)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,a);else for(let u of Ww(i.path))s(i,a,u)}),e}function Ww(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let a=Ww(r.join("/")),c=[];return c.push(...a.map(u=>u===""?i:[i,u].join("/"))),s&&c.push(...a),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function MT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:HT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FT=/^:[\w-]+$/,UT=3,$T=2,zT=1,BT=10,qT=-2,U0=t=>t==="*";function WT(t,e){let n=t.split("/"),r=n.length;return n.some(U0)&&(r+=qT),e&&(r+=$T),n.filter(s=>!U0(s)).reduce((s,i)=>s+(FT.test(i)?UT:i===""?zT:BT),r)}function HT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function GT(t,e,n){let{routesMeta:r}=t,s={},i="/",a=[];for(let c=0;c<r.length;++c){let u=r[c],d=c===r.length-1,f=i==="/"?e:e.slice(i.length)||"/",p=$0({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!p&&d&&n&&!r[r.length-1].route.index&&(p=$0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(s,p.params),a.push({params:s,pathname:Ts([i,p.pathname]),pathnameBase:ZT(Ts([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Ts([i,p.pathnameBase]))}return a}function $0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=KT(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,f,p)=>{let{paramName:g,isOptional:w}=f;if(g==="*"){let S=c[p]||"";a=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const _=c[p];return w&&!_?d[g]=void 0:d[g]=(_||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:a,pattern:t}}function KT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function QT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function YT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Lo(t):t;return{pathname:n?n.startsWith("/")?n:XT(n,e):e,search:e2(r),hash:t2(s)}}function XT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function JT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ym(t,e){let n=JT(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Lo(t):(s=rl({},t),Xe(!s.pathname||!s.pathname.includes("?"),ah("?","pathname","search",s)),Xe(!s.pathname||!s.pathname.includes("#"),ah("#","pathname","hash",s)),Xe(!s.search||!s.search.includes("#"),ah("#","search","hash",s)));let i=t===""||s.pathname==="",a=i?"/":s.pathname,c;if(a==null)c=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=YT(s,c),d=a&&a!=="/"&&a.endsWith("/"),f=(i||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}const Ts=t=>t.join("/").replace(/\/\/+/g,"/"),ZT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hw=["post","put","patch","delete"];new Set(Hw);const r2=["get",...Hw];new Set(r2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}const Jm=A.createContext(null),s2=A.createContext(null),Ms=A.createContext(null),Xu=A.createContext(null),ur=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Gw=A.createContext(null);function i2(t,e){let{relative:n}=e===void 0?{}:e;Vo()||Xe(!1);let{basename:r,navigator:s}=A.useContext(Ms),{hash:i,pathname:a,search:c}=Qw(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Ts([r,a])),s.createHref({pathname:u,search:c,hash:i})}function Vo(){return A.useContext(Xu)!=null}function Fs(){return Vo()||Xe(!1),A.useContext(Xu).location}function Kw(t){A.useContext(Ms).static||A.useLayoutEffect(t)}function Ju(){let{isDataRoute:t}=A.useContext(ur);return t?_2():o2()}function o2(){Vo()||Xe(!1);let t=A.useContext(Jm),{basename:e,future:n,navigator:r}=A.useContext(Ms),{matches:s}=A.useContext(ur),{pathname:i}=Fs(),a=JSON.stringify(Ym(s,n.v7_relativeSplatPath)),c=A.useRef(!1);return Kw(()=>{c.current=!0}),A.useCallback(function(d,f){if(f===void 0&&(f={}),!c.current)return;if(typeof d=="number"){r.go(d);return}let p=Xm(d,JSON.parse(a),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Ts([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,a,i,t])}const a2=A.createContext(null);function l2(t){let e=A.useContext(ur).outlet;return e&&A.createElement(a2.Provider,{value:t},e)}function c2(){let{matches:t}=A.useContext(ur),e=t[t.length-1];return e?e.params:{}}function Qw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Ms),{matches:s}=A.useContext(ur),{pathname:i}=Fs(),a=JSON.stringify(Ym(s,r.v7_relativeSplatPath));return A.useMemo(()=>Xm(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function u2(t,e){return d2(t,e)}function d2(t,e,n,r){Vo()||Xe(!1);let{navigator:s}=A.useContext(Ms),{matches:i}=A.useContext(ur),a=i[i.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Fs(),f;if(e){var p;let j=typeof e=="string"?Lo(e):e;u==="/"||(p=j.pathname)!=null&&p.startsWith(u)||Xe(!1),f=j}else f=d;let g=f.pathname||"/",w=g;if(u!=="/"){let j=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let _=LT(t,{pathname:w}),S=g2(_&&_.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:Ts([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Ts([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return e&&S?A.createElement(Xu.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ms.Pop}},S):S}function h2(){let t=w2(),e=n2(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:s},n):null,null)}const f2=A.createElement(h2,null);class m2 extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(ur.Provider,{value:this.props.routeContext},A.createElement(Gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function p2(t){let{routeContext:e,match:n,children:r}=t,s=A.useContext(Jm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(ur.Provider,{value:e},r)}function g2(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,c=(s=n)==null?void 0:s.errors;if(c!=null){let f=a.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);f>=0||Xe(!1),a=a.slice(0,Math.min(a.length,f+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:w}=n,_=p.route.loader&&g[p.route.id]===void 0&&(!w||w[p.route.id]===void 0);if(p.route.lazy||_){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,g)=>{let w,_=!1,S=null,j=null;n&&(w=c&&p.route.id?c[p.route.id]:void 0,S=p.route.errorElement||f2,u&&(d<0&&g===0?(_=!0,j=null):d===g&&(_=!0,j=p.route.hydrateFallbackElement||null)));let N=e.concat(a.slice(0,g+1)),x=()=>{let b;return w?b=S:_?b=j:p.route.Component?b=A.createElement(p.route.Component,null):p.route.element?b=p.route.element:b=f,A.createElement(p2,{match:p,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:b})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?A.createElement(m2,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:x(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):x()},null)}var Yw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yw||{}),fu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fu||{});function y2(t){let e=A.useContext(Jm);return e||Xe(!1),e}function x2(t){let e=A.useContext(s2);return e||Xe(!1),e}function v2(t){let e=A.useContext(ur);return e||Xe(!1),e}function Xw(t){let e=v2(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function w2(){var t;let e=A.useContext(Gw),n=x2(fu.UseRouteError),r=Xw(fu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _2(){let{router:t}=y2(Yw.UseNavigateStable),e=Xw(fu.UseNavigateStable),n=A.useRef(!1);return Kw(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sl({fromRouteId:e},i)))},[t,e])}function E2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function z0(t){let{to:e,replace:n,state:r,relative:s}=t;Vo()||Xe(!1);let{future:i,static:a}=A.useContext(Ms),{matches:c}=A.useContext(ur),{pathname:u}=Fs(),d=Ju(),f=Xm(e,Ym(c,i.v7_relativeSplatPath),u,s==="path"),p=JSON.stringify(f);return A.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:s}),[d,p,s,n,r]),null}function N2(t){return l2(t.context)}function Wt(t){Xe(!1)}function b2(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ms.Pop,navigator:i,static:a=!1,future:c}=t;Vo()&&Xe(!1);let u=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:u,navigator:i,static:a,future:sl({v7_relativeSplatPath:!1},c)}),[u,c,i,a]);typeof r=="string"&&(r=Lo(r));let{pathname:f="/",search:p="",hash:g="",state:w=null,key:_="default"}=r,S=A.useMemo(()=>{let j=Qm(f,u);return j==null?null:{location:{pathname:j,search:p,hash:g,state:w,key:_},navigationType:s}},[u,f,p,g,w,_,s]);return S==null?null:A.createElement(Ms.Provider,{value:d},A.createElement(Xu.Provider,{children:n,value:S}))}function T2(t){let{children:e,location:n}=t;return u2(vf(e),n)}new Promise(()=>{});function vf(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,s)=>{if(!A.isValidElement(r))return;let i=[...e,s];if(r.type===A.Fragment){n.push.apply(n,vf(r.props.children,i));return}r.type!==Wt&&Xe(!1),!r.props.index||!r.props.children||Xe(!1);let a={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=vf(r.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}function I2(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function S2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k2(t,e){return t.button===0&&(!e||e==="_self")&&!S2(t)}const A2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],j2="6";try{window.__reactRouterVersion=j2}catch{}const C2="startTransition",B0=_N[C2];function R2(t){let{basename:e,children:n,future:r,window:s}=t,i=A.useRef();i.current==null&&(i.current=PT({window:s,v5Compat:!0}));let a=i.current,[c,u]=A.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},f=A.useCallback(p=>{d&&B0?B0(()=>u(p)):u(p)},[u,d]);return A.useLayoutEffect(()=>a.listen(f),[a,f]),A.useEffect(()=>E2(r),[r]),A.createElement(b2,{basename:e,children:n,location:c.location,navigationType:c.action,navigator:a,future:r})}const P2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=A.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:a,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,g=I2(e,A2),{basename:w}=A.useContext(Ms),_,S=!1;if(typeof d=="string"&&D2.test(d)&&(_=d,P2))try{let b=new URL(window.location.href),L=d.startsWith("//")?new URL(b.protocol+d):new URL(d),F=Qm(L.pathname,w);L.origin===b.origin&&F!=null?d=F+L.search+L.hash:S=!0}catch{}let j=i2(d,{relative:s}),N=O2(d,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,viewTransition:p});function x(b){r&&r(b),b.defaultPrevented||N(b)}return A.createElement("a",wf({},g,{href:_||j,onClick:S||i?r:x,ref:n,target:u}))});var q0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(q0||(q0={}));var W0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(W0||(W0={}));function O2(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:a,viewTransition:c}=e===void 0?{}:e,u=Ju(),d=Fs(),f=Qw(t,{relative:a});return A.useCallback(p=>{if(k2(p,n)){p.preventDefault();let g=r!==void 0?r:hu(d)===hu(f);u(t,{replace:g,state:s,preventScrollReset:i,relative:a,viewTransition:c})}},[d,u,f,r,s,n,t,i,a,c])}var L2=typeof Element<"u",V2=typeof Map=="function",M2=typeof Set=="function",F2=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Ac(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ac(t[r],e[r]))return!1;return!0}var i;if(V2&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;for(i=t.entries();!(r=i.next()).done;)if(!Ac(r.value[1],e.get(r.value[0])))return!1;return!0}if(M2&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(r=i.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(F2&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;if(L2&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((s[r]==="_owner"||s[r]==="__v"||s[r]==="__o")&&t.$$typeof)&&!Ac(t[s[r]],e[s[r]]))return!1;return!0}return t!==t&&e!==e}var U2=function(e,n){try{return Ac(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const $2=Du(U2);var z2=function(t,e,n,r,s,i,a,c){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,i,a,c],f=0;u=new Error(e.replace(/%s/g,function(){return d[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},B2=z2;const H0=Du(B2);var q2=function(e,n,r,s){var i=r?r.call(s,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var a=Object.keys(e),c=Object.keys(n);if(a.length!==c.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),d=0;d<a.length;d++){var f=a[d];if(!u(f))return!1;var p=e[f],g=n[f];if(i=r?r.call(s,p,g,f):void 0,i===!1||i===void 0&&p!==g)return!1}return!0};const W2=Du(q2);var Jw=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Jw||{}),lh={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},G0=Object.values(Jw),Zm={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},H2=Object.entries(Zm).reduce((t,[e,n])=>(t[n]=e,t),{}),Ln="data-rh",oo={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ao=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},G2=t=>{let e=ao(t,"title");const n=ao(t,oo.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=ao(t,oo.DEFAULT_TITLE);return e||r||void 0},K2=t=>ao(t,oo.ON_CHANGE_CLIENT_STATE)||(()=>{}),ch=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),Q2=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const s=Object.keys(r);for(let i=0;i<s.length;i+=1){const c=s[i].toLowerCase();if(t.indexOf(c)!==-1&&r[c])return n.concat(r)}}return n},[]),Y2=t=>console&&typeof console.warn=="function"&&console.warn(t),ca=(t,e,n)=>{const r={};return n.filter(s=>Array.isArray(s[t])?!0:(typeof s[t]<"u"&&Y2(`Helmet: ${t} should be of type "Array". Instead found type "${typeof s[t]}"`),!1)).map(s=>s[t]).reverse().reduce((s,i)=>{const a={};i.filter(u=>{let d;const f=Object.keys(u);for(let g=0;g<f.length;g+=1){const w=f[g],_=w.toLowerCase();e.indexOf(_)!==-1&&!(d==="rel"&&u[d].toLowerCase()==="canonical")&&!(_==="rel"&&u[_].toLowerCase()==="stylesheet")&&(d=_),e.indexOf(w)!==-1&&(w==="innerHTML"||w==="cssText"||w==="itemprop")&&(d=w)}if(!d||!u[d])return!1;const p=u[d].toLowerCase();return r[d]||(r[d]={}),a[d]||(a[d]={}),r[d][p]?!1:(a[d][p]=!0,!0)}).reverse().forEach(u=>s.push(u));const c=Object.keys(a);for(let u=0;u<c.length;u+=1){const d=c[u],f={...r[d],...a[d]};r[d]=f}return s},[]).reverse()},X2=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},J2=t=>({baseTag:Q2(["href"],t),bodyAttributes:ch("bodyAttributes",t),defer:ao(t,oo.DEFER),encode:ao(t,oo.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ch("htmlAttributes",t),linkTags:ca("link",["rel","href"],t),metaTags:ca("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:ca("noscript",["innerHTML"],t),onChangeClientState:K2(t),scriptTags:ca("script",["src","innerHTML"],t),styleTags:ca("style",["cssText"],t),title:G2(t),titleAttributes:ch("titleAttributes",t),prioritizeSeoTags:X2(t,oo.PRIORITIZE_SEO_TAGS)}),Zw=t=>Array.isArray(t)?t.join(""):t,Z2=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},uh=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(Z2(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},K0=(t,e)=>({...t,[e]:void 0}),eI=["noscript","script","style"],_f=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),e_=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),tI=(t,e,n,r)=>{const s=e_(n),i=Zw(e);return s?`<${t} ${Ln}="true" ${s}>${_f(i,r)}</${t}>`:`<${t} ${Ln}="true">${_f(i,r)}</${t}>`},nI=(t,e,n=!0)=>e.reduce((r,s)=>{const i=s,a=Object.keys(i).filter(d=>!(d==="innerHTML"||d==="cssText")).reduce((d,f)=>{const p=typeof i[f]>"u"?f:`${f}="${_f(i[f],n)}"`;return d?`${d} ${p}`:p},""),c=i.innerHTML||i.cssText||"",u=eI.indexOf(t)===-1;return`${r}<${t} ${Ln}="true" ${a}${u?"/>":`>${c}</${t}>`}`},""),t_=(t,e={})=>Object.keys(t).reduce((n,r)=>{const s=Zm[r];return n[s||r]=t[r],n},e),rI=(t,e,n)=>{const r={key:e,[Ln]:!0},s=t_(n,r);return[br.createElement("title",s,e)]},jc=(t,e)=>e.map((n,r)=>{const s={key:r,[Ln]:!0};return Object.keys(n).forEach(i=>{const c=Zm[i]||i;if(c==="innerHTML"||c==="cssText"){const u=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[c]=n[i]}),br.createElement(t,s)}),gn=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>rI(t,e.title,e.titleAttributes),toString:()=>tI(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>t_(e),toString:()=>e_(e)};default:return{toComponent:()=>jc(t,e),toString:()=>nI(t,e,n)}}},sI=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const s=uh(t,lh.meta),i=uh(e,lh.link),a=uh(n,lh.script);return{priorityMethods:{toComponent:()=>[...jc("meta",s.priority),...jc("link",i.priority),...jc("script",a.priority)],toString:()=>`${gn("meta",s.priority,r)} ${gn("link",i.priority,r)} ${gn("script",a.priority,r)}`},metaTags:s.default,linkTags:i.default,scriptTags:a.default}},iI=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:s,noscriptTags:i,styleTags:a,title:c="",titleAttributes:u,prioritizeSeoTags:d}=t;let{linkTags:f,metaTags:p,scriptTags:g}=t,w={toComponent:()=>{},toString:()=>""};return d&&({priorityMethods:w,linkTags:f,metaTags:p,scriptTags:g}=sI(t)),{priority:w,base:gn("base",e,r),bodyAttributes:gn("bodyAttributes",n,r),htmlAttributes:gn("htmlAttributes",s,r),link:gn("link",f,r),meta:gn("meta",p,r),noscript:gn("noscript",i,r),script:gn("script",g,r),style:gn("style",a,r),title:gn("title",{title:c,titleAttributes:u},r)}},Ef=iI,lc=[],n_=!!(typeof window<"u"&&window.document&&window.document.createElement),Nf=class{constructor(t,e){vr(this,"instances",[]);vr(this,"canUseDOM",n_);vr(this,"context");vr(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?lc:this.instances,add:t=>{(this.canUseDOM?lc:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?lc:this.instances).indexOf(t);(this.canUseDOM?lc:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=Ef({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},oI={},r_=br.createContext(oI),ii,s_=(ii=class extends A.Component{constructor(n){super(n);vr(this,"helmetData");this.helmetData=new Nf(this.props.context||{},ii.canUseDOM)}render(){return br.createElement(r_.Provider,{value:this.helmetData.value},this.props.children)}},vr(ii,"canUseDOM",n_),ii),Vi=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Ln}]`),s=[].slice.call(r),i=[];let a;return e&&e.length&&e.forEach(c=>{const u=document.createElement(t);for(const d in c)if(Object.prototype.hasOwnProperty.call(c,d))if(d==="innerHTML")u.innerHTML=c.innerHTML;else if(d==="cssText")u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{const f=d,p=typeof c[f]>"u"?"":c[f];u.setAttribute(d,p)}u.setAttribute(Ln,"true"),s.some((d,f)=>(a=f,u.isEqualNode(d)))?s.splice(a,1):i.push(u)}),s.forEach(c=>{var u;return(u=c.parentNode)==null?void 0:u.removeChild(c)}),i.forEach(c=>n.appendChild(c)),{oldTags:s,newTags:i}},bf=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Ln),s=r?r.split(","):[],i=[...s],a=Object.keys(e);for(const c of a){const u=e[c]||"";n.getAttribute(c)!==u&&n.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);const d=i.indexOf(c);d!==-1&&i.splice(d,1)}for(let c=i.length-1;c>=0;c-=1)n.removeAttribute(i[c]);s.length===i.length?n.removeAttribute(Ln):n.getAttribute(Ln)!==a.join(",")&&n.setAttribute(Ln,a.join(","))},aI=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=Zw(t)),bf("title",e)},Q0=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:s,linkTags:i,metaTags:a,noscriptTags:c,onChangeClientState:u,scriptTags:d,styleTags:f,title:p,titleAttributes:g}=t;bf("body",r),bf("html",s),aI(p,g);const w={baseTag:Vi("base",n),linkTags:Vi("link",i),metaTags:Vi("meta",a),noscriptTags:Vi("noscript",c),scriptTags:Vi("script",d),styleTags:Vi("style",f)},_={},S={};Object.keys(w).forEach(j=>{const{newTags:N,oldTags:x}=w[j];N.length&&(_[j]=N),x.length&&(S[j]=w[j].oldTags)}),e&&e(),u(t,_,S)},ua=null,lI=t=>{ua&&cancelAnimationFrame(ua),t.defer?ua=requestAnimationFrame(()=>{Q0(t,()=>{ua=null})}):(Q0(t),ua=null)},cI=lI,Y0=class extends A.Component{constructor(){super(...arguments);vr(this,"rendered",!1)}shouldComponentUpdate(e){return!W2(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const s=J2(e.get().map(i=>{const a={...i.props};return delete a.context,a}));s_.canUseDOM?cI(s):Ef&&(r=Ef(s)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},bh,qn=(bh=class extends A.Component{shouldComponentUpdate(t){return!$2(K0(this.props,"helmetData"),K0(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return H0(G0.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${G0.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),H0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return br.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:s,...i}=r.props,a=Object.keys(i).reduce((u,d)=>(u[H2[d]||d]=i[d],u),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,s),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(s,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,a,s);break;default:e=this.mapObjectTypeChildren(r,e,a,s);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof Nf)){const s=r;r=new Nf(s.context,!0),delete n.helmetData}return r?br.createElement(Y0,{...n,context:r.value}):br.createElement(r_.Consumer,null,s=>br.createElement(Y0,{...n,context:s}))}},vr(bh,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),bh);let uI={data:""},dI=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||uI,hI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,fI=/\/\*[^]*?\*\/|  +/g,X0=/\n+/g,os=(t,e)=>{let n="",r="",s="";for(let i in t){let a=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+a+";":r+=i[1]=="f"?os(a,i):i+"{"+os(a,i[1]=="k"?"":e)+"}":typeof a=="object"?r+=os(a,e?e.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=os.p?os.p(i,a):i+":"+a+";")}return n+(e&&s?e+"{"+s+"}":s)+r},wr={},i_=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+i_(t[n]);return e}return t},mI=(t,e,n,r,s)=>{let i=i_(t),a=wr[i]||(wr[i]=(u=>{let d=0,f=11;for(;d<u.length;)f=101*f+u.charCodeAt(d++)>>>0;return"go"+f})(i));if(!wr[a]){let u=i!==t?t:(d=>{let f,p,g=[{}];for(;f=hI.exec(d.replace(fI,""));)f[4]?g.shift():f[3]?(p=f[3].replace(X0," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(X0," ").trim();return g[0]})(t);wr[a]=os(s?{["@keyframes "+a]:u}:u,n?"":"."+a)}let c=n&&wr.g?wr.g:null;return n&&(wr.g=wr[a]),((u,d,f,p)=>{p?d.data=d.data.replace(p,u):d.data.indexOf(u)===-1&&(d.data=f?u+d.data:d.data+u)})(wr[a],e,r,c),a},pI=(t,e,n)=>t.reduce((r,s,i)=>{let a=e[i];if(a&&a.call){let c=a(n),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;a=u?"."+u:c&&typeof c=="object"?c.props?"":os(c,""):c===!1?"":c}return r+s+(a??"")},"");function Zu(t){let e=this||{},n=t.call?t(e.p):t;return mI(n.unshift?n.raw?pI(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,dI(e.target),e.g,e.o,e.k)}let o_,Tf,If;Zu.bind({g:1});let Mr=Zu.bind({k:1});function gI(t,e,n,r){os.p=e,o_=t,Tf=n,If=r}function Us(t,e){let n=this||{};return function(){let r=arguments;function s(i,a){let c=Object.assign({},i),u=c.className||s.className;n.p=Object.assign({theme:Tf&&Tf()},c),n.o=/ *go\d+/.test(u),c.className=Zu.apply(n,r)+(u?" "+u:"");let d=t;return t[0]&&(d=c.as||t,delete c.as),If&&d[0]&&If(c),o_(d,c)}return s}}var yI=t=>typeof t=="function",mu=(t,e)=>yI(t)?t(e):t,xI=(()=>{let t=0;return()=>(++t).toString()})(),a_=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),vI=20,l_=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,vI)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return l_(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Cc=[],ri={toasts:[],pausedAt:void 0},bi=t=>{ri=l_(ri,t),Cc.forEach(e=>{e(ri)})},wI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},_I=(t={})=>{let[e,n]=A.useState(ri),r=A.useRef(ri);A.useEffect(()=>(r.current!==ri&&n(ri),Cc.push(n),()=>{let i=Cc.indexOf(n);i>-1&&Cc.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,c,u;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((a=t[i.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((c=t[i.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||wI[i.type],style:{...t.style,...(u=t[i.type])==null?void 0:u.style,...i.style}}});return{...e,toasts:s}},EI=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||xI()}),vl=t=>(e,n)=>{let r=EI(e,t,n);return bi({type:2,toast:r}),r.id},Lt=(t,e)=>vl("blank")(t,e);Lt.error=vl("error");Lt.success=vl("success");Lt.loading=vl("loading");Lt.custom=vl("custom");Lt.dismiss=t=>{bi({type:3,toastId:t})};Lt.remove=t=>bi({type:4,toastId:t});Lt.promise=(t,e,n)=>{let r=Lt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?mu(e.success,s):void 0;return i?Lt.success(i,{id:r,...n,...n==null?void 0:n.success}):Lt.dismiss(r),s}).catch(s=>{let i=e.error?mu(e.error,s):void 0;i?Lt.error(i,{id:r,...n,...n==null?void 0:n.error}):Lt.dismiss(r)}),t};var NI=(t,e)=>{bi({type:1,toast:{id:t,height:e}})},bI=()=>{bi({type:5,time:Date.now()})},Ra=new Map,TI=1e3,II=(t,e=TI)=>{if(Ra.has(t))return;let n=setTimeout(()=>{Ra.delete(t),bi({type:4,toastId:t})},e);Ra.set(t,n)},SI=t=>{let{toasts:e,pausedAt:n}=_I(t);A.useEffect(()=>{if(n)return;let i=Date.now(),a=e.map(c=>{if(c.duration===1/0)return;let u=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(u<0){c.visible&&Lt.dismiss(c.id);return}return setTimeout(()=>Lt.dismiss(c.id),u)});return()=>{a.forEach(c=>c&&clearTimeout(c))}},[e,n]);let r=A.useCallback(()=>{n&&bi({type:6,time:Date.now()})},[n]),s=A.useCallback((i,a)=>{let{reverseOrder:c=!1,gutter:u=8,defaultPosition:d}=a||{},f=e.filter(w=>(w.position||d)===(i.position||d)&&w.height),p=f.findIndex(w=>w.id===i.id),g=f.filter((w,_)=>_<p&&w.visible).length;return f.filter(w=>w.visible).slice(...c?[g+1]:[0,g]).reduce((w,_)=>w+(_.height||0)+u,0)},[e]);return A.useEffect(()=>{e.forEach(i=>{if(i.dismissed)II(i.id,i.removeDelay);else{let a=Ra.get(i.id);a&&(clearTimeout(a),Ra.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:NI,startPause:bI,endPause:r,calculateOffset:s}}},kI=Mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,AI=Mr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jI=Mr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,CI=Us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${kI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${AI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,RI=Mr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,PI=Us("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${RI} 1s linear infinite;
`,DI=Mr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OI=Mr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,LI=Us("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,VI=Us("div")`
  position: absolute;
`,MI=Us("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,FI=Mr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UI=Us("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${FI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$I=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?A.createElement(UI,null,e):e:n==="blank"?null:A.createElement(MI,null,A.createElement(PI,{...r}),n!=="loading"&&A.createElement(VI,null,n==="error"?A.createElement(CI,{...r}):A.createElement(LI,{...r})))},zI=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,BI=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,qI="0%{opacity:0;} 100%{opacity:1;}",WI="0%{opacity:1;} 100%{opacity:0;}",HI=Us("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,GI=Us("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,KI=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=a_()?[qI,WI]:[zI(n),BI(n)];return{animation:e?`${Mr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},QI=A.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?KI(t.position||e||"top-center",t.visible):{opacity:0},i=A.createElement($I,{toast:t}),a=A.createElement(GI,{...t.ariaProps},mu(t.message,t));return A.createElement(HI,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:a}):A.createElement(A.Fragment,null,i,a))});gI(A.createElement);var YI=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=A.useCallback(a=>{if(a){let c=()=>{let u=a.getBoundingClientRect().height;r(t,u)};c(),new MutationObserver(c).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return A.createElement("div",{ref:i,className:e,style:n},s)},XI=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:a_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},JI=Zu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,cc=16,ZI=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:c,handlers:u}=SI(n);return A.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:cc,left:cc,right:cc,bottom:cc,pointerEvents:"none",...i},className:a,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let f=d.position||e,p=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),g=XI(f,p);return A.createElement(YI,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?JI:"",style:g},d.type==="custom"?mu(d.message,d):s?s(d):A.createElement(QI,{toast:d,position:f}))}))},J=Lt,J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eS=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],a=t[n++],c=t[n++],u=((s&7)<<18|(i&63)<<12|(a&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],a=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|a&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],a=s+1<t.length,c=a?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,f=i>>2,p=(i&3)<<4|c>>4;let g=(c&15)<<2|d>>6,w=d&63;u||(w=64,a||(g=64)),r.push(n[f],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(c_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||c==null||d==null||p==null)throw new tS;const g=i<<2|c>>4;if(r.push(g),d!==64){const w=c<<4&240|d>>2;if(r.push(w),p!==64){const _=d<<6&192|p;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nS=function(t){const e=c_(t);return u_.encodeByteArray(e,!0)},pu=function(t){return nS(t).replace(/\./g,"")},d_=function(t){try{return u_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=()=>rS().__FIREBASE_DEFAULTS__,iS=()=>{if(typeof process>"u"||typeof J0>"u")return;const t=J0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&d_(t[1]);return e&&JSON.parse(e)},ed=()=>{try{return sS()||iS()||oS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},h_=t=>{var e,n;return(n=(e=ed())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},f_=t=>{const e=h_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m_=()=>{var t;return(t=ed())===null||t===void 0?void 0:t.config},p_=t=>{var e;return(e=ed())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pu(JSON.stringify(n)),pu(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function cS(){var t;const e=(t=ed())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fS(){const t=Rt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mS(){return!cS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pS(){try{return typeof indexedDB=="object"}catch{return!1}}function gS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yS,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wl.prototype.create)}}class wl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],a=i?xS(i,r):"Error",c=`${this.serviceName}: ${a} (${s}).`;return new dr(s,c,r)}}function xS(t,e){return t.replace(vS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vS=/\{\$([^}]+)}/g;function wS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],a=e[s];if(Z0(i)&&Z0(a)){if(!il(i,a))return!1}else if(i!==a)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Z0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ya(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function xa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _S(t,e){const n=new ES(t,e);return n.subscribe.bind(n)}class ES{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NS(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dh),s.error===void 0&&(s.error=dh),s.complete===void 0&&(s.complete=dh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);r===c&&a.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const a=this.instances.get(s);return a&&e(a,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TS(t){return t===Zs?void 0:t}function IS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const kS={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},AS=ge.INFO,jS={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},CS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=jS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=AS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}const RS=(t,e)=>e.some(n=>t instanceof n);let ey,ty;function PS(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DS(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y_=new WeakMap,Sf=new WeakMap,x_=new WeakMap,hh=new WeakMap,tp=new WeakMap;function OS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Is(t.result)),s()},a=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&y_.set(n,t)}).catch(()=>{}),tp.set(e,t),e}function LS(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),s()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});Sf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VS(t){kf=t(kf)}function MS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fh(this),e,...n);return x_.set(r,e.sort?e.sort():[e]),Is(r)}:DS().includes(t)?function(...e){return t.apply(fh(this),e),Is(y_.get(this))}:function(...e){return Is(t.apply(fh(this),e))}}function FS(t){return typeof t=="function"?MS(t):(t instanceof IDBTransaction&&LS(t),RS(t,PS())?new Proxy(t,kf):t)}function Is(t){if(t instanceof IDBRequest)return OS(t);if(hh.has(t))return hh.get(t);const e=FS(t);return e!==t&&(hh.set(t,e),tp.set(e,t)),e}const fh=t=>tp.get(t);function US(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(t,e),c=Is(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Is(a.result),u.oldVersion,u.newVersion,Is(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const $S=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],mh=new Map;function ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mh.get(e))return mh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=zS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$S.includes(n)))return;const i=async function(a,...c){const u=this.transaction(a,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[n](...c),s&&u.done]))[0]};return mh.set(e,i),i}VS(t=>({...t,get:(e,n,r)=>ny(e,n)||t.get(e,n,r),has:(e,n)=>!!ny(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Af="@firebase/app",ry="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new ep("@firebase/app"),WS="@firebase/app-compat",HS="@firebase/analytics-compat",GS="@firebase/analytics",KS="@firebase/app-check-compat",QS="@firebase/app-check",YS="@firebase/auth",XS="@firebase/auth-compat",JS="@firebase/database",ZS="@firebase/data-connect",ek="@firebase/database-compat",tk="@firebase/functions",nk="@firebase/functions-compat",rk="@firebase/installations",sk="@firebase/installations-compat",ik="@firebase/messaging",ok="@firebase/messaging-compat",ak="@firebase/performance",lk="@firebase/performance-compat",ck="@firebase/remote-config",uk="@firebase/remote-config-compat",dk="@firebase/storage",hk="@firebase/storage-compat",fk="@firebase/firestore",mk="@firebase/vertexai-preview",pk="@firebase/firestore-compat",gk="firebase",yk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="[DEFAULT]",xk={[Af]:"fire-core",[WS]:"fire-core-compat",[GS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[KS]:"fire-app-check-compat",[YS]:"fire-auth",[XS]:"fire-auth-compat",[JS]:"fire-rtdb",[ZS]:"fire-data-connect",[ek]:"fire-rtdb-compat",[tk]:"fire-fn",[nk]:"fire-fn-compat",[rk]:"fire-iid",[sk]:"fire-iid-compat",[ik]:"fire-fcm",[ok]:"fire-fcm-compat",[ak]:"fire-perf",[lk]:"fire-perf-compat",[ck]:"fire-rc",[uk]:"fire-rc-compat",[dk]:"fire-gcs",[hk]:"fire-gcs-compat",[fk]:"fire-fst",[pk]:"fire-fst-compat",[mk]:"fire-vertex","fire-js":"fire-js",[gk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,vk=new Map,Cf=new Map;function sy(t,e){try{t.container.addComponent(e)}catch(n){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pi(t){const e=t.name;if(Cf.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;Cf.set(e,t);for(const n of gu.values())sy(n,t);for(const n of vk.values())sy(n,t);return!0}function td(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ss=new wl("app","Firebase",wk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=yk;function v_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jf,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ss.create("bad-app-name",{appName:String(s)});if(n||(n=m_()),!n)throw Ss.create("no-options");const i=gu.get(s);if(i){if(il(n,i.options)&&il(r,i.config))return i;throw Ss.create("duplicate-app",{appName:s})}const a=new SS(s);for(const u of Cf.values())a.addComponent(u);const c=new _k(n,r,a);return gu.set(s,c),c}function np(t=jf){const e=gu.get(t);if(!e&&t===jf&&m_())return v_();if(!e)throw Ss.create("no-app",{appName:t});return e}function rr(t,e,n){var r;let s=(r=xk[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&a&&c.push("and"),a&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(c.join(" "));return}pi(new Cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebase-heartbeat-database",Nk=1,ol="firebase-heartbeat-store";let ph=null;function w_(){return ph||(ph=US(Ek,Nk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ss.create("idb-open",{originalErrorMessage:t.message})})),ph}async function bk(t){try{const n=(await w_()).transaction(ol),r=await n.objectStore(ol).get(__(t));return await n.done,r}catch(e){if(e instanceof dr)Fr.warn(e.message);else{const n=Ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(n.message)}}}async function iy(t,e){try{const r=(await w_()).transaction(ol,"readwrite");await r.objectStore(ol).put(e,__(t)),await r.done}catch(n){if(n instanceof dr)Fr.warn(n.message);else{const r=Ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fr.warn(r.message)}}}function __(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=1024,Ik=30*24*60*60*1e3;class Sk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ak(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=oy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=Ik}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oy(),{heartbeatsToSend:r,unsentEntries:s}=kk(this._heartbeatsCache.heartbeats),i=pu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Fr.warn(n),""}}}function oy(){return new Date().toISOString().substring(0,10)}function kk(t,e=Tk){const n=[];let r=t.slice();for(const s of t){const i=n.find(a=>a.agent===s.agent);if(i){if(i.dates.push(s.date),ay(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ay(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pS()?gS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return iy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ay(t){return pu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(t){pi(new Cs("platform-logger",e=>new BS(e),"PRIVATE")),pi(new Cs("heartbeat",e=>new Sk(e),"PRIVATE")),rr(Af,ry,t),rr(Af,ry,"esm2017"),rr("fire-js","")}jk("");function rp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function E_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ck=E_,N_=new wl("auth","Firebase",E_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new ep("@firebase/auth");function Rk(t,...e){yu.logLevel<=ge.WARN&&yu.warn(`Auth (${Ti}): ${t}`,...e)}function Rc(t,...e){yu.logLevel<=ge.ERROR&&yu.error(`Auth (${Ti}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t,...e){throw sp(t,...e)}function sr(t,...e){return sp(t,...e)}function b_(t,e,n){const r=Object.assign(Object.assign({},Ck()),{[e]:n});return new wl("auth","Firebase",r).create(e,{appName:t.name})}function Rr(t){return b_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return N_.create(t,...e)}function se(t,e,...n){if(!t)throw sp(e,...n)}function Sr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rc(e),new Error(e)}function Ur(t,e){t||Sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Pk(){return ly()==="http:"||ly()==="https:"}function ly(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Pk()||dS()||"connection"in navigator)?navigator.onLine:!0}function Ok(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ur(n>e,"Short delay should be less than long delay!"),this.isMobile=lS()||hS()}get(){return Dk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t,e){Ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=new El(3e4,6e4);function qr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function hr(t,e,n,r,s={}){return I_(t,s,async()=>{let i={},a={};r&&(e==="GET"?a=r:i={body:JSON.stringify(r)});const c=_l(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:u},i);return uS()||(d.referrerPolicy="no-referrer"),T_.fetch()(S_(t,t.config.apiHost,n,c),d)})}async function I_(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lk),e);try{const s=new Fk(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw uc(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const c=i.ok?a.errorMessage:a.error.message,[u,d]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw uc(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw uc(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw uc(t,"user-disabled",a);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw b_(t,f,d);$n(t,f)}}catch(s){if(s instanceof dr)throw s;$n(t,"network-request-failed",{message:String(s)})}}async function Nl(t,e,n,r,s={}){const i=await hr(t,e,n,r,s);return"mfaPendingCredential"in i&&$n(t,"multi-factor-auth-required",{_serverResponse:i}),i}function S_(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ip(t.config,s):`${t.config.apiScheme}://${s}`}function Mk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fk{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),Vk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sr(t,e,r);return s.customData._tokenResponse=n,s}function cy(t){return t!==void 0&&t.enterprise!==void 0}class Uk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $k(t,e){return hr(t,"GET","/v2/recaptchaConfig",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e){return hr(t,"POST","/v1/accounts:delete",e)}async function k_(t,e){return hr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bk(t,e=!1){const n=Je(t),r=await n.getIdToken(e),s=op(r);se(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Pa(gh(s.auth_time)),issuedAtTime:Pa(gh(s.iat)),expirationTime:Pa(gh(s.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gh(t){return Number(t)*1e3}function op(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rc("JWT malformed, contained fewer than 3 sections"),null;try{const s=d_(n);return s?JSON.parse(s):(Rc("Failed to decode base64 JWT payload"),null)}catch(s){return Rc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function uy(t){const e=op(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&qk(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pa(this.lastLoginAt),this.creationTime=Pa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _o(t,k_(n,{idToken:r}));se(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const a=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?A_(i.providerUserInfo):[],c=Gk(t.providerData,a),u=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(c!=null&&c.length),f=u?d:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Pf(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function Hk(t){const e=Je(t);await xu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Gk(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function A_(t){return t.map(e=>{var{providerId:n}=e,r=rp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kk(t,e){const n=await I_(t,{},async()=>{const r=_l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,a=S_(t,s,"/v1/token",`key=${i}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",T_.fetch()(a,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Qk(t,e){return hr(t,"POST","/v2/accounts:revokeToken",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=uy(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Kk(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,a=new lo;return r&&(se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),s&&(se(typeof s=="string","internal-error",{appName:e}),a.accessToken=s),i&&(se(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class kr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bk(this,e)}reload(){return Hk(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await xu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await _o(this,zk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,a,c,u,d,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(a=n.photoURL)!==null&&a!==void 0?a:void 0,S=(c=n.tenantId)!==null&&c!==void 0?c:void 0,j=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,N=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:L,isAnonymous:F,providerData:$,stsTokenManager:T}=n;se(b&&T,e,"internal-error");const v=lo.fromJSON(this.name,T);se(typeof b=="string",e,"internal-error"),es(p,e.name),es(g,e.name),se(typeof L=="boolean",e,"internal-error"),se(typeof F=="boolean",e,"internal-error"),es(w,e.name),es(_,e.name),es(S,e.name),es(j,e.name),es(N,e.name),es(x,e.name);const I=new kr({uid:b,auth:e,email:g,emailVerified:L,displayName:p,isAnonymous:F,photoURL:_,phoneNumber:w,tenantId:S,stsTokenManager:v,createdAt:N,lastLoginAt:x});return $&&Array.isArray($)&&(I.providerData=$.map(k=>Object.assign({},k))),j&&(I._redirectEventId=j),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new lo;s.updateFromServerResponse(n);const i=new kr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];se(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?A_(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),c=new lo;c.updateFromIdToken(r);const u=new kr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:a}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function Ar(t){Ur(t instanceof Function,"Expected a class definition");let e=dy.get(t);return e?(Ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,dy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j_.type="NONE";const hy=j_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e,n){return`firebase:${t}:${e}:${n}`}class co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Pc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Pc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?kr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new co(Ar(hy),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Ar(hy);const a=Pc(r,e.config.apiKey,e.name);let c=null;for(const d of n)try{const f=await d._get(a);if(f){const p=kr._fromJSON(e,f);d!==i&&(c=p),i=d;break}}catch{}const u=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new co(i,e,r):(i=u[0],c&&await i._set(a,c.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(a)}catch{}})),new co(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L_(e))return"Blackberry";if(V_(e))return"Webos";if(R_(e))return"Safari";if((e.includes("chrome/")||P_(e))&&!e.includes("edge/"))return"Chrome";if(O_(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C_(t=Rt()){return/firefox\//i.test(t)}function R_(t=Rt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P_(t=Rt()){return/crios\//i.test(t)}function D_(t=Rt()){return/iemobile/i.test(t)}function O_(t=Rt()){return/android/i.test(t)}function L_(t=Rt()){return/blackberry/i.test(t)}function V_(t=Rt()){return/webos/i.test(t)}function ap(t=Rt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Yk(t=Rt()){var e;return ap(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xk(){return fS()&&document.documentMode===10}function M_(t=Rt()){return ap(t)||O_(t)||V_(t)||L_(t)||/windows phone/i.test(t)||D_(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e=[]){let n;switch(t){case"Browser":n=fy(Rt());break;case"Worker":n=`${fy(Rt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ti}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((a,c)=>{try{const u=e(i);a(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(t,e={}){return hr(t,"GET","/v2/passwordPolicy",qr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=6;class tA{constructor(e){var n,r,s,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:eA,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,a,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new my(this),this.idTokenSubscription=new my(this),this.beforeStateQueue=new Jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await k_(this,{idToken:e}),r=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Zn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===c)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ok()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(Rr(this));const n=e?Je(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zk(this),n=new tA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ar(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(c,this,"internal-error"),c.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Rk(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $s(t){return Je(t)}class my{constructor(e){this.auth=e,this.observer=null,this.addObserver=_S(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rA(t){nd=t}function U_(t){return nd.loadJS(t)}function sA(){return nd.recaptchaEnterpriseScript}function iA(){return nd.gapiScript}function oA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const aA="recaptcha-enterprise",lA="NO_RECAPTCHA";class cA{constructor(e){this.type=aA,this.auth=$s(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,c)=>{$k(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const d=new Uk(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,a(d.siteKey)}}).catch(u=>{c(u)})})}function s(i,a,c){const u=window.grecaptcha;cy(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{a(d)}).catch(()=>{a(lA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,a)=>{r(this.auth).then(c=>{if(!n&&cy(window.grecaptcha))s(c,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=sA();u.length!==0&&(u+=c),U_(u).then(()=>{s(c,i,a)}).catch(d=>{a(d)})}}).catch(c=>{a(c)})})}}async function py(t,e,n,r=!1){const s=new cA(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function vu(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await py(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await py(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(t,e){const n=td(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(il(i,e??{}))return s;$n(s,"already-initialized")}return n.initialize({options:e})}function dA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function hA(t,e,n){const r=$s(t);se(r._canInitEmulator,r,"emulator-config-failed"),se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=$_(e),{host:a,port:c}=fA(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${i}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:c,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),mA()}function $_(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fA(t){const e=$_(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:gy(r.substr(i.length+1))}}else{const[i,a]=r.split(":");return{host:i,port:gy(a)}}}function gy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mA(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,n){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function pA(t,e){return hr(t,"POST","/v1/accounts:update",e)}async function gA(t,e){return hr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(t,e){return Nl(t,"POST","/v1/accounts:signInWithPassword",qr(t,e))}async function xA(t,e){return hr(t,"POST","/v1/accounts:sendOobCode",qr(t,e))}async function vA(t,e){return xA(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t,e){return Nl(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}async function _A(t,e){return Nl(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends lp{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new al(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new al(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vu(e,n,"signInWithPassword",yA);case"emailLink":return wA(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vu(e,r,"signUpPassword",gA);case"emailLink":return _A(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e){return Nl(t,"POST","/v1/accounts:signInWithIdp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="http://localhost";class gi extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=rp(n,["providerId","signInMethod"]);if(!r||!s)return null;const a=new gi(r,s);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uo(e,n)}buildRequest(){const e={requestUri:EA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_l(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bA(t){const e=ya(xa(t)).link,n=e?ya(xa(e)).deep_link_id:null,r=ya(xa(t)).deep_link_id;return(r?ya(xa(r)).link:null)||r||n||e||t}class cp{constructor(e){var n,r,s,i,a,c;const u=ya(xa(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=NA((s=u.mode)!==null&&s!==void 0?s:null);se(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(a=u.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=bA(e);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.providerId=Ii.PROVIDER_ID}static credential(e,n){return al._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cp.parseLink(n);return se(r,"argument-error"),al._fromEmailAndCode(e,r.code,r.tenantId)}}Ii.PROVIDER_ID="password";Ii.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ii.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends z_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends bl{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends bl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gi._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends bl{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.GITHUB_SIGN_IN_METHOD="github.com";cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends bl{constructor(){super("twitter.com")}static credential(e,n){return gi._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TA(t,e){return Nl(t,"POST","/v1/accounts:signUp",qr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await kr._fromIdTokenResponse(e,r,s),a=yy(r);return new yi({user:i,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=yy(r);return new yi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends dr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,wu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new wu(e,n,r,s)}}function B_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?wu._fromErrorAndOperation(t,i,e,r):i})}async function IA(t,e,n=!1){const r=await _o(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(Rr(r));const s="reauthenticate";try{const i=await _o(t,B_(r,s,e,t),n);se(i.idToken,r,"internal-error");const a=op(i.idToken);se(a,r,"internal-error");const{sub:c}=a;return se(t.uid===c,r,"user-mismatch"),yi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&$n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W_(t,e,n=!1){if(Zn(t.app))return Promise.reject(Rr(t));const r="signIn",s=await B_(t,r,e),i=await yi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function SA(t,e){return W_($s(t),e)}async function kA(t,e){return q_(Je(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H_(t){const e=$s(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AA(t,e,n){const r=$s(t);await vu(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vA)}async function jA(t,e,n){if(Zn(t.app))return Promise.reject(Rr(t));const r=$s(t),a=await vu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TA).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&H_(t),u}),c=await yi._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(c.user),c}function CA(t,e,n){return Zn(t.app)?Promise.reject(Rr(t)):SA(Je(t),Ii.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H_(t),r})}function RA(t,e){return PA(Je(t),null,e)}async function PA(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const a=await _o(t,pA(r,i));await t._updateTokensIfNecessary(a,!0)}function DA(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function OA(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function LA(t,e,n,r){return Je(t).onAuthStateChanged(e,n,r)}function VA(t){return Je(t).signOut()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=1e3,FA=10;class K_ extends G_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},i=this.storage.getItem(r);Xk()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,FA):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},MA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}K_.type="LOCAL";const UA=K_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_ extends G_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q_.type="SESSION";const Y_=Q_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new rd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(a).map(async d=>d(n.origin,i)),u=await $A(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,a;return new Promise((c,u)=>{const d=up("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),c(g.data.response);break;default:clearTimeout(f),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(){return window}function BA(t){ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){return typeof ir().WorkerGlobalScope<"u"&&typeof ir().importScripts=="function"}async function qA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HA(){return X_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="firebaseLocalStorageDb",GA=1,Eu="firebaseLocalStorage",Z_="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sd(t,e){return t.transaction([Eu],e?"readwrite":"readonly").objectStore(Eu)}function KA(){const t=indexedDB.deleteDatabase(J_);return new Tl(t).toPromise()}function Df(){const t=indexedDB.open(J_,GA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eu,{keyPath:Z_})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eu)?e(r):(r.close(),await KA(),e(await Df()))})})}async function xy(t,e,n){const r=sd(t,!0).put({[Z_]:e,value:n});return new Tl(r).toPromise()}async function QA(t,e){const n=sd(t,!1).get(e),r=await new Tl(n).toPromise();return r===void 0?null:r.value}function vy(t,e){const n=sd(t,!0).delete(e);return new Tl(n).toPromise()}const YA=800,XA=3;class e1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(HA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qA(),!this.activeServiceWorker)return;this.sender=new zA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await xy(e,_u,"1"),await vy(e,_u),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>QA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=sd(s,!1).getAll();return new Tl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e1.type="LOCAL";const JA=e1;new El(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){return e?Ar(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ej(t){return W_(t.auth,new dp(t),t.bypassAuthState)}function tj(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),q_(n,new dp(t),t.bypassAuthState)}async function nj(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),IA(n,new dp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:a,type:c}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ej;case"linkViaPopup":case"linkViaRedirect":return nj;case"reauthViaPopup":case"reauthViaRedirect":return tj;default:$n(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=new El(2e3,1e4);class Zi extends t1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rj.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="pendingRedirect",Dc=new Map;class ij extends t1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Dc.get(this.auth._key());if(!e){try{const r=await oj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Dc.set(this.auth._key(),e)}return this.bypassAuthState||Dc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oj(t,e){const n=cj(e),r=lj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function aj(t,e){Dc.set(t._key(),e)}function lj(t){return Ar(t._redirectPersistence)}function cj(t){return Pc(sj,t.config.apiKey,t.name)}async function uj(t,e,n=!1){if(Zn(t.app))return Promise.reject(Rr(t));const r=$s(t),s=ZA(r,e),a=await new ij(r,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=10*60*1e3;class hj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dj&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(e))}saveEventToCache(e){this.cachedEventUids.add(wy(e)),this.lastProcessedEventTime=Date.now()}}function wy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e={}){return hr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gj=/^https?/;async function yj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mj(t);for(const n of e)try{if(xj(n))return}catch{}$n(t,"unauthorized-domain")}function xj(t){const e=Rf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!gj.test(n))return!1;if(pj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new El(3e4,6e4);function _y(){const t=ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wj(t){return new Promise((e,n)=>{var r,s,i;function a(){_y(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_y(),n(sr(t,"network-request-failed"))},timeout:vj.get()})}if(!((s=(r=ir().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ir().gapi)===null||i===void 0)&&i.load)a();else{const c=oA("iframefcb");return ir()[c]=()=>{gapi.load?a():n(sr(t,"network-request-failed"))},U_(`${iA()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Oc=null,e})}let Oc=null;function _j(t){return Oc=Oc||wj(t),Oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=new El(5e3,15e3),Nj="__/auth/iframe",bj="emulator/auth/iframe",Tj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ij=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Sj(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ip(e,bj):`https://${t.config.authDomain}/${Nj}`,r={apiKey:e.apiKey,appName:t.name,v:Ti},s=Ij.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_l(r).slice(1)}`}async function kj(t){const e=await _j(t),n=ir().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:Sj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const a=sr(t,"network-request-failed"),c=ir().setTimeout(()=>{i(a)},Ej.get());function u(){ir().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jj=500,Cj=600,Rj="_blank",Pj="http://localhost";class Ey{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dj(t,e,n,r=jj,s=Cj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Aj),{width:r.toString(),height:s.toString(),top:i,left:a}),d=Rt().toLowerCase();n&&(c=P_(d)?Rj:n),C_(d)&&(e=e||Pj,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[w,_])=>`${g}${w}=${_},`,"");if(Yk(d)&&c!=="_self")return Oj(e||"",c),new Ey(null);const p=window.open(e||"",c,f);se(p,t,"popup-blocked");try{p.focus()}catch{}return new Ey(p)}function Oj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj="__/auth/handler",Vj="emulator/auth/handler",Mj=encodeURIComponent("fac");async function Ny(t,e,n,r,s,i){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ti,eventId:s};if(e instanceof z_){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",wS(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(e instanceof bl){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const c=a;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const u=await t._getAppCheckToken(),d=u?`#${Mj}=${encodeURIComponent(u)}`:"";return`${Fj(t)}?${_l(c).slice(1)}${d}`}function Fj({config:t}){return t.emulator?ip(t,Vj):`https://${t.authDomain}/${Lj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="webStorageSupport";class Uj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y_,this._completeRedirectFn=uj,this._overrideRedirectResult=aj}async _openPopup(e,n,r,s){var i;Ur((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const a=await Ny(e,n,r,Rf(),s);return Dj(e,a,up())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Ny(e,n,r,Rf(),s);return BA(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kj(e),r=new hj(e);return n.register("authEvent",s=>(se(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yh,{type:yh},s=>{var i;const a=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[yh];a!==void 0&&n(!!a),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return M_()||R_()||ap()}}const $j=Uj;var by="@firebase/auth",Ty="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qj(t){pi(new Cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:c}=r.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(t)},d=new nA(r,s,i,u);return dA(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pi(new Cs("auth-internal",e=>{const n=$s(e.getProvider("auth").getImmediate());return(r=>new zj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(by,Ty,Bj(t)),rr(by,Ty,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=5*60,Hj=p_("authIdTokenMaxAge")||Wj;let Iy=null;const Gj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Hj)return;const s=n==null?void 0:n.token;Iy!==s&&(Iy=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Kj(t=np()){const e=td(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uA(t,{popupRedirectResolver:$j,persistence:[JA,UA,Y_]}),r=p_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const a=Gj(i.toString());OA(n,a,()=>a(n.currentUser)),DA(n,c=>a(c))}}const s=h_("auth");return s&&hA(n,`http://${s}`),n}function Qj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}rA({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Qj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qj("Browser");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var li,r1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(k,P,D){for(var E=Array(arguments.length-2),H=2;H<arguments.length;H++)E[H-2]=arguments[H];return v.prototype[P].apply(k,E)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,I){I||(I=0);var k=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)k[P]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(P=0;16>P;++P)k[P]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],P=T.g[2];var D=T.g[3],E=v+(D^I&(P^D))+k[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=D+(P^v&(I^P))+k[1]+3905402710&4294967295,D=v+(E<<12&4294967295|E>>>20),E=P+(I^D&(v^I))+k[2]+606105819&4294967295,P=D+(E<<17&4294967295|E>>>15),E=I+(v^P&(D^v))+k[3]+3250441966&4294967295,I=P+(E<<22&4294967295|E>>>10),E=v+(D^I&(P^D))+k[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=D+(P^v&(I^P))+k[5]+1200080426&4294967295,D=v+(E<<12&4294967295|E>>>20),E=P+(I^D&(v^I))+k[6]+2821735955&4294967295,P=D+(E<<17&4294967295|E>>>15),E=I+(v^P&(D^v))+k[7]+4249261313&4294967295,I=P+(E<<22&4294967295|E>>>10),E=v+(D^I&(P^D))+k[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=D+(P^v&(I^P))+k[9]+2336552879&4294967295,D=v+(E<<12&4294967295|E>>>20),E=P+(I^D&(v^I))+k[10]+4294925233&4294967295,P=D+(E<<17&4294967295|E>>>15),E=I+(v^P&(D^v))+k[11]+2304563134&4294967295,I=P+(E<<22&4294967295|E>>>10),E=v+(D^I&(P^D))+k[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=D+(P^v&(I^P))+k[13]+4254626195&4294967295,D=v+(E<<12&4294967295|E>>>20),E=P+(I^D&(v^I))+k[14]+2792965006&4294967295,P=D+(E<<17&4294967295|E>>>15),E=I+(v^P&(D^v))+k[15]+1236535329&4294967295,I=P+(E<<22&4294967295|E>>>10),E=v+(P^D&(I^P))+k[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=D+(I^P&(v^I))+k[6]+3225465664&4294967295,D=v+(E<<9&4294967295|E>>>23),E=P+(v^I&(D^v))+k[11]+643717713&4294967295,P=D+(E<<14&4294967295|E>>>18),E=I+(D^v&(P^D))+k[0]+3921069994&4294967295,I=P+(E<<20&4294967295|E>>>12),E=v+(P^D&(I^P))+k[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=D+(I^P&(v^I))+k[10]+38016083&4294967295,D=v+(E<<9&4294967295|E>>>23),E=P+(v^I&(D^v))+k[15]+3634488961&4294967295,P=D+(E<<14&4294967295|E>>>18),E=I+(D^v&(P^D))+k[4]+3889429448&4294967295,I=P+(E<<20&4294967295|E>>>12),E=v+(P^D&(I^P))+k[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=D+(I^P&(v^I))+k[14]+3275163606&4294967295,D=v+(E<<9&4294967295|E>>>23),E=P+(v^I&(D^v))+k[3]+4107603335&4294967295,P=D+(E<<14&4294967295|E>>>18),E=I+(D^v&(P^D))+k[8]+1163531501&4294967295,I=P+(E<<20&4294967295|E>>>12),E=v+(P^D&(I^P))+k[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=D+(I^P&(v^I))+k[2]+4243563512&4294967295,D=v+(E<<9&4294967295|E>>>23),E=P+(v^I&(D^v))+k[7]+1735328473&4294967295,P=D+(E<<14&4294967295|E>>>18),E=I+(D^v&(P^D))+k[12]+2368359562&4294967295,I=P+(E<<20&4294967295|E>>>12),E=v+(I^P^D)+k[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=D+(v^I^P)+k[8]+2272392833&4294967295,D=v+(E<<11&4294967295|E>>>21),E=P+(D^v^I)+k[11]+1839030562&4294967295,P=D+(E<<16&4294967295|E>>>16),E=I+(P^D^v)+k[14]+4259657740&4294967295,I=P+(E<<23&4294967295|E>>>9),E=v+(I^P^D)+k[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=D+(v^I^P)+k[4]+1272893353&4294967295,D=v+(E<<11&4294967295|E>>>21),E=P+(D^v^I)+k[7]+4139469664&4294967295,P=D+(E<<16&4294967295|E>>>16),E=I+(P^D^v)+k[10]+3200236656&4294967295,I=P+(E<<23&4294967295|E>>>9),E=v+(I^P^D)+k[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=D+(v^I^P)+k[0]+3936430074&4294967295,D=v+(E<<11&4294967295|E>>>21),E=P+(D^v^I)+k[3]+3572445317&4294967295,P=D+(E<<16&4294967295|E>>>16),E=I+(P^D^v)+k[6]+76029189&4294967295,I=P+(E<<23&4294967295|E>>>9),E=v+(I^P^D)+k[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=D+(v^I^P)+k[12]+3873151461&4294967295,D=v+(E<<11&4294967295|E>>>21),E=P+(D^v^I)+k[15]+530742520&4294967295,P=D+(E<<16&4294967295|E>>>16),E=I+(P^D^v)+k[2]+3299628645&4294967295,I=P+(E<<23&4294967295|E>>>9),E=v+(P^(I|~D))+k[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=D+(I^(v|~P))+k[7]+1126891415&4294967295,D=v+(E<<10&4294967295|E>>>22),E=P+(v^(D|~I))+k[14]+2878612391&4294967295,P=D+(E<<15&4294967295|E>>>17),E=I+(D^(P|~v))+k[5]+4237533241&4294967295,I=P+(E<<21&4294967295|E>>>11),E=v+(P^(I|~D))+k[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=D+(I^(v|~P))+k[3]+2399980690&4294967295,D=v+(E<<10&4294967295|E>>>22),E=P+(v^(D|~I))+k[10]+4293915773&4294967295,P=D+(E<<15&4294967295|E>>>17),E=I+(D^(P|~v))+k[1]+2240044497&4294967295,I=P+(E<<21&4294967295|E>>>11),E=v+(P^(I|~D))+k[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=D+(I^(v|~P))+k[15]+4264355552&4294967295,D=v+(E<<10&4294967295|E>>>22),E=P+(v^(D|~I))+k[6]+2734768916&4294967295,P=D+(E<<15&4294967295|E>>>17),E=I+(D^(P|~v))+k[13]+1309151649&4294967295,I=P+(E<<21&4294967295|E>>>11),E=v+(P^(I|~D))+k[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=D+(I^(v|~P))+k[11]+3174756917&4294967295,D=v+(E<<10&4294967295|E>>>22),E=P+(v^(D|~I))+k[2]+718787259&4294967295,P=D+(E<<15&4294967295|E>>>17),E=I+(D^(P|~v))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(P+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+P&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,k=this.B,P=this.h,D=0;D<v;){if(P==0)for(;D<=I;)s(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<v;)if(k[P++]=T.charCodeAt(D++),P==this.blockSize){s(this,k),P=0;break}}else for(;D<v;)if(k[P++]=T[D++],P==this.blockSize){s(this,k),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var k=0;32>k;k+=8)T[I++]=this.g[v]>>>k&255;return T};function i(T,v){var I=c;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function a(T,v){this.h=v;for(var I=[],k=!0,P=T.length-1;0<=P;P--){var D=T[P]|0;k&&D==v||(I[P]=D,k=!1)}this.g=I}var c={};function u(T){return-128<=T&&128>T?i(T,function(v){return new a([v|0],0>v?-1:0)}):new a([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return j(d(-T));for(var v=[],I=1,k=0;T>=I;k++)v[k]=T/I|0,I*=4294967296;return new a(v,0)}function f(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return j(f(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(v,8)),k=p,P=0;P<T.length;P+=8){var D=Math.min(8,T.length-P),E=parseInt(T.substring(P,P+D),v);8>D?(D=d(Math.pow(v,D)),k=k.j(D).add(d(E))):(k=k.j(I),k=k.add(d(E)))}return k}var p=u(0),g=u(1),w=u(16777216);t=a.prototype,t.m=function(){if(S(this))return-j(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var k=this.i(I);T+=(0<=k?k:4294967296+k)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(S(this))return"-"+j(this).toString(T);for(var v=d(Math.pow(T,6)),I=this,k="";;){var P=L(I,v).g;I=N(I,P.j(v));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=P,_(I))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function S(T){return T.h==-1}t.l=function(T){return T=N(this,T),S(T)?-1:_(T)?0:1};function j(T){for(var v=T.g.length,I=[],k=0;k<v;k++)I[k]=~T.g[k];return new a(I,~T.h).add(g)}t.abs=function(){return S(this)?j(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],k=0,P=0;P<=v;P++){var D=k+(this.i(P)&65535)+(T.i(P)&65535),E=(D>>>16)+(this.i(P)>>>16)+(T.i(P)>>>16);k=E>>>16,D&=65535,E&=65535,I[P]=E<<16|D}return new a(I,I[I.length-1]&-2147483648?-1:0)};function N(T,v){return T.add(j(v))}t.j=function(T){if(_(this)||_(T))return p;if(S(this))return S(T)?j(this).j(j(T)):j(j(this).j(T));if(S(T))return j(this.j(j(T)));if(0>this.l(w)&&0>T.l(w))return d(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],k=0;k<2*v;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<T.g.length;P++){var D=this.i(k)>>>16,E=this.i(k)&65535,H=T.i(P)>>>16,ie=T.i(P)&65535;I[2*k+2*P]+=E*ie,x(I,2*k+2*P),I[2*k+2*P+1]+=D*ie,x(I,2*k+2*P+1),I[2*k+2*P+1]+=E*H,x(I,2*k+2*P+1),I[2*k+2*P+2]+=D*H,x(I,2*k+2*P+2)}for(k=0;k<v;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=v;k<2*v;k++)I[k]=0;return new a(I,0)};function x(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function b(T,v){this.g=T,this.h=v}function L(T,v){if(_(v))throw Error("division by zero");if(_(T))return new b(p,p);if(S(T))return v=L(j(T),v),new b(j(v.g),j(v.h));if(S(v))return v=L(T,j(v)),new b(j(v.g),v.h);if(30<T.g.length){if(S(T)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,k=v;0>=k.l(T);)I=F(I),k=F(k);var P=$(I,1),D=$(k,1);for(k=$(k,2),I=$(I,2);!_(k);){var E=D.add(k);0>=E.l(T)&&(P=P.add(I),D=E),k=$(k,1),I=$(I,1)}return v=N(T,P.j(v)),new b(P,v)}for(P=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=d(I),E=D.j(v);S(E)||0<E.l(T);)I-=k,D=d(I),E=D.j(v);_(D)&&(D=g),P=P.add(D),T=N(T,E)}return new b(P,T)}t.A=function(T){return L(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],k=0;k<v;k++)I[k]=this.i(k)&T.i(k);return new a(I,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],k=0;k<v;k++)I[k]=this.i(k)|T.i(k);return new a(I,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],k=0;k<v;k++)I[k]=this.i(k)^T.i(k);return new a(I,this.h^T.h)};function F(T){for(var v=T.g.length+1,I=[],k=0;k<v;k++)I[k]=T.i(k)<<1|T.i(k-1)>>>31;return new a(I,T.h)}function $(T,v){var I=v>>5;v%=32;for(var k=T.g.length-I,P=[],D=0;D<k;D++)P[D]=0<v?T.i(D+I)>>>v|T.i(D+I+1)<<32-v:T.i(D+I);return new a(P,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,r1=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,li=a}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s1,va,i1,Lc,Of,o1,a1,l1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var m=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var O=l[y];if(!(O in m))break e;m=m[O]}l=l[l.length-1],y=m[l],h=h(y),h!=y&&h!=null&&e(m,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var m=0,y=!1,O={next:function(){if(!y&&m<l.length){var V=m++;return{value:h(V,l[V]),done:!1}}return y=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},c=this||self;function u(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function d(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,m){return l.call.apply(l.bind,arguments)}function p(l,h,m){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,y),l.apply(h,O)}}return function(){return l.apply(h,arguments)}}function g(l,h,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function w(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var y=m.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function _(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(y,O,V){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return h.prototype[O].apply(y,W)}}function S(l){const h=l.length;if(0<h){const m=Array(h);for(let y=0;y<h;y++)m[y]=l[y];return m}return[]}function j(l,h){for(let m=1;m<arguments.length;m++){const y=arguments[m];if(u(y)){const O=l.length||0,V=y.length||0;l.length=O+V;for(let W=0;W<V;W++)l[O+W]=y[W]}else l.push(y)}}class N{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function x(l){return/^[\s\xa0]*$/.test(l)}function b(){var l=c.navigator;return l&&(l=l.userAgent)?l:""}function L(l){return L[" "](l),l}L[" "]=function(){};var F=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function $(l,h,m){for(const y in l)h.call(m,l[y],y,l)}function T(l,h){for(const m in l)h.call(void 0,l[m],m,l)}function v(l){const h={};for(const m in l)h[m]=l[m];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,h){let m,y;for(let O=1;O<arguments.length;O++){y=arguments[O];for(m in y)l[m]=y[m];for(let V=0;V<I.length;V++)m=I[V],Object.prototype.hasOwnProperty.call(y,m)&&(l[m]=y[m])}}function P(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function D(l){c.setTimeout(()=>{throw l},0)}function E(){var l=ee;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class H{constructor(){this.h=this.g=null}add(h,m){const y=ie.get();y.set(h,m),this.h?this.h.next=y:this.g=y,this.h=y}}var ie=new N(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,B=!1,ee=new H,ne=()=>{const l=c.Promise.resolve(void 0);nt=()=>{l.then(ye)}};var ye=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(m){D(m)}var h=ie;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}B=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var We=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};c.addEventListener("test",m,h),c.removeEventListener("test",m,h)}catch{}return l}();function Et(l,h){if(_e.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(F){e:{try{L(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else m=="mouseover"?h=l.fromElement:m=="mouseout"&&(h=l.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:He[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Et.aa.h.call(this)}}_(Et,_e);var He={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Hn=0;function Bs(l,h,m,y,O){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!y,this.ha=O,this.key=++Hn,this.da=this.fa=!1}function Zt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gn(l){this.src=l,this.g={},this.h=0}Gn.prototype.add=function(l,h,m,y,O){var V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);var W=Dt(l,h,y,O);return-1<W?(h=l[W],m||(h.fa=!1)):(h=new Bs(h,this.src,V,!!y,O),h.fa=m,l.push(h)),h};function mr(l,h){var m=h.type;if(m in l.g){var y=l.g[m],O=Array.prototype.indexOf.call(y,h,void 0),V;(V=0<=O)&&Array.prototype.splice.call(y,O,1),V&&(Zt(h),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Dt(l,h,m,y){for(var O=0;O<l.length;++O){var V=l[O];if(!V.da&&V.listener==h&&V.capture==!!m&&V.ha==y)return O}return-1}var qs="closure_lm_"+(1e6*Math.random()|0),Bt={};function Ws(l,h,m,y,O){if(Array.isArray(h)){for(var V=0;V<h.length;V++)Ws(l,h[V],m,y,O);return null}return m=Te(m),l&&l[Pt]?l.K(h,m,d(y)?!!y.capture:!!y,O):bn(l,h,m,!1,y,O)}function bn(l,h,m,y,O,V){if(!h)throw Error("Invalid event type");var W=d(O)?!!O.capture:!!O,Ce=Sn(l);if(Ce||(l[qs]=Ce=new Gn(l)),m=Ce.add(h,m,y,W,V),m.proxy)return m;if(y=Bo(),m.proxy=y,y.src=l,y.listener=m,l.addEventListener)We||(O=W),O===void 0&&(O=!1),l.addEventListener(h.toString(),y,O);else if(l.attachEvent)l.attachEvent(In(h.toString()),y);else if(l.addListener&&l.removeListener)l.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Bo(){function l(m){return h.call(l.src,l.listener,m)}const h=qo;return l}function Tn(l,h,m,y,O){if(Array.isArray(h))for(var V=0;V<h.length;V++)Tn(l,h[V],m,y,O);else y=d(y)?!!y.capture:!!y,m=Te(m),l&&l[Pt]?(l=l.i,h=String(h).toString(),h in l.g&&(V=l.g[h],m=Dt(V,m,y,O),-1<m&&(Zt(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete l.g[h],l.h--)))):l&&(l=Sn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Dt(h,m,y,O)),(m=-1<l?h[l]:null)&&Wr(m))}function Wr(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Pt])mr(h.i,l);else{var m=l.type,y=l.proxy;h.removeEventListener?h.removeEventListener(m,y,l.capture):h.detachEvent?h.detachEvent(In(m),y):h.addListener&&h.removeListener&&h.removeListener(y),(m=Sn(h))?(mr(m,l),m.h==0&&(m.src=null,h[qs]=null)):Zt(l)}}}function In(l){return l in Bt?Bt[l]:Bt[l]="on"+l}function qo(l,h){if(l.da)l=!0;else{h=new Et(h,this);var m=l.listener,y=l.ha||l.src;l.fa&&Wr(l),l=m.call(y,h)}return l}function Sn(l){return l=l[qs],l instanceof Gn?l:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(l){return typeof l=="function"?l:(l[Hr]||(l[Hr]=function(h){return l.handleEvent(h)}),l[Hr])}function Ie(){de.call(this),this.i=new Gn(this),this.M=this,this.F=null}_(Ie,de),Ie.prototype[Pt]=!0,Ie.prototype.removeEventListener=function(l,h,m,y){Tn(this,l,h,m,y)};function le(l,h){var m,y=l.F;if(y)for(m=[];y;y=y.F)m.push(y);if(l=l.M,y=h.type||h,typeof h=="string")h=new _e(h,l);else if(h instanceof _e)h.target=h.target||l;else{var O=h;h=new _e(y,l),k(h,O)}if(O=!0,m)for(var V=m.length-1;0<=V;V--){var W=h.g=m[V];O=Ee(W,y,!0,h)&&O}if(W=h.g=l,O=Ee(W,y,!0,h)&&O,O=Ee(W,y,!1,h)&&O,m)for(V=0;V<m.length;V++)W=h.g=m[V],O=Ee(W,y,!1,h)&&O}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var m=l.g[h],y=0;y<m.length;y++)Zt(m[y]);delete l.g[h],l.h--}}this.F=null},Ie.prototype.K=function(l,h,m,y){return this.i.add(String(l),h,!1,m,y)},Ie.prototype.L=function(l,h,m,y){return this.i.add(String(l),h,!0,m,y)};function Ee(l,h,m,y){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,V=0;V<h.length;++V){var W=h[V];if(W&&!W.da&&W.capture==m){var Ce=W.listener,ft=W.ha||W.src;W.fa&&mr(l.i,W),O=Ce.call(ft,y)!==!1&&O}}return O&&!y.defaultPrevented}function fn(l,h,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(l,h||0)}function Hs(l){l.g=fn(()=>{l.g=null,l.i&&(l.i=!1,Hs(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class Gr extends de{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function C(l){de.call(this),this.h=l,this.g={}}_(C,de);var q=[];function K(l){$(l.g,function(h,m){this.g.hasOwnProperty(m)&&Wr(h)},l),l.g={}}C.prototype.N=function(){C.aa.N.call(this),K(this)},C.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=c.JSON.stringify,ht=c.JSON.parse,en=class{stringify(l){return c.JSON.stringify(l,void 0)}parse(l){return c.JSON.parse(l,void 0)}};function at(){}at.prototype.h=null;function pr(l){return l.h||(l.h=l.i())}function Kn(){}var mn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gs(){_e.call(this,"d")}_(Gs,_e);function Kr(){_e.call(this,"c")}_(Kr,_e);var qt={},kn=null;function tn(){return kn=kn||new Ie}qt.La="serverreachability";function Ge(l){_e.call(this,qt.La,l)}_(Ge,_e);function Qr(l){const h=tn();le(h,new Ge(h))}qt.STAT_EVENT="statevent";function Wo(l,h){_e.call(this,qt.STAT_EVENT,l),this.stat=h}_(Wo,_e);function lt(l){const h=tn();le(h,new Wo(h,l))}qt.Ma="timingevent";function Ho(l,h){_e.call(this,qt.Ma,l),this.size=h}_(Ho,_e);function R(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){l()},h)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function Se(l,h,m,y,O,V){l.info(function(){if(l.g)if(V)for(var W="",Ce=V.split("&"),ft=0;ft<Ce.length;ft++){var Ne=Ce[ft].split("=");if(1<Ne.length){var Nt=Ne[0];Ne=Ne[1];var bt=Nt.split("_");W=2<=bt.length&&bt[1]=="type"?W+(Nt+"="+Ne+"&"):W+(Nt+"=redacted&")}}else W=null;else W=V;return"XMLHTTP REQ ("+y+") [attempt "+O+"]: "+h+`
`+m+`
`+W})}function Re(l,h,m,y,O,V,W){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+O+"]: "+h+`
`+m+`
`+V+" "+W})}function ve(l,h,m,y){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+pn(l,m)+(y?" "+y:"")})}function Qn(l,h){l.info(function(){return"TIMEOUT: "+h})}G.prototype.info=function(){};function pn(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var y=m[l];if(!(2>y.length)){var O=y[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return he(m)}catch{return h}}var nn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rt;function gr(){}_(gr,at),gr.prototype.g=function(){return new XMLHttpRequest},gr.prototype.i=function(){return{}},rt=new gr;function An(l,h,m,y){this.j=l,this.i=h,this.l=m,this.R=y||1,this.U=new C(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}var Ri={},bd={};function Td(l,h,m){l.L=1,l.v=Ll(yr(h)),l.m=m,l.P=!0,Hp(l,null)}function Hp(l,h){l.F=Date.now(),Pl(l),l.A=yr(l.v);var m=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),og(m.i,"t",y),l.C=0,m=l.j.J,l.h=new Ci,l.g=bg(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Gr(g(l.Y,l,l.g),l.O)),h=l.U,m=l.g,y=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(q[0]=O.toString()),O=q);for(var V=0;V<O.length;V++){var W=Ws(m,O[V],y||h.handleEvent,!1,h.h||h);if(!W)break;h.g[W.key]=W}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Qr(),Se(l.i,l.u,l.A,l.l,l.R,l.m)}An.prototype.ca=function(l){l=l.target;const h=this.M;h&&xr(l)==3?h.j():this.Y(l)},An.prototype.Y=function(l){try{if(l==this.g)e:{const bt=xr(this.g);var h=this.g.Ba();const Oi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||fg(this.g)))){this.J||bt!=4||h==7||(h==8||0>=Oi?Qr(3):Qr(2)),Id(this);var m=this.g.Z();this.X=m;t:if(Gp(this)){var y=fg(this.g);l="";var O=y.length,V=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ks(this),Go(this);var W="";break t}this.h.i=new c.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,l+=this.h.i.decode(y[h],{stream:!(V&&h==O-1)});y.length=0,this.h.g+=l,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,Re(this.i,this.u,this.A,this.l,this.R,bt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,ft=this.g;if((Ce=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ce)){var Ne=Ce;break t}}Ne=null}if(m=Ne)ve(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sd(this,m);else{this.o=!1,this.s=3,lt(12),Ks(this),Go(this);break e}}if(this.P){m=!0;let jn;for(;!this.J&&this.C<W.length;)if(jn=ME(this,W),jn==bd){bt==4&&(this.s=4,lt(14),m=!1),ve(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Ri){this.s=4,lt(15),ve(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else ve(this.i,this.l,jn,null),Sd(this,jn);if(Gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||W.length!=0||this.h.h||(this.s=1,lt(16),m=!1),this.o=this.o&&m,!m)ve(this.i,this.l,W,"[Invalid Chunked Response]"),Ks(this),Go(this);else if(0<W.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Pd(Nt),Nt.M=!0,lt(11))}}else ve(this.i,this.l,W,null),Sd(this,W);bt==4&&Ks(this),this.o&&!this.J&&(bt==4?wg(this.j,this):(this.o=!1,Pl(this)))}else tN(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Ks(this),Go(this)}}}catch{}finally{}};function Gp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ME(l,h){var m=l.C,y=h.indexOf(`
`,m);return y==-1?bd:(m=Number(h.substring(m,y)),isNaN(m)?Ri:(y+=1,y+m>h.length?bd:(h=h.slice(y,y+m),l.C=y+m,h)))}An.prototype.cancel=function(){this.J=!0,Ks(this)};function Pl(l){l.S=Date.now()+l.I,Kp(l,l.I)}function Kp(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=R(g(l.ba,l),h)}function Id(l){l.B&&(c.clearTimeout(l.B),l.B=null)}An.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Qn(this.i,this.A),this.L!=2&&(Qr(),lt(17)),Ks(this),this.s=2,Go(this)):Kp(this,this.S-l)};function Go(l){l.j.G==0||l.J||wg(l.j,l)}function Ks(l){Id(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,K(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Sd(l,h){try{var m=l.j;if(m.G!=0&&(m.g==l||kd(m.h,l))){if(!l.K&&kd(m.h,l)&&m.G==3){try{var y=m.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var O=y;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)zl(m),Ul(m);else break e;Rd(m),lt(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=R(g(m.Za,m),6e3));if(1>=Xp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ys(m,11)}else if((l.K||m.g==l)&&zl(m),!x(h))for(O=m.Da.g.parse(h),h=0;h<O.length;h++){let Ne=O[h];if(m.T=Ne[0],Ne=Ne[1],m.G==2)if(Ne[0]=="c"){m.K=Ne[1],m.ia=Ne[2];const Nt=Ne[3];Nt!=null&&(m.la=Nt,m.j.info("VER="+m.la));const bt=Ne[4];bt!=null&&(m.Aa=bt,m.j.info("SVER="+m.Aa));const Oi=Ne[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(y=1.5*Oi,m.L=y,m.j.info("backChannelRequestTimeoutMs_="+y)),y=m;const jn=l.g;if(jn){const ql=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ql){var V=y.h;V.g||ql.indexOf("spdy")==-1&&ql.indexOf("quic")==-1&&ql.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Ad(V,V.h),V.h=null))}if(y.D){const Dd=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Dd&&(y.ya=Dd,De(y.I,y.D,Dd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),y=m;var W=l;if(y.qa=Ng(y,y.J?y.ia:null,y.W),W.K){Jp(y.h,W);var Ce=W,ft=y.L;ft&&(Ce.I=ft),Ce.B&&(Id(Ce),Pl(Ce)),y.g=W}else xg(y);0<m.i.length&&$l(m)}else Ne[0]!="stop"&&Ne[0]!="close"||Ys(m,7);else m.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ys(m,7):Cd(m):Ne[0]!="noop"&&m.l&&m.l.ta(Ne),m.v=0)}}Qr(4)}catch{}}var FE=class{constructor(l,h){this.g=l,this.map=h}};function Qp(l){this.l=l||10,c.PerformanceNavigationTiming?(l=c.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Xp(l){return l.h?1:l.g?l.g.size:0}function kd(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Ad(l,h){l.g?l.g.add(h):l.h=h}function Jp(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Qp.prototype.cancel=function(){if(this.i=Zp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Zp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return S(l.i)}function UE(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var h=[],m=l.length,y=0;y<m;y++)h.push(l[y]);return h}h=[],m=0;for(y in l)h[m++]=l[y];return h}function $E(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const y in l)h[m++]=y;return h}}}function eg(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var m=$E(l),y=UE(l),O=y.length,V=0;V<O;V++)h.call(void 0,y[V],m&&m[V],l)}var tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zE(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var y=l[m].indexOf("="),O=null;if(0<=y){var V=l[m].substring(0,y);O=l[m].substring(y+1)}else V=l[m];h(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Qs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Qs){this.h=l.h,Dl(this,l.j),this.o=l.o,this.g=l.g,Ol(this,l.s),this.l=l.l;var h=l.i,m=new Yo;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),ng(this,m),this.m=l.m}else l&&(h=String(l).match(tg))?(this.h=!1,Dl(this,h[1]||"",!0),this.o=Ko(h[2]||""),this.g=Ko(h[3]||"",!0),Ol(this,h[4]),this.l=Ko(h[5]||"",!0),ng(this,h[6]||"",!0),this.m=Ko(h[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Qs.prototype.toString=function(){var l=[],h=this.j;h&&l.push(Qo(h,rg,!0),":");var m=this.g;return(m||h=="file")&&(l.push("//"),(h=this.o)&&l.push(Qo(h,rg,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Qo(m,m.charAt(0)=="/"?WE:qE,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Qo(m,GE)),l.join("")};function yr(l){return new Qs(l)}function Dl(l,h,m){l.j=m?Ko(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Ol(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function ng(l,h,m){h instanceof Yo?(l.i=h,KE(l.i,l.h)):(m||(h=Qo(h,HE)),l.i=new Yo(h,l.h))}function De(l,h,m){l.i.set(h,m)}function Ll(l){return De(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ko(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Qo(l,h,m){return typeof l=="string"?(l=encodeURI(l).replace(h,BE),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function BE(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var rg=/[#\/\?@]/g,qE=/[#\?:]/g,WE=/[#\?]/g,HE=/[#\?@]/g,GE=/#/g;function Yo(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Xr(l){l.g||(l.g=new Map,l.h=0,l.i&&zE(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=Yo.prototype,t.add=function(l,h){Xr(this),this.i=null,l=Pi(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this};function sg(l,h){Xr(l),h=Pi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function ig(l,h){return Xr(l),h=Pi(l,h),l.g.has(h)}t.forEach=function(l,h){Xr(this),this.g.forEach(function(m,y){m.forEach(function(O){l.call(h,O,y,this)},this)},this)},t.na=function(){Xr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let y=0;y<h.length;y++){const O=l[y];for(let V=0;V<O.length;V++)m.push(h[y])}return m},t.V=function(l){Xr(this);let h=[];if(typeof l=="string")ig(this,l)&&(h=h.concat(this.g.get(Pi(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},t.set=function(l,h){return Xr(this),this.i=null,l=Pi(this,l),ig(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function og(l,h,m){sg(l,h),0<m.length&&(l.i=null,l.g.set(Pi(l,h),S(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var y=h[m];const V=encodeURIComponent(String(y)),W=this.V(y);for(y=0;y<W.length;y++){var O=V;W[y]!==""&&(O+="="+encodeURIComponent(String(W[y]))),l.push(O)}}return this.i=l.join("&")};function Pi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function KE(l,h){h&&!l.j&&(Xr(l),l.i=null,l.g.forEach(function(m,y){var O=y.toLowerCase();y!=O&&(sg(this,y),og(this,O,m))},l)),l.j=h}function QE(l,h){const m=new G;if(c.Image){const y=new Image;y.onload=w(Jr,m,"TestLoadImage: loaded",!0,h,y),y.onerror=w(Jr,m,"TestLoadImage: error",!1,h,y),y.onabort=w(Jr,m,"TestLoadImage: abort",!1,h,y),y.ontimeout=w(Jr,m,"TestLoadImage: timeout",!1,h,y),c.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else h(!1)}function YE(l,h){const m=new G,y=new AbortController,O=setTimeout(()=>{y.abort(),Jr(m,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:y.signal}).then(V=>{clearTimeout(O),V.ok?Jr(m,"TestPingServer: ok",!0,h):Jr(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),Jr(m,"TestPingServer: error",!1,h)})}function Jr(l,h,m,y,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),y(m)}catch{}}function XE(){this.g=new en}function JE(l,h,m){const y=m||"";try{eg(l,function(O,V){let W=O;d(O)&&(W=he(O)),h.push(y+V+"="+encodeURIComponent(W))})}catch(O){throw h.push(y+"type="+encodeURIComponent("_badmap")),O}}function Vl(l){this.l=l.Ub||null,this.j=l.eb||!1}_(Vl,at),Vl.prototype.g=function(){return new Ml(this.l,this.j)},Vl.prototype.i=function(l){return function(){return l}}({});function Ml(l,h){Ie.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Ml,Ie),t=Ml.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Jo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xo(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Jo(this)),this.g&&(this.readyState=3,Jo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ag(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function ag(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?Xo(this):Jo(this),this.readyState==3&&ag(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Xo(this))},t.Qa=function(l){this.g&&(this.response=l,Xo(this))},t.ga=function(){this.g&&Xo(this)};function Xo(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Jo(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=h.next();return l.join(`\r
`)};function Jo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function lg(l){let h="";return $(l,function(m,y){h+=y,h+=":",h+=m,h+=`\r
`}),h}function jd(l,h,m){e:{for(y in m){var y=!1;break e}y=!0}y||(m=lg(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):De(l,h,m))}function Be(l){Ie.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Be,Ie);var ZE=/^https?$/i,eN=["POST","PUT"];t=Be.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,m,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rt.g(),this.v=this.o?pr(this.o):pr(rt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(V){cg(this,V);return}if(l=m||"",m=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var O in y)m.set(O,y[O]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())m.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),O=c.FormData&&l instanceof c.FormData,!(0<=Array.prototype.indexOf.call(eN,h,void 0))||y||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,W]of m)this.g.setRequestHeader(V,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hg(this),this.u=!0,this.g.send(l),this.u=!1}catch(V){cg(this,V)}};function cg(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,ug(l),Fl(l)}function ug(l){l.A||(l.A=!0,le(l,"complete"),le(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,le(this,"complete"),le(this,"abort"),Fl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fl(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dg(this):this.bb())},t.bb=function(){dg(this)};function dg(l){if(l.h&&typeof a<"u"&&(!l.v[1]||xr(l)!=4||l.Z()!=2)){if(l.u&&xr(l)==4)fn(l.Ea,0,l);else if(le(l,"readystatechange"),xr(l)==4){l.h=!1;try{const W=l.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var y;if(y=W===0){var O=String(l.D).match(tg)[1]||null;!O&&c.self&&c.self.location&&(O=c.self.location.protocol.slice(0,-1)),y=!ZE.test(O?O.toLowerCase():"")}m=y}if(m)le(l,"complete"),le(l,"success");else{l.m=6;try{var V=2<xr(l)?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.Z()+"]",ug(l)}}finally{Fl(l)}}}}function Fl(l,h){if(l.g){hg(l);const m=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||le(l,"ready");try{m.onreadystatechange=y}catch{}}}function hg(l){l.I&&(c.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function xr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),ht(h)}};function fg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function tN(l){const h={};l=(l.g&&2<=xr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<l.length;y++){if(x(l[y]))continue;var m=P(l[y]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=h[O]||[];h[O]=V,V.push(m)}T(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zo(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function mg(l){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zo("baseRetryDelayMs",5e3,l),this.cb=Zo("retryDelaySeedMs",1e4,l),this.Wa=Zo("forwardChannelMaxRetries",2,l),this.wa=Zo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Qp(l&&l.concurrentRequestLimit),this.Da=new XE,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mg.prototype,t.la=8,t.G=1,t.connect=function(l,h,m,y){lt(0),this.W=l,this.H=h||{},m&&y!==void 0&&(this.H.OSID=m,this.H.OAID=y),this.F=this.X,this.I=Ng(this,null,this.W),$l(this)};function Cd(l){if(pg(l),l.G==3){var h=l.U++,m=yr(l.I);if(De(m,"SID",l.K),De(m,"RID",h),De(m,"TYPE","terminate"),ea(l,m),h=new An(l,l.j,h),h.L=2,h.v=Ll(yr(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=h.v,m=!0),m||(h.g=bg(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Pl(h)}Eg(l)}function Ul(l){l.g&&(Pd(l),l.g.cancel(),l.g=null)}function pg(l){Ul(l),l.u&&(c.clearTimeout(l.u),l.u=null),zl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&c.clearTimeout(l.s),l.s=null)}function $l(l){if(!Yp(l.h)&&!l.s){l.s=!0;var h=l.Ga;nt||ne(),B||(nt(),B=!0),ee.add(h,l),l.B=0}}function nN(l,h){return Xp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=R(g(l.Ga,l,h),_g(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new An(this,this.j,l);let V=this.o;if(this.S&&(V?(V=v(V),k(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var y=this.i[m];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=yg(this,O,h),m=yr(this.I),De(m,"RID",l),De(m,"CVER",22),this.D&&De(m,"X-HTTP-Session-Id",this.D),ea(this,m),V&&(this.O?h="headers="+encodeURIComponent(String(lg(V)))+"&"+h:this.m&&jd(m,this.m,V)),Ad(this.h,O),this.Ua&&De(m,"TYPE","init"),this.P?(De(m,"$req",h),De(m,"SID","null"),O.T=!0,Td(O,m,null)):Td(O,m,h),this.G=2}}else this.G==3&&(l?gg(this,l):this.i.length==0||Yp(this.h)||gg(this))};function gg(l,h){var m;h?m=h.l:m=l.U++;const y=yr(l.I);De(y,"SID",l.K),De(y,"RID",m),De(y,"AID",l.T),ea(l,y),l.m&&l.o&&jd(y,l.m,l.o),m=new An(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=yg(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ad(l.h,m),Td(m,y,h)}function ea(l,h){l.H&&$(l.H,function(m,y){De(h,y,m)}),l.l&&eg({},function(m,y){De(h,y,m)})}function yg(l,h,m){m=Math.min(l.i.length,m);var y=l.l?g(l.l.Na,l.l,l):null;e:{var O=l.i;let V=-1;for(;;){const W=["count="+m];V==-1?0<m?(V=O[0].g,W.push("ofs="+V)):V=0:W.push("ofs="+V);let Ce=!0;for(let ft=0;ft<m;ft++){let Ne=O[ft].g;const Nt=O[ft].map;if(Ne-=V,0>Ne)V=Math.max(0,O[ft].g-100),Ce=!1;else try{JE(Nt,W,"req"+Ne+"_")}catch{y&&y(Nt)}}if(Ce){y=W.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,y}function xg(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;nt||ne(),B||(nt(),B=!0),ee.add(h,l),l.v=0}}function Rd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=R(g(l.Fa,l),_g(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,vg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=R(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Ul(this),vg(this))};function Pd(l){l.A!=null&&(c.clearTimeout(l.A),l.A=null)}function vg(l){l.g=new An(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=yr(l.qa);De(h,"RID","rpc"),De(h,"SID",l.K),De(h,"AID",l.T),De(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&De(h,"TO",l.ja),De(h,"TYPE","xmlhttp"),ea(l,h),l.m&&l.o&&jd(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ll(yr(h)),m.m=null,m.P=!0,Hp(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Ul(this),Rd(this),lt(19))};function zl(l){l.C!=null&&(c.clearTimeout(l.C),l.C=null)}function wg(l,h){var m=null;if(l.g==h){zl(l),Pd(l),l.g=null;var y=2}else if(kd(l.h,h))m=h.D,Jp(l.h,h),y=1;else return;if(l.G!=0){if(h.o)if(y==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var O=l.B;y=tn(),le(y,new Ho(y,m)),$l(l)}else xg(l);else if(O=h.s,O==3||O==0&&0<h.X||!(y==1&&nN(l,h)||y==2&&Rd(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),O){case 1:Ys(l,5);break;case 4:Ys(l,10);break;case 3:Ys(l,6);break;default:Ys(l,2)}}}function _g(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function Ys(l,h){if(l.j.info("Error code "+h),h==2){var m=g(l.fb,l),y=l.Xa;const O=!y;y=new Qs(y||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Dl(y,"https"),Ll(y),O?QE(y.toString(),m):YE(y.toString(),m)}else lt(2);l.G=0,l.l&&l.l.sa(h),Eg(l),pg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Eg(l){if(l.G=0,l.ka=[],l.l){const h=Zp(l.h);(h.length!=0||l.i.length!=0)&&(j(l.ka,h),j(l.ka,l.i),l.h.i.length=0,S(l.i),l.i.length=0),l.l.ra()}}function Ng(l,h,m){var y=m instanceof Qs?yr(m):new Qs(m);if(y.g!="")h&&(y.g=h+"."+y.g),Ol(y,y.s);else{var O=c.location;y=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var V=new Qs(null);y&&Dl(V,y),h&&(V.g=h),O&&Ol(V,O),m&&(V.l=m),y=V}return m=l.D,h=l.ya,m&&h&&De(y,m,h),De(y,"VER",l.la),ea(l,y),y}function bg(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Be(new Vl({eb:m})):new Be(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tg(){}t=Tg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Bl(){}Bl.prototype.g=function(l,h){return new rn(l,h)};function rn(l,h){Ie.call(this),this.g=new mg(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!x(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!x(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Di(this)}_(rn,Ie),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Cd(this.g)},rn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=he(l),l=m);h.i.push(new FE(h.Ya++,l)),h.G==3&&$l(h)},rn.prototype.N=function(){this.g.l=null,delete this.j,Cd(this.g),delete this.g,rn.aa.N.call(this)};function Ig(l){Gs.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}_(Ig,Gs);function Sg(){Kr.call(this),this.status=1}_(Sg,Kr);function Di(l){this.g=l}_(Di,Tg),Di.prototype.ua=function(){le(this.g,"a")},Di.prototype.ta=function(l){le(this.g,new Ig(l))},Di.prototype.sa=function(l){le(this.g,new Sg)},Di.prototype.ra=function(){le(this.g,"b")},Bl.prototype.createWebChannel=Bl.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,l1=function(){return new Bl},a1=function(){return tn()},o1=qt,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nn.NO_ERROR=0,nn.TIMEOUT=8,nn.HTTP_ERROR=6,Lc=nn,Yr.COMPLETE="complete",i1=Yr,Kn.EventType=mn,mn.OPEN="a",mn.CLOSE="b",mn.ERROR="c",mn.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,va=Kn,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,s1=Be}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new ep("@firebase/firestore");function da(){return xi.logLevel}function X(t,...e){if(xi.logLevel<=ge.DEBUG){const n=e.map(hp);xi.debug(`Firestore (${Mo}): ${t}`,...n)}}function $r(t,...e){if(xi.logLevel<=ge.ERROR){const n=e.map(hp);xi.error(`Firestore (${Mo}): ${t}`,...n)}}function Eo(t,...e){if(xi.logLevel<=ge.WARN){const n=e.map(hp);xi.warn(`Firestore (${Mo}): ${t}`,...n)}}function hp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function je(t,e){t||oe()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class Xj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jj{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new c1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new kt(e)}}class Zj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eC{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Zj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=i=>{i.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.R;return this.R=i.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new tC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=rC(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function No(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ot(0,0))}static max(){return new ce(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ll.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ll?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),a=n.get(s);if(i<a)return-1;if(i>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends ll{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Q(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const sC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yt extends ll{construct(e,n,r){return new yt(e,n,r)}static isValidIdentifier(e){return sC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Q(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else c==="`"?(a=!a,s++):c!=="."||a?(r+=c,s++):(i(),s++)}if(i(),a)throw new Q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yt(n)}static emptyPath(){return new yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Le.fromString(e))}static fromName(e){return new te(Le.fromString(e).popFirst(5))}static empty(){return new te(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Le(e.slice()))}}function iC(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Rs(s,te.empty(),e)}function oC(t){return new Rs(t.readTime,t.key,-1)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(ce.min(),te.empty(),-1)}static max(){return new Rs(ce.max(),te.empty(),-1)}}function aC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==lC)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let s=0,i=0,a=!1;e.forEach(c=>{++s,c.next(()=>{++i,a&&i===s&&n()},u=>r(u))}),a=!0,i===s&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(s=>s?U.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new U((r,s)=>{const i=e.length,a=new Array(i);let c=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(f=>{a[d]=f,++c,c===i&&r(a)},f=>s(f))}})}static doWhile(e,n){return new U((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function uC(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fp.oe=-1;function id(t){return t==null}function Nu(t){return t===0&&1/t==-1/0}function dC(t){return typeof t=="number"&&Number.isInteger(t)&&!Nu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||pt.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hc(this.root,e,this.comparator,!0)}}class hc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??pt.RED,this.left=s??pt.EMPTY,this.right=i??pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}pt.EMPTY=null,pt.RED=!0,pt.BLACK=!1;pt.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jy(this.data.getIterator())}getIteratorFrom(e){return new jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(yt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new vt(yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new h1("Invalid base64 string: "+i):i}}(e);return new _t(n)}static fromUint8Array(e){const n=function(s){let i="";for(let a=0;a<s.length;++a)i+=String.fromCharCode(s[a]);return i}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const hC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(t){if(je(!!t),typeof t=="string"){let e=0;const n=hC.exec(t);if(je(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vi(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pp(t){const e=t.mapValue.fields.__previous_value__;return mp(e)?pp(e):e}function cl(t){const e=Ps(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,r,s,i,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=d}}class ul{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ul("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mp(t)?4:pC(t)?9007199254740991:mC(t)?10:11:oe()}function lr(t,e){if(t===e)return!0;const n=wi(t);if(n!==wi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const a=Ps(s.timestampValue),c=Ps(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vi(s.bytesValue).isEqual(vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ke(s.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ke(s.integerValue)===Ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const a=Ke(s.doubleValue),c=Ke(i.doubleValue);return a===c?Nu(a)===Nu(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return No(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(s,i){const a=s.mapValue.fields||{},c=i.mapValue.fields||{};if(Ay(a)!==Ay(c))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(c[u]===void 0||!lr(a[u],c[u])))return!1;return!0}(t,e);default:return oe()}}function dl(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=wi(t),r=wi(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Ke(i.integerValue||i.doubleValue),u=Ke(a.integerValue||a.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return Cy(t.timestampValue,e.timestampValue);case 4:return Cy(cl(t),cl(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(i,a){const c=vi(i),u=vi(a);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),u=a.split("/");for(let d=0;d<c.length&&d<u.length;d++){const f=be(c[d],u[d]);if(f!==0)return f}return be(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const c=be(Ke(i.latitude),Ke(a.latitude));return c!==0?c:be(Ke(i.longitude),Ke(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ry(t.arrayValue,e.arrayValue);case 10:return function(i,a){var c,u,d,f;const p=i.fields||{},g=a.fields||{},w=(c=p.value)===null||c===void 0?void 0:c.arrayValue,_=(u=g.value)===null||u===void 0?void 0:u.arrayValue,S=be(((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0,((f=_==null?void 0:_.values)===null||f===void 0?void 0:f.length)||0);return S!==0?S:Ry(w,_)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===fc.mapValue&&a===fc.mapValue)return 0;if(i===fc.mapValue)return 1;if(a===fc.mapValue)return-1;const c=i.fields||{},u=Object.keys(c),d=a.fields||{},f=Object.keys(d);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=be(u[p],f[p]);if(g!==0)return g;const w=bo(c[u[p]],d[f[p]]);if(w!==0)return w}return be(u.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function Cy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ps(t),r=Ps(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function Ry(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=bo(n[s],r[s]);if(i)return i}return be(n.length,r.length)}function To(t){return Lf(t)}function Lf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ps(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Lf(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const a of r)i?i=!1:s+=",",s+=`${a}:${Lf(n.fields[a])}`;return s+"}"}(t.mapValue):oe()}function Py(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vf(t){return!!t&&"integerValue"in t}function gp(t){return!!t&&"arrayValue"in t}function Dy(t){return!!t&&"nullValue"in t}function Oy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vc(t){return!!t&&"mapValue"in t}function mC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Da(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Da(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Da(t.arrayValue.values[n]);return e}return Object.assign({},t)}function pC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Vc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Da(n)}setAll(e){let n=yt.emptyPath(),r={},s=[];e.forEach((a,c)=>{if(!n.isImmediateParentOf(c)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=c.popLast()}a?r[c.lastSegment()]=Da(a):s.push(c.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Vc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Vc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Kt(Da(this.value))}}function f1(t){const e=[];return Si(t.fields,(n,r)=>{const s=new yt([n]);if(Vc(r)){const i=f1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const a of i)e.push(s.child(a))}else e.push(s)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,i,a,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new jt(e,0,ce.min(),ce.min(),ce.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,ce.min(),ce.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ce.min(),ce.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.position=e,this.inclusive=n}}function Ly(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],a=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(a.referenceValue),n.key):r=bo(a,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function gC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1=class{};class tt extends m1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xC(e,n,r):n==="array-contains"?new _C(e,r):n==="in"?new EC(e,r):n==="not-in"?new NC(e,r):n==="array-contains-any"?new bC(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vC(e,r):new wC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&wi(this.value)===wi(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends m1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zn(e,n)}matches(e){return p1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function p1(t){return t.op==="and"}function g1(t){return yC(t)&&p1(t)}function yC(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function Mf(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+To(t.value);if(g1(t))return t.filters.map(e=>Mf(e)).join(",");{const e=t.filters.map(n=>Mf(n)).join(",");return`${t.op}(${e})`}}function y1(t,e){return t instanceof tt?function(r,s){return s instanceof tt&&r.op===s.op&&r.field.isEqual(s.field)&&lr(r.value,s.value)}(t,e):t instanceof zn?function(r,s){return s instanceof zn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,a,c)=>i&&y1(a,s.filters[c]),!0):!1}(t,e):void oe()}function x1(t){return t instanceof tt?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(t):t instanceof zn?function(n){return n.op.toString()+" {"+n.getFilters().map(x1).join(" ,")+"}"}(t):"Filter"}class xC extends tt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class vC extends tt{constructor(e,n){super(e,"in",n),this.keys=v1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class wC extends tt{constructor(e,n){super(e,"not-in",n),this.keys=v1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function v1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class _C extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&dl(n.arrayValue,this.value)}}class EC extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&dl(this.value.arrayValue,n)}}class NC extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!dl(this.value.arrayValue,n)}}class bC extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n=null,r=[],s=[],i=null,a=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=a,this.endAt=c,this.ue=null}}function My(t,e=null,n=[],r=[],s=null,i=null,a=null){return new TC(t,e,n,r,s,i,a)}function yp(t){const e=ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>To(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>To(r)).join(",")),e.ue=n}return e.ue}function xp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!gC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vy(t.startAt,e.startAt)&&Vy(t.endAt,e.endAt)}function Ff(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n=null,r=[],s=[],i=null,a="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=a,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IC(t,e,n,r,s,i,a,c){return new Fo(t,e,n,r,s,i,a,c)}function vp(t){return new Fo(t)}function Fy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w1(t){return t.collectionGroup!==null}function Oa(t){const e=ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let c=new vt(yt.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new hl(i,r))}),n.has(yt.keyField().canonicalString())||e.ce.push(new hl(yt.keyField(),r))}return e.ce}function or(t){const e=ue(t);return e.le||(e.le=SC(e,Oa(t))),e.le}function SC(t,e){if(t.limitType==="F")return My(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new hl(s.field,i)});const n=t.endAt?new bu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bu(t.startAt.position,t.startAt.inclusive):null;return My(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uf(t,e){const n=t.filters.concat([e]);return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $f(t,e,n){return new Fo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function od(t,e){return xp(or(t),or(e))&&t.limitType===e.limitType}function _1(t){return`${yp(or(t))}|lt:${t.limitType}`}function Mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>x1(s)).join(", ")}]`),id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>To(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>To(s)).join(",")),`Target(${r})`}(or(t))}; limitType=${t.limitType})`}function ad(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Oa(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(a,c,u){const d=Ly(a,c,u);return a.inclusive?d<=0:d<0}(r.startAt,Oa(r),s)||r.endAt&&!function(a,c,u){const d=Ly(a,c,u);return a.inclusive?d>=0:d>0}(r.endAt,Oa(r),s))}(t,e)}function kC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E1(t){return(e,n)=>{let r=!1;for(const s of Oa(t)){const i=AC(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function AC(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,a,c){const u=a.data.field(i),d=c.data.field(i);return u!==null&&d!==null?bo(u,d):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return d1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new ze(te.comparator);function zr(){return jC}const N1=new ze(te.comparator);function wa(...t){let e=N1;for(const n of t)e=e.insert(n.key,n);return e}function b1(t){let e=N1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function si(){return La()}function T1(){return La()}function La(){return new Uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const CC=new ze(te.comparator),RC=new vt(te.comparator);function pe(...t){let e=RC;for(const n of t)e=e.add(n);return e}const PC=new vt(be);function DC(){return PC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nu(e)?"-0":e}}function I1(t){return{integerValue:""+t}}function OC(t,e){return dC(e)?I1(e):wp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function LC(t,e,n){return t instanceof Tu?function(s,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&mp(i)&&(i=pp(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Io?k1(t,e):t instanceof fl?A1(t,e):function(s,i){const a=S1(s,i),c=Uy(a)+Uy(s.Pe);return Vf(a)&&Vf(s.Pe)?I1(c):wp(s.serializer,c)}(t,e)}function VC(t,e,n){return t instanceof Io?k1(t,e):t instanceof fl?A1(t,e):n}function S1(t,e){return t instanceof Iu?function(r){return Vf(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Tu extends ld{}class Io extends ld{constructor(e){super(),this.elements=e}}function k1(t,e){const n=j1(e);for(const r of t.elements)n.some(s=>lr(s,r))||n.push(r);return{arrayValue:{values:n}}}class fl extends ld{constructor(e){super(),this.elements=e}}function A1(t,e){let n=j1(e);for(const r of t.elements)n=n.filter(s=>!lr(s,r));return{arrayValue:{values:n}}}class Iu extends ld{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Uy(t){return Ke(t.integerValue||t.doubleValue)}function j1(t){return gp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n){this.field=e,this.transform=n}}function FC(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Io&&s instanceof Io||r instanceof fl&&s instanceof fl?No(r.elements,s.elements,lr):r instanceof Iu&&s instanceof Iu?lr(r.Pe,s.Pe):r instanceof Tu&&s instanceof Tu}(t.transform,e.transform)}class UC{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cd{}function C1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _p(t.key,_n.none()):new kl(t.key,t.data,_n.none());{const n=t.data,r=Kt.empty();let s=new vt(yt.comparator);for(let i of e.fields)if(!s.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?r.delete(i):r.set(i,a),s=s.add(i)}return new zs(t.key,r,new ln(s.toArray()),_n.none())}}function $C(t,e,n){t instanceof kl?function(s,i,a){const c=s.value.clone(),u=zy(s.fieldTransforms,i,a.transformResults);c.setAll(u),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof zs?function(s,i,a){if(!Mc(s.precondition,i))return void i.convertToUnknownDocument(a.version);const c=zy(s.fieldTransforms,i,a.transformResults),u=i.data;u.setAll(R1(s)),u.setAll(c),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Va(t,e,n,r){return t instanceof kl?function(i,a,c,u){if(!Mc(i.precondition,a))return c;const d=i.value.clone(),f=By(i.fieldTransforms,u,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof zs?function(i,a,c,u){if(!Mc(i.precondition,a))return c;const d=By(i.fieldTransforms,u,a),f=a.data;return f.setAll(R1(i)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,a,c){return Mc(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c}(t,e,n)}function zC(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=S1(r.transform,s||null);i!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,i))}return n||null}function $y(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&No(r,s,(i,a)=>FC(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kl extends cd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class zs extends cd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function R1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function zy(t,e,n){const r=new Map;je(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],a=i.transform,c=e.data.field(i.field);r.set(i.field,VC(a,c,n[s]))}return r}function By(t,e,n){const r=new Map;for(const s of t){const i=s.transform,a=n.data.field(s.field);r.set(s.field,LC(i,a,e))}return r}class _p extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BC extends cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&$C(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Va(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=T1();return this.mutations.forEach(s=>{const i=e.get(s.key),a=i.overlayedDocument;let c=this.applyToLocalView(a,i.mutatedFields);c=n.has(s.key)?null:c;const u=C1(a,c);u!==null&&r.set(s.key,u),a.isValidDocument()||a.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(n,r)=>$y(n,r))&&No(this.baseMutations,e.baseMutations,(n,r)=>$y(n,r))}}class Ep{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){je(e.mutations.length===r.length);let s=function(){return CC}();const i=e.mutations;for(let a=0;a<i.length;a++)s=s.insert(i[a].key,r[a].version);return new Ep(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,xe;function GC(t){switch(t){default:return oe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function P1(t){if(t===void 0)return $r("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ze.OK:return M.OK;case Ze.CANCELLED:return M.CANCELLED;case Ze.UNKNOWN:return M.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return M.INTERNAL;case Ze.UNAVAILABLE:return M.UNAVAILABLE;case Ze.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ze.NOT_FOUND:return M.NOT_FOUND;case Ze.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ze.ABORTED:return M.ABORTED;case Ze.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ze.DATA_LOSS:return M.DATA_LOSS;default:return oe()}}(xe=Ze||(Ze={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new li([4294967295,4294967295],0);function qy(t){const e=KC().encode(t),n=new r1;return n.update(e),new Uint8Array(n.digest())}function Wy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new li([n,r],0),new li([s,i],0)]}class Np{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _a(`Invalid padding: ${n}`);if(r<0)throw new _a(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _a(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _a(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=li.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(li.fromNumber(r)));return s.compare(QC)===1&&(s=new li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=qy(e),[r,s]=Wy(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);if(!this.de(a))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new Np(i,s,n);return r.forEach(c=>a.insert(c)),a}insert(e){if(this.Ie===0)return;const n=qy(e),[r,s]=Wy(n);for(let i=0;i<this.hashCount;i++){const a=this.Ee(r,s,i);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _a extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ud(ce.min(),s,new ze(be),zr(),pe())}}class Al{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Al(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class D1{constructor(e,n){this.targetId=e,this.me=n}}class O1{constructor(e,n,r=_t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Hy{constructor(){this.fe=0,this.ge=Ky(),this.pe=_t.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:oe()}}),new Al(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Ky()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class YC{constructor(e){this.Le=e,this.Be=new Map,this.ke=zr(),this.qe=Gy(),this.Qe=new ze(be)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Ff(i))if(r===0){const a=new te(i.path);this.Ue(n,a,jt.newNoDocument(a,ce.min()))}else je(r===1);else{const a=this.Ye(n);if(a!==r){const c=this.Ze(e),u=c?this.Xe(c,e,a):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let a,c;try{a=vi(r).toUint8Array()}catch(u){if(u instanceof h1)return Eo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new Np(a,s,i)}catch(u){return Eo(u instanceof _a?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.Ie===0?null:c}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const a=this.Le.tt(),c=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,a)=>{const c=this.Je(a);if(c){if(i.current&&Ff(c.target)){const u=new te(c.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,jt.newNoDocument(u,e))}i.be&&(n.set(a,i.ve()),i.Ce())}});let r=pe();this.qe.forEach((i,a)=>{let c=!0;a.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(i))}),this.ke.forEach((i,a)=>a.setReadTime(e));const s=new ud(e,n,this.Qe,this.ke,r);return this.ke=zr(),this.qe=Gy(),this.Qe=new ze(be),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Hy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new vt(be),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Gy(){return new ze(te.comparator)}function Ky(){return new ze(te.comparator)}const XC={asc:"ASCENDING",desc:"DESCENDING"},JC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ZC={and:"AND",or:"OR"};class eR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zf(t,e){return t.useProto3Json||id(e)?e:{value:e}}function Su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tR(t,e){return Su(t,e.toTimestamp())}function ar(t){return je(!!t),ce.fromTimestamp(function(n){const r=Ps(n);return new ot(r.seconds,r.nanos)}(t))}function bp(t,e){return Bf(t,e).canonicalString()}function Bf(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function V1(t){const e=Le.fromString(t);return je(z1(e)),e}function qf(t,e){return bp(t.databaseId,e.path)}function xh(t,e){const n=V1(e);if(n.get(1)!==t.databaseId.projectId)throw new Q(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Q(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(F1(n))}function M1(t,e){return bp(t.databaseId,e)}function nR(t){const e=V1(t);return e.length===4?Le.emptyPath():F1(e)}function Wf(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F1(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Qy(t,e,n){return{name:qf(t,e),fields:n.value.mapValue.fields}}function rR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,f){return d.useProto3Json?(je(f===void 0||typeof f=="string"),_t.fromBase64String(f||"")):(je(f===void 0||f instanceof Buffer||f instanceof Uint8Array),_t.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,c=a&&function(d){const f=d.code===void 0?M.UNKNOWN:P1(d.code);return new Q(f,d.message||"")}(a);n=new O1(r,s,i,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xh(t,r.document.name),i=ar(r.document.updateTime),a=r.document.createTime?ar(r.document.createTime):ce.min(),c=new Kt({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(s,i,a,c),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Fc(d,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xh(t,r.document),i=r.readTime?ar(r.readTime):ce.min(),a=jt.newNoDocument(s,i),c=r.removedTargetIds||[];n=new Fc([],c,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xh(t,r.document),i=r.removedTargetIds||[];n=new Fc([],i,s,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,a=new HC(s,i),c=r.targetId;n=new D1(c,a)}}return n}function sR(t,e){let n;if(e instanceof kl)n={update:Qy(t,e.key,e.value)};else if(e instanceof _p)n={delete:qf(t,e.key)};else if(e instanceof zs)n={update:Qy(t,e.key,e.data),updateMask:fR(e.fieldMask)};else{if(!(e instanceof BC))return oe();n={verify:qf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Tu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Io)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof fl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Iu)return{fieldPath:a.field.canonicalString(),increment:c.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:tR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:oe()}(t,e.precondition)),n}function iR(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(s,i){let a=s.updateTime?ar(s.updateTime):ar(i);return a.isEqual(ce.min())&&(a=ar(i)),new UC(a,s.transformResults||[])}(n,e))):[]}function oR(t,e){return{documents:[M1(t,e.path)]}}function aR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=M1(t,s);const i=function(d){if(d.length!==0)return $1(zn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Fi(g.field),direction:uR(g.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=zf(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function lR(t){let e=nR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){je(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(p){const g=U1(p);return g instanceof zn&&g1(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(_){return new hl(Ui(_.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let c=null;n.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,id(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,w=p.values||[];return new bu(w,g)}(n.startAt));let d=null;return n.endAt&&(d=function(p){const g=!p.before,w=p.values||[];return new bu(w,g)}(n.endAt)),IC(e,s,a,i,c,"F",u,d)}function cR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ui(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ui(n.unaryFilter.field);return tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ui(n.unaryFilter.field);return tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ui(n.unaryFilter.field);return tt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return tt.create(Ui(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zn.create(n.compositeFilter.filters.map(r=>U1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function uR(t){return XC[t]}function dR(t){return JC[t]}function hR(t){return ZC[t]}function Fi(t){return{fieldPath:t.canonicalString()}}function Ui(t){return yt.fromServerFormat(t.fieldPath)}function $1(t){return t instanceof tt?function(n){if(n.op==="=="){if(Oy(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NAN"}};if(Dy(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Oy(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NOT_NAN"}};if(Dy(n.value))return{unaryFilter:{field:Fi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fi(n.field),op:dR(n.op),value:n.value}}}(t):t instanceof zn?function(n){const r=n.getFilters().map(s=>$1(s));return r.length===1?r[0]:{compositeFilter:{op:hR(n.op),filters:r}}}(t):oe()}function fR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function z1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n,r,s,i=ce.min(),a=ce.min(),c=_t.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new ps(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ps(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.ct=e}}function pR(t){const e=lR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$f(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.un=new yR}addToCollectionParentIndex(e,n){return this.un.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Rs.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class yR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new vt(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new vt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new So(0)}static kn(){return new So(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.changes=new Uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Va(r.mutation,s,ln.empty(),ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let a=wa();return i.forEach((c,u)=>{a=a.insert(c,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((a,c)=>{n.set(a,c)})})}computeViews(e,n,r,s){let i=zr();const a=La(),c=function(){return La()}();return n.forEach((u,d)=>{const f=r.get(d.key);s.has(d.key)&&(f===void 0||f.mutation instanceof zs)?i=i.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),Va(f.mutation,d,f.mutation.getFieldMask(),ot.now())):a.set(d.key,ln.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,f)=>a.set(d,f)),n.forEach((d,f)=>{var p;return c.set(d,new vR(f,(p=a.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){const r=La();let s=new ze((a,c)=>a-c),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const c of a)c.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let f=r.get(u)||ln.empty();f=c.applyToLocalView(d,f),r.set(u,f);const p=(s.get(c.batchId)||pe()).add(u);s=s.insert(c.batchId,p)})}).next(()=>{const a=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),d=u.key,f=u.value,p=T1();f.forEach(g=>{if(!i.has(g)){const w=C1(n.get(g),r.get(g));w!==null&&p.set(g,w),i=i.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,p))}return U.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const a=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):U.resolve(si());let c=-1,u=i;return a.next(d=>U.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),i.get(f)?U.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,pe())).next(f=>({batchId:c,changes:b1(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=wa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let a=wa();return this.indexManager.getCollectionParents(e,i).next(c=>U.forEach(c,u=>{const d=function(p,g){return new Fo(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(f=>{f.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(a=>{i.forEach((u,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,jt.newInvalidDocument(f)))});let c=wa();return a.forEach((u,d)=>{const f=i.get(u);f!==void 0&&Va(f.mutation,d,ln.empty(),ot.now()),ad(n,d)&&(c=c.insert(u,d))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return U.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ar(s.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:pR(s.bundledQuery),readTime:ar(s.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.overlays=new ze(te.comparator),this.Ir=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=si();return U.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const s=si(),i=n.length+1,a=new te(n.child("")),c=this.overlays.getIteratorFrom(a);for(;c.hasNext();){const u=c.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return U.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((d,f)=>d-f);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=i.get(d.largestBatchId);f===null&&(f=si(),i=i.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const c=si(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=s)););return U.resolve(c)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const a=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new WC(n,r));let i=this.Ir.get(n);i===void 0&&(i=pe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.sessionToken=_t.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(){this.Tr=new vt(ct.Er),this.dr=new vt(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new te(new Le([])),r=new ct(n,e),s=new ct(n,e+1),i=[];return this.dr.forEachInRange([r,s],a=>{this.Vr(a),i.push(a.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new te(new Le([])),r=new ct(n,e),s=new ct(n,e+1);let i=pe();return this.dr.forEachInRange([r,s],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return te.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new vt(ct.Er)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new qC(i,n,r,s);this.mutationQueue.push(a);for(const c of s)this.br=this.br.add(new ct(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),s=new ct(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],a=>{const c=this.Dr(a.wr);i.push(c)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(be);return n.forEach(s=>{const i=new ct(s,0),a=new ct(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,a],c=>{r=r.add(c.wr)})}),U.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const a=new ct(new te(i),0);let c=new vt(be);return this.br.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(u.wr)),!0)},a),U.resolve(this.Cr(c))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return U.forEach(n.mutations,s=>{const i=new ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ct(n,0),s=this.br.firstAfterOrEqual(r);return U.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.Mr=e,this.docs=function(){return new ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():jt.newInvalidDocument(s))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=zr();const a=n.path,c=new te(a.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:d,value:{document:f}}=u.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||aC(oC(f),r)<=0||(s.has(f.key)||ad(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,r,s){oe()}Or(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new IR(this)}getSize(e){return U.resolve(this.size)}}class IR extends xR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.persistence=e,this.Nr=new Uo(n=>yp(n),xp),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tp,this.targetCount=0,this.kr=So.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),U.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new So(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Kn(n),U.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((a,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),U.waitFor(i).next(()=>s)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(a=>{i.push(s.markPotentiallyOrphaned(e,a))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fp(0),this.Kr=!1,this.Kr=!0,this.$r=new NR,this.referenceDelegate=e(this),this.Ur=new SR(this),this.indexManager=new gR,this.remoteDocumentCache=function(s){return new TR(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new mR(n),this.Gr=new _R(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ER,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new bR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const s=new AR(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return U.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class AR extends cC{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Jr=new Tp,this.Yr=null}static Zr(e){return new Ip(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),U.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Xr,r=>{const s=te.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return U.or([()=>U.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Sp(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return mS()?8:uC(Rt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new jR;return this.Xi(e,n,a).next(c=>{if(i.result=c,this.zi)return this.es(e,n,a,c.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(da()<=ge.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),U.resolve()):(da()<=ge.DEBUG&&X("QueryEngine","Query:",Mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(da()<=ge.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):U.resolve())}Yi(e,n){if(Fy(n))return U.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$f(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const a=pe(...i);return this.Ji.getDocuments(e,a).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.ts(n,c);return this.ns(n,d,a,u.readTime)?this.Yi(e,$f(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,s){return Fy(n)||s.isEqual(ce.min())?U.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const a=this.ts(n,i);return this.ns(n,a,r,s)?U.resolve(null):(da()<=ge.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Mi(n)),this.rs(e,a,n,iC(s,-1)).next(c=>c))})}ts(e,n){let r=new vt(E1(e));return n.forEach((s,i)=>{ad(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return da()<=ge.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Mi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Rs.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ze(be),this._s=new Uo(i=>yp(i),xp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function PR(t,e,n,r){return new RR(t,e,n,r)}async function B1(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const a=[],c=[];let u=pe();for(const d of s){a.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}for(const d of i){c.push(d.batchId);for(const f of d.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:a,addedBatchIds:c}))})})}function DR(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,d,f){const p=d.batch,g=p.keys();let w=U.resolve();return g.forEach(_=>{w=w.next(()=>f.getEntry(u,_)).next(S=>{const j=d.docVersions.get(_);je(j!==null),S.version.compareTo(j)<0&&(p.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),f.addEntry(S)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=pe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(u=u.add(c.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function q1(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function OR(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const c=[];e.targetChanges.forEach((f,p)=>{const g=s.get(p);if(!g)return;c.push(n.Ur.removeMatchingKeys(i,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(i,f.addedDocuments,p)));let w=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(_t.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),s=s.insert(p,w),function(S,j,N){return S.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(g,w,f)&&c.push(n.Ur.updateTargetData(i,w))});let u=zr(),d=pe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),c.push(LR(i,a,e.documentUpdates).next(f=>{u=f.Ps,d=f.Is})),!r.isEqual(ce.min())){const f=n.Ur.getLastRemoteSnapshotVersion(i).next(p=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));c.push(f)}return U.waitFor(c).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.os=s,i))}function LR(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let a=zr();return n.forEach((c,u)=>{const d=i.get(c);u.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(c,u.readTime),a=a.insert(c,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),a=a.insert(c,u)):X("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",u.version)}),{Ps:a,Is:s}})}function VR(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MR(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,U.resolve(s)):n.Ur.allocateTargetId(r).next(a=>(s=new ps(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Hf(t,e,n){const r=ue(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,a=>r.persistence.referenceDelegate.removeTarget(a,s))}catch(a){if(!Sl(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Yy(t,e,n){const r=ue(t);let s=ce.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,d,f){const p=ue(u),g=p._s.get(f);return g!==void 0?U.resolve(p.os.get(g)):p.Ur.getTargetData(d,f)}(r,a,or(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,c.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?s:ce.min(),n?i:pe())).next(c=>(FR(r,kC(e),c),{documents:c,Ts:i})))}function FR(t,e,n){let r=t.us.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Xy{constructor(){this.activeTargetIds=DC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UR{constructor(){this.so=new Xy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Xy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function vh(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class qR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,a){const c=vh(),u=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${c}:`,u,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,a),this.No(n,u,d,s).then(f=>(X("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw Eo("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",s),f})}Lo(n,r,s,i,a,c){return this.Mo(n,r,s,i,a)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>n[a]=i),s&&s.headers.forEach((i,a)=>n[a]=i)}xo(n,r){const s=zR[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=vh();return new Promise((a,c)=>{const u=new s1;u.setWithCredentials(!0),u.listenOnce(i1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Lc.NO_ERROR:const f=u.getResponseJson();X(St,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case Lc.TIMEOUT:X(St,`RPC '${e}' ${i} timed out`),c(new Q(M.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const p=u.getStatus();if(X(St,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const _=function(j){const N=j.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(N)>=0?N:M.UNKNOWN}(w.status);c(new Q(_,w.message))}else c(new Q(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Q(M.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{X(St,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);X(St,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=vh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=l1(),c=a1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=i.join("");X(St,`Creating RPC '${e}' stream ${s}: ${f}`,u);const p=a.createWebChannel(f,u);let g=!1,w=!1;const _=new BR({Io:j=>{w?X(St,`Not sending because RPC '${e}' stream ${s} is closed:`,j):(g||(X(St,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),X(St,`RPC '${e}' stream ${s} sending:`,j),p.send(j))},To:()=>p.close()}),S=(j,N,x)=>{j.listen(N,b=>{try{x(b)}catch(L){setTimeout(()=>{throw L},0)}})};return S(p,va.EventType.OPEN,()=>{w||(X(St,`RPC '${e}' stream ${s} transport opened.`),_.yo())}),S(p,va.EventType.CLOSE,()=>{w||(w=!0,X(St,`RPC '${e}' stream ${s} transport closed`),_.So())}),S(p,va.EventType.ERROR,j=>{w||(w=!0,Eo(St,`RPC '${e}' stream ${s} transport errored:`,j),_.So(new Q(M.UNAVAILABLE,"The operation could not be completed")))}),S(p,va.EventType.MESSAGE,j=>{var N;if(!w){const x=j.data[0];je(!!x);const b=x,L=b.error||((N=b[0])===null||N===void 0?void 0:N.error);if(L){X(St,`RPC '${e}' stream ${s} received error:`,L);const F=L.status;let $=function(I){const k=Ze[I];if(k!==void 0)return P1(k)}(F),T=L.message;$===void 0&&($=M.INTERNAL,T="Unknown error status: "+F+" with message "+L.message),w=!0,_.So(new Q($,T)),p.close()}else X(St,`RPC '${e}' stream ${s} received:`,x),_.bo(x)}}),S(c,o1.STAT_EVENT,j=>{j.stat===Of.PROXY?X(St,`RPC '${e}' stream ${s} detected buffering proxy`):j.stat===Of.NOPROXY&&X(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.wo()},0),_}}function wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){return new eR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&X("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,s,i,a,c,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new W1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new Q(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WR extends H1{constructor(e,n,r,s,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=rR(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?ar(a.readTime):ce.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Wf(this.serializer),n.addTarget=function(i,a){let c;const u=a.target;if(c=Ff(u)?{documents:oR(i,u)}:{query:aR(i,u)._t},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=L1(i,a.resumeToken);const d=zf(i,a.expectedCount);d!==null&&(c.expectedCount=d)}else if(a.snapshotVersion.compareTo(ce.min())>0){c.readTime=Su(i,a.snapshotVersion.toTimestamp());const d=zf(i,a.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);const r=cR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Wf(this.serializer),n.removeTarget=e,this.a_(n)}}class HR extends H1{constructor(e,n,r,s,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,a),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=iR(e.writeResults,e.commitTime),r=ar(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Wf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new Q(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Mo(e,Bf(n,r),s,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(M.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Lo(e,Bf(n,r),s,a,c,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Q(M.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class KR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(async()=>{ki(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=ue(u);d.L_.add(4),await jl(d),d.q_.set("Unknown"),d.L_.delete(4),await hd(d)}(this))})}),this.q_=new KR(r,s)}}async function hd(t){if(ki(t))for(const e of t.B_)await e(!0)}async function jl(t){for(const e of t.B_)await e(!1)}function G1(t,e){const n=ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Cp(n)?jp(n):$o(n).r_()&&Ap(n,e))}function kp(t,e){const n=ue(t),r=$o(n);n.N_.delete(e),r.r_()&&K1(n,e),n.N_.size===0&&(r.r_()?r.o_():ki(n)&&n.q_.set("Unknown"))}function Ap(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).A_(e)}function K1(t,e){t.Q_.xe(e),$o(t).R_(e)}function jp(t){t.Q_=new YC({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.q_.v_()}function Cp(t){return ki(t)&&!$o(t).n_()&&t.N_.size>0}function ki(t){return ue(t).L_.size===0}function Q1(t){t.Q_=void 0}async function YR(t){t.q_.set("Online")}async function XR(t){t.N_.forEach((e,n)=>{Ap(t,e)})}async function JR(t,e){Q1(t),Cp(t)?(t.q_.M_(e),jp(t)):t.q_.set("Unknown")}async function ZR(t,e,n){if(t.q_.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(s,i){const a=i.cause;for(const c of i.targetIds)s.N_.has(c)&&(await s.remoteSyncer.rejectListen(c,a),s.N_.delete(c),s.Q_.removeTarget(c))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ku(t,r)}else if(e instanceof Fc?t.Q_.Ke(e):e instanceof D1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ce.min()))try{const r=await q1(t.localStore);n.compareTo(r)>=0&&await function(i,a){const c=i.Q_.rt(a);return c.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const f=i.N_.get(d);f&&i.N_.set(d,f.withResumeToken(u.resumeToken,a))}}),c.targetMismatches.forEach((u,d)=>{const f=i.N_.get(u);if(!f)return;i.N_.set(u,f.withResumeToken(_t.EMPTY_BYTE_STRING,f.snapshotVersion)),K1(i,u);const p=new ps(f.target,u,d,f.sequenceNumber);Ap(i,p)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await ku(t,r)}}async function ku(t,e,n){if(!Sl(e))throw e;t.L_.add(1),await jl(t),t.q_.set("Offline"),n||(n=()=>q1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await hd(t)})}function Y1(t,e){return e().catch(n=>ku(t,n,e))}async function fd(t){const e=ue(t),n=Ds(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;eP(e);)try{const s=await VR(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,tP(e,s)}catch(s){await ku(e,s)}X1(e)&&J1(e)}function eP(t){return ki(t)&&t.O_.length<10}function tP(t,e){t.O_.push(e);const n=Ds(t);n.r_()&&n.V_&&n.m_(e.mutations)}function X1(t){return ki(t)&&!Ds(t).n_()&&t.O_.length>0}function J1(t){Ds(t).start()}async function nP(t){Ds(t).p_()}async function rP(t){const e=Ds(t);for(const n of t.O_)e.m_(n.mutations)}async function sP(t,e,n){const r=t.O_.shift(),s=Ep.from(r,e,n);await Y1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fd(t)}async function iP(t,e){e&&Ds(t).V_&&await async function(r,s){if(function(a){return GC(a)&&a!==M.ABORTED}(s.code)){const i=r.O_.shift();Ds(r).s_(),await Y1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fd(r)}}(t,e),X1(t)&&J1(t)}async function Zy(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=ki(n);n.L_.add(3),await jl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await hd(n)}async function oP(t,e){const n=ue(t);e?(n.L_.delete(2),await hd(n)):e||(n.L_.add(2),await jl(n),n.q_.set("Unknown"))}function $o(t){return t.K_||(t.K_=function(n,r,s){const i=ue(n);return i.w_(),new WR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:YR.bind(null,t),Ro:XR.bind(null,t),mo:JR.bind(null,t),d_:ZR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Cp(t)?jp(t):t.q_.set("Unknown")):(await t.K_.stop(),Q1(t))})),t.K_}function Ds(t){return t.U_||(t.U_=function(n,r,s){const i=ue(n);return i.w_(),new HR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:nP.bind(null,t),mo:iP.bind(null,t),f_:rP.bind(null,t),g_:sP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await fd(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const a=Date.now()+r,c=new Rp(e,n,a,s,i);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pp(t,e){if($r("AsyncQueue",`${e}: ${t}`),Sl(t))return new Q(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=wa(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.W_=new ze(te.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,s,i,a,c,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const a=[];return n.forEach(c=>{a.push({type:0,doc:c})}),new ko(e,n,ho.emptySet(n),a,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class lP{constructor(){this.queries=tx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=tx(),i.forEach((a,c)=>{for(const u of c.j_)u.onError(r)})})(this,new Q(M.ABORTED,"Firestore shutting down"))}}function tx(){return new Uo(t=>_1(t),od)}async function Z1(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new aP,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const c=Pp(a,`Initialization of query '${Mi(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Dp(n)}async function eE(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const a=i.j_.indexOf(e);a>=0&&(i.j_.splice(a,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function cP(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,a=n.queries.get(i);if(a){for(const c of a.j_)c.X_(s)&&(r=!0);a.z_=s}}r&&Dp(n)}function uP(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Dp(t){t.Y_.forEach(e=>{e.next()})}var Gf,nx;(nx=Gf||(Gf={})).ea="default",nx.Cache="cache";class tE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.key=e}}class rE{constructor(e){this.key=e}}class dP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=E1(e),this.Ra=new ho(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ex,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,a=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,p)=>{const g=s.get(f),w=ad(this.query,p)?p:null,_=!!g&&this.mutatedKeys.has(g.key),S=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let j=!1;g&&w?g.data.isEqual(w.data)?_!==S&&(r.track({type:3,doc:w}),j=!0):this.ga(g,w)||(r.track({type:2,doc:w}),j=!0,(u&&this.Aa(w,u)>0||d&&this.Aa(w,d)<0)&&(c=!0)):!g&&w?(r.track({type:0,doc:w}),j=!0):g&&!w&&(r.track({type:1,doc:g}),j=!0,(u||d)&&(c=!0)),j&&(w?(a=a.add(w),i=S?i.add(f):i.delete(f)):(a=a.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:c,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((f,p)=>function(w,_){const S=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return S(w)-S(_)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),s=s!=null&&s;const c=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,d=u!==this.Ea;return this.Ea=u,a.length!==0||d?{snapshot:new ko(this.query,e.Ra,i,a,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ex,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new rE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new nE(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ko.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fP{constructor(e){this.key=e,this.va=!1}}class mP{constructor(e,n,r,s,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Uo(c=>_1(c),od),this.Ma=new Map,this.xa=new Set,this.Oa=new ze(te.comparator),this.Na=new Map,this.La=new Tp,this.Ba={},this.ka=new Map,this.qa=So.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function pP(t,e,n=!0){const r=cE(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await sE(r,e,n,!0),s}async function gP(t,e){const n=cE(t);await sE(n,e,!0,!1)}async function sE(t,e,n,r){const s=await MR(t.localStore,or(e)),i=s.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let c;return r&&(c=await yP(t,e,i,a==="current",s.resumeToken)),t.isPrimaryClient&&n&&G1(t.remoteStore,s),c}async function yP(t,e,n,r,s){t.Ka=(p,g,w)=>async function(S,j,N,x){let b=j.view.ma(N);b.ns&&(b=await Yy(S.localStore,j.query,!1).then(({documents:T})=>j.view.ma(T,b)));const L=x&&x.targetChanges.get(j.targetId),F=x&&x.targetMismatches.get(j.targetId)!=null,$=j.view.applyChanges(b,S.isPrimaryClient,L,F);return sx(S,j.targetId,$.wa),$.snapshot}(t,p,g,w);const i=await Yy(t.localStore,e,!0),a=new dP(e,i.Ts),c=a.ma(i.documents),u=Al.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=a.applyChanges(c,t.isPrimaryClient,u);sx(t,n,d.wa);const f=new hP(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function xP(t,e,n){const r=ue(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(a=>!od(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Hf(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&kp(r.remoteStore,s.targetId),Kf(r,s.targetId)}).catch(Il)):(Kf(r,s.targetId),await Hf(r.localStore,s.targetId,!0))}async function vP(t,e){const n=ue(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),kp(n.remoteStore,r.targetId))}async function wP(t,e,n){const r=SP(t);try{const s=await function(a,c){const u=ue(a),d=ot.now(),f=c.reduce((w,_)=>w.add(_.key),pe());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let _=zr(),S=pe();return u.cs.getEntries(w,f).next(j=>{_=j,_.forEach((N,x)=>{x.isValidDocument()||(S=S.add(N))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,_)).next(j=>{p=j;const N=[];for(const x of c){const b=zC(x,p.get(x.key).overlayedDocument);b!=null&&N.push(new zs(x.key,b,f1(b.value.mapValue),_n.exists(!0)))}return u.mutationQueue.addMutationBatch(w,d,N,c)}).next(j=>{g=j;const N=j.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(w,j.batchId,N)})}).then(()=>({batchId:g.batchId,changes:b1(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(a,c,u){let d=a.Ba[a.currentUser.toKey()];d||(d=new ze(be)),d=d.insert(c,u),a.Ba[a.currentUser.toKey()]=d}(r,s.batchId,n),await Cl(r,s.changes),await fd(r.remoteStore)}catch(s){const i=Pp(s,"Failed to persist write");n.reject(i)}}async function iE(t,e){const n=ue(t);try{const r=await OR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const a=n.Na.get(i);a&&(je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?a.va=!0:s.modifiedDocuments.size>0?je(a.va):s.removedDocuments.size>0&&(je(a.va),a.va=!1))}),await Cl(n,r,e)}catch(r){await Il(r)}}function rx(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,a)=>{const c=a.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(a,c){const u=ue(a);u.onlineState=c;let d=!1;u.queries.forEach((f,p)=>{for(const g of p.j_)g.Z_(c)&&(d=!0)}),d&&Dp(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _P(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let a=new ze(te.comparator);a=a.insert(i,jt.newNoDocument(i,ce.min()));const c=pe().add(i),u=new ud(ce.min(),new Map,new ze(be),a,c);await iE(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),Op(r)}else await Hf(r.localStore,e,!1).then(()=>Kf(r,e,n)).catch(Il)}async function EP(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await DR(n.localStore,e);aE(n,r,null),oE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cl(n,s)}catch(s){await Il(s)}}async function NP(t,e,n){const r=ue(t);try{const s=await function(a,c){const u=ue(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return u.mutationQueue.lookupMutationBatch(d,c).next(p=>(je(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(d,p))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>u.localDocuments.getDocuments(d,f))})}(r.localStore,e);aE(r,e,n),oE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cl(r,s)}catch(s){await Il(s)}}function oE(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function aE(t,e,n){const r=ue(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Kf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||lE(t,r)})}function lE(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(kp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Op(t))}function sx(t,e,n){for(const r of n)r instanceof nE?(t.La.addReference(r.key,e),bP(t,r)):r instanceof rE?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||lE(t,r.key)):oe()}function bP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),Op(t))}function Op(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new te(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new fP(n)),t.Oa=t.Oa.insert(n,r),G1(t.remoteStore,new ps(or(vp(n.path)),r,"TargetPurposeLimboResolution",fp.oe))}}async function Cl(t,e,n){const r=ue(t),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{a.push(r.Ka(u,e,n).then(d=>{var f;if((d||n)&&r.isPrimaryClient){const p=d?!d.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(d){s.push(d);const p=Sp.Wi(u.targetId,d);i.push(p)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(u,d){const f=ue(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(d,g=>U.forEach(g.$i,w=>f.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>U.forEach(g.Ui,w=>f.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!Sl(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const w=f.os.get(g),_=w.snapshotVersion,S=w.withLastLimboFreeSnapshotVersion(_);f.os=f.os.insert(g,S)}}}(r.localStore,i))}async function TP(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await B1(n.localStore,e);n.currentUser=e,function(i,a){i.ka.forEach(c=>{c.forEach(u=>{u.reject(new Q(M.CANCELLED,a))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cl(n,r.hs)}}function IP(t,e){const n=ue(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let s=pe();const i=n.Ma.get(e);if(!i)return s;for(const a of i){const c=n.Fa.get(a);s=s.unionWith(c.view.Va)}return s}}function cE(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_P.bind(null,e),e.Ca.d_=cP.bind(null,e.eventManager),e.Ca.$a=uP.bind(null,e.eventManager),e}function SP(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NP.bind(null,e),e}class Au{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return PR(this.persistence,new CR,e.initialUser,this.serializer)}Ga(e){return new kR(Ip.Zr,this.serializer)}Wa(e){return new UR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Au.provider={build:()=>new Au};class Qf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>rx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TP.bind(null,this.syncEngine),await oP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lP}()}createDatastore(e){const n=dd(e.databaseInfo.databaseId),r=function(i){return new qR(i)}(e.databaseInfo);return function(i,a,c,u){return new GR(i,a,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,a,c){return new QR(r,s,i,a,c)}(this.localStore,this.datastore,e.asyncQueue,n=>rx(this.syncEngine,n,0),function(){return Jy.D()?new Jy:new $R}())}createSyncEngine(e,n){return function(s,i,a,c,u,d,f){const p=new mP(s,i,a,c,u,d);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);X("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await jl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qf.provider={build:()=>new Qf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=kt.UNAUTHENTICATED,this.clientId=u1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async a=>{X("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _h(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await B1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ix(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AP(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Zy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Zy(e.remoteStore,s)),t._onlineComponents=e}async function AP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await _h(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===M.FAILED_PRECONDITION||s.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await _h(t,new Au)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await _h(t,new Au);return t._offlineComponents}async function dE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await ix(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await ix(t,new Qf))),t._onlineComponents}function jP(t){return dE(t).then(e=>e.syncEngine)}async function hE(t){const e=await dE(t),n=e.eventManager;return n.onListen=pP.bind(null,e.syncEngine),n.onUnlisten=xP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vP.bind(null,e.syncEngine),n}function CP(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,c,u,d){const f=new uE({next:g=>{f.Za(),a.enqueueAndForget(()=>eE(i,p));const w=g.docs.has(c);!w&&g.fromCache?d.reject(new Q(M.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&u&&u.source==="server"?d.reject(new Q(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new tE(vp(c.path),f,{includeMetadataChanges:!0,_a:!0});return Z1(i,p)}(await hE(t),t.asyncQueue,e,n,r)),r.promise}function RP(t,e,n={}){const r=new Pr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,c,u,d){const f=new uE({next:g=>{f.Za(),a.enqueueAndForget(()=>eE(i,p)),g.fromCache&&u.source==="server"?d.reject(new Q(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new tE(c,f,{includeMetadataChanges:!0,_a:!0});return Z1(i,p)}(await hE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){if(!n)throw new Q(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function PP(t,e,n,r){if(e===!0&&r===!0)throw new Q(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ax(t){if(!te.isDocumentKey(t))throw new Q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function lx(t){if(te.isDocumentKey(t))throw new Q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(t);throw new Q(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Yj;switch(r.type){case"firstParty":return new eC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ox.get(n);r&&(X("ComponentProvider","Removing Datastore"),ox.delete(n),r.terminate())}(this),Promise.resolve()}}function DP(t,e,n,r={}){var s;const i=(t=Bn(t,pd))._getSettings(),a=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==a&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=kt.MOCK_USER;else{c=g_(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new Q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kt(d)}t._authCredentials=new Xj(new c1(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}}class ks extends Ai{constructor(e,n,r){super(e,n,vp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new te(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function Qe(t,e,...n){if(t=Je(t),mE("collection","path",e),t instanceof pd){const r=Le.fromString(e,...n);return lx(r),new ks(t,null,r)}{if(!(t instanceof Ut||t instanceof ks))throw new Q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return lx(r),new ks(t.firestore,null,r)}}function ke(t,e,...n){if(t=Je(t),arguments.length===1&&(e=u1.newId()),mE("doc","path",e),t instanceof pd){const r=Le.fromString(e,...n);return ax(r),new Ut(t,null,new te(r))}{if(!(t instanceof Ut||t instanceof ks))throw new Q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return ax(r),new Ut(t.firestore,t instanceof ks?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new W1(this,"async_queue_retry"),this.Vu=()=>{const r=wh();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Pr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),c}(r);throw $r("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Rp.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&oe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ji extends pd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ux,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ux(e),this._firestoreClient=void 0,await e}}}function OP(t,e){const n=typeof t=="object"?t:np(),r=typeof t=="string"?t:"(default)",s=td(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=f_("firestore");i&&DP(s,...i)}return s}function Lp(t){if(t._terminated)throw new Q(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LP(t),t._firestoreClient}function LP(t){var e,n,r;const s=t._freezeSettings(),i=function(c,u,d,f){return new fC(c,u,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,fE(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new kP(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(_t.fromBase64String(e))}catch(n){throw new Q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=/^__.*__$/;class MP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new kl(e,this.data,n,this.fieldTransforms)}}class pE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class xd{constructor(e,n,r,s,i,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ju(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(gE(this.Cu)&&VP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class FP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dd(e)}Qu(e,n,r,s=!1){return new xd({Cu:e,methodName:n,qu:r,path:yt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vd(t){const e=t._freezeSettings(),n=dd(t._databaseId);return new FP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yE(t,e,n,r,s,i={}){const a=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Up("Data must be an object, but it was:",a,r);const c=xE(r,a);let u,d;if(i.merge)u=new ln(a.fieldMask),d=a.fieldTransforms;else if(i.mergeFields){const f=[];for(const p of i.mergeFields){const g=Yf(e,p,n);if(!a.contains(g))throw new Q(M.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);wE(f,g)||f.push(g)}u=new ln(f),d=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,d=a.fieldTransforms;return new MP(new Kt(c),u,d)}class wd extends yd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wd}}function UP(t,e,n){return new xd({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fp extends yd{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=UP(this,e,!0),r=this.Ku.map(i=>zo(i,n)),s=new Io(r);return new MC(e.path,s)}isEqual(e){return e instanceof Fp&&il(this.Ku,e.Ku)}}function $P(t,e,n,r){const s=t.Qu(1,e,n);Up("Data must be an object, but it was:",s,r);const i=[],a=Kt.empty();Si(r,(u,d)=>{const f=$p(e,u,n);d=Je(d);const p=s.Nu(f);if(d instanceof wd)i.push(f);else{const g=zo(d,p);g!=null&&(i.push(f),a.set(f,g))}});const c=new ln(i);return new pE(a,c,s.fieldTransforms)}function zP(t,e,n,r,s,i){const a=t.Qu(1,e,n),c=[Yf(e,r,n)],u=[s];if(i.length%2!=0)throw new Q(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)c.push(Yf(e,i[g])),u.push(i[g+1]);const d=[],f=Kt.empty();for(let g=c.length-1;g>=0;--g)if(!wE(d,c[g])){const w=c[g];let _=u[g];_=Je(_);const S=a.Nu(w);if(_ instanceof wd)d.push(w);else{const j=zo(_,S);j!=null&&(d.push(w),f.set(w,j))}}const p=new ln(d);return new pE(f,p,a.fieldTransforms)}function BP(t,e,n,r=!1){return zo(n,t.Qu(r?4:3,e))}function zo(t,e){if(vE(t=Je(t)))return Up("Unsupported field value:",e,t),xE(t,e);if(t instanceof yd)return function(r,s){if(!gE(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let a=0;for(const c of r){let u=zo(c,s.Lu(a));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),a++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return OC(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ot.fromDate(r);return{timestampValue:Su(s.serializer,i)}}if(r instanceof ot){const i=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Su(s.serializer,i)}}if(r instanceof Vp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ao)return{bytesValue:L1(s.serializer,r._byteString)};if(r instanceof Ut){const i=s.databaseId,a=r.firestore._databaseId;if(!a.isEqual(i))throw s.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bp(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Mp)return function(a,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw c.Bu("VectorValues must only contain numeric values.");return wp(c.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${md(r)}`)}(t,e)}function xE(t,e){const n={};return d1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,s)=>{const i=zo(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Vp||t instanceof Ao||t instanceof Ut||t instanceof yd||t instanceof Mp)}function Up(t,e,n){if(!vE(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=md(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Yf(t,e,n){if((e=Je(e))instanceof gd)return e._internalPath;if(typeof e=="string")return $p(t,e);throw ju("Field path arguments must be of type string or ",t,!1,void 0,n)}const qP=new RegExp("[~\\*/\\[\\]]");function $p(t,e,n){if(e.search(qP)>=0)throw ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gd(...e.split("."))._internalPath}catch{throw ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ju(t,e,n,r,s){const i=r&&!r.isEmpty(),a=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(i||a)&&(u+=" (found",i&&(u+=` in field ${r}`),a&&(u+=` in document ${s}`),u+=")"),new Q(M.INVALID_ARGUMENT,c+t+u)}function wE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WP extends _E{data(){return super.data()}}function _d(t,e){return typeof e=="string"?$p(t,e):e instanceof gd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Q(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zp{}class EE extends zp{}function Vt(t,e,...n){let r=[];e instanceof zp&&r.push(e),r=r.concat(n),function(i){const a=i.filter(u=>u instanceof Bp).length,c=i.filter(u=>u instanceof Ed).length;if(a>1||a>0&&c>0)throw new Q(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ed extends EE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ed(e,n,r)}_apply(e){const n=this._parse(e);return NE(e._query,n),new Ai(e.firestore,e.converter,Uf(e._query,n))}_parse(e){const n=vd(e.firestore);return function(i,a,c,u,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Q(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){hx(p,f);const w=[];for(const _ of p)w.push(dx(u,i,_));g={arrayValue:{values:w}}}else g=dx(u,i,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||hx(p,f),g=BP(c,a,p,f==="in"||f==="not-in");return tt.create(d,f,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jr(t,e,n){const r=e,s=_d("where",t);return Ed._create(s,r,n)}class Bp extends zp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let a=s;const c=i.getFlattenedFilters();for(const u of c)NE(a,u),a=Uf(a,u)}(e._query,n),new Ai(e.firestore,e.converter,Uf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qp extends EE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qp(e,n)}_apply(e){const n=function(s,i,a){if(s.startAt!==null)throw new Q(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Q(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hl(i,a)}(e._query,this._field,this._direction);return new Ai(e.firestore,e.converter,function(s,i){const a=s.explicitOrderBy.concat([i]);return new Fo(s.path,s.collectionGroup,a,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ci(t,e="asc"){const n=e,r=_d("orderBy",t);return qp._create(r,n)}function dx(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Q(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w1(e)&&n.indexOf("/")!==-1)throw new Q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!te.isDocumentKey(r))throw new Q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Py(t,new te(r))}if(n instanceof Ut)return Py(t,n._key);throw new Q(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function hx(t,e){if(!Array.isArray(t)||t.length===0)throw new Q(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NE(t,e){const n=function(s,i){for(const a of s)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Q(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Q(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GP{convertValue(e,n="none"){switch(wi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(a=>Ke(a.doubleValue));return new Mp(i)}convertGeoPoint(e){return new Vp(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);je(z1(r));const s=new ul(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||$r(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class TE extends _E{constructor(e,n,r,s,i,a){super(e,n,r,s,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uc extends TE{data(e={}){return super.data(e)}}class KP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Ea(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uc(this._firestore,this._userDataWriter,r.key,r,new Ea(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(c=>{const u=new Uc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ea(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const u=new Uc(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Ea(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,f=-1;return c.type!==0&&(d=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),c.type!==1&&(a=a.add(c.doc),f=a.indexOf(c.doc.key)),{type:QP(c.type),doc:u,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(t){t=Bn(t,Ut);const e=Bn(t.firestore,ji);return CP(Lp(e),t._key).then(n=>XP(e,t,n))}class IE extends GP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function Mt(t){t=Bn(t,Ai);const e=Bn(t.firestore,ji),n=Lp(e),r=new IE(e);return HP(t._query),RP(n,t._query).then(s=>new KP(e,r,t,s))}function YP(t,e,n){t=Bn(t,Ut);const r=Bn(t.firestore,ji),s=bE(t.converter,e);return Nd(r,[yE(vd(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,_n.none())])}function gt(t,e,n,...r){t=Bn(t,Ut);const s=Bn(t.firestore,ji),i=vd(s);let a;return a=typeof(e=Je(e))=="string"||e instanceof gd?zP(i,"updateDoc",t._key,e,n,r):$P(i,"updateDoc",t._key,e),Nd(s,[a.toMutation(t._key,_n.exists(!0))])}function Ma(t){return Nd(Bn(t.firestore,ji),[new _p(t._key,_n.none())])}function fo(t,e){const n=Bn(t.firestore,ji),r=ke(t),s=bE(t.converter,e);return Nd(n,[yE(vd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function Nd(t,e){return function(r,s){const i=new Pr;return r.asyncQueue.enqueueAndForget(async()=>wP(await jP(r),s,i)),i.promise}(Lp(t),e)}function XP(t,e,n){const r=n.docs.get(e._key),s=new IE(t);return new TE(t,s,e._key,r,new Ea(n.hasPendingWrites,n.fromCache),e.converter)}function fx(...t){return new Fp("arrayUnion",t)}(function(e,n=!0){(function(s){Mo=s})(Ti),pi(new Cs("firestore",(r,{instanceIdentifier:s,options:i})=>{const a=r.getProvider("app").getImmediate(),c=new ji(new Jj(r.getProvider("auth-internal")),new nC(r.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(d.options.projectId,f)}(a,s),a);return i=Object.assign({useFetchStreams:n},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),rr(ky,"4.7.3",e),rr(ky,"4.7.3","esm2017")})();var JP="firebase",ZP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rr(JP,ZP,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="firebasestorage.googleapis.com",e4="storageBucket",t4=2*60*1e3,n4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends dr{constructor(e,n,r=0){super(Eh(e),`Firebase Storage: ${n} (${Eh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var cr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(cr||(cr={}));function Eh(t){return"storage/"+t}function r4(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(cr.UNKNOWN,t)}function s4(){return new fr(cr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i4(){return new fr(cr.CANCELED,"User canceled the upload/download.")}function o4(t){return new fr(cr.INVALID_URL,"Invalid URL '"+t+"'.")}function a4(t){return new fr(cr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function mx(t){return new fr(cr.INVALID_ARGUMENT,t)}function kE(){return new fr(cr.APP_DELETED,"The Firebase app was deleted.")}function l4(t){return new fr(cr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw a4(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}const a="(/(.*))?$",c=new RegExp("^gs://"+s+a,"i"),u={bucket:1,path:3};function d(L){L.path_=decodeURIComponent(L.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${f}/b/${s}/o${g}`,"i"),_={bucket:1,path:3},S=n===SE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",N=new RegExp(`^https?://${S}/${s}/${j}`,"i"),b=[{regex:c,indices:u,postModify:i},{regex:w,indices:_,postModify:d},{regex:N,indices:{bucket:1,path:2},postModify:d}];for(let L=0;L<b.length;L++){const F=b[L],$=F.regex.exec(e);if($){const T=$[F.indices.bucket];let v=$[F.indices.path];v||(v=""),r=new Vn(T,v),F.postModify(r);break}}if(r==null)throw o4(e);return r}}class c4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t,e,n){let r=1,s=null,i=null,a=!1,c=0;function u(){return c===2}let d=!1;function f(...j){d||(d=!0,e.apply(null,j))}function p(j){s=setTimeout(()=>{s=null,t(w,u())},j)}function g(){i&&clearTimeout(i)}function w(j,...N){if(d){g();return}if(j){g(),f.call(null,j,...N);return}if(u()||a){g(),f.call(null,j,...N);return}r<64&&(r*=2);let b;c===1?(c=2,b=0):b=(r+Math.random())*1e3,p(b)}let _=!1;function S(j){_||(_=!0,g(),!d&&(s!==null?(j||(c=2),clearTimeout(s),p(0)):j||(c=1)))}return p(0),i=setTimeout(()=>{a=!0,S(!0)},n),S}function d4(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t){return t!==void 0}function px(t,e,n,r){if(r<e)throw mx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw mx(`Invalid value for '${t}'. Expected ${n} or less.`)}function f4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Cu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Cu||(Cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n,r,s,i,a,c,u,d,f,p,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=c,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,_)=>{this.resolve_=w,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new pc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=c=>{const u=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const c=i.getErrorCode()===Cu.NO_ERROR,u=i.getStatus();if(!c||m4(u,this.additionalRetryCodes_)&&this.retry){const f=i.getErrorCode()===Cu.ABORT;r(!1,new pc(!1,null,f));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new pc(d,i))})},n=(r,s)=>{const i=this.resolve_,a=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());h4(u)?i(u):i()}catch(u){a(u)}else if(c!==null){const u=r4();u.serverResponse=c.getErrorText(),this.errorCallback_?a(this.errorCallback_(c,u)):a(u)}else if(s.canceled){const u=this.appDelete_?kE():i4();a(u)}else{const u=s4();a(u)}};this.canceled_?n(!1,new pc(!1,null,!0)):this.backoffId_=u4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function g4(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y4(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function x4(t,e){e&&(t["X-Firebase-GMPID"]=e)}function v4(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w4(t,e,n,r,s,i,a=!0){const c=f4(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return x4(d,e),g4(d,n),y4(d,i),v4(d,r),new p4(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function E4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ru(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return E4(this._location.path)}get storage(){return this._service}get parent(){const e=_4(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new Ru(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l4(e)}}function gx(t,e){const n=e==null?void 0:e[e4];return n==null?null:Vn.makeFromBucketSpec(n,t)}function N4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:g_(s,t.app.options.projectId))}class b4{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=SE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t4,this._maxUploadRetryTime=n4,this._requests=new Set,s!=null?this._bucket=Vn.makeFromBucketSpec(s,this._host):this._bucket=gx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=gx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){px("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){px("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ru(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new c4(kE());{const a=w4(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const yx="@firebase/storage",xx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="storage";function T4(t=np(),e){t=Je(t);const r=td(t,AE).getImmediate({identifier:e}),s=f_("storage");return s&&I4(r,...s),r}function I4(t,e,n,r={}){N4(t,e,n,r)}function S4(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new b4(n,r,s,e,Ti)}function k4(){pi(new Cs(AE,S4,"PUBLIC").setMultipleInstances(!0)),rr(yx,xx,""),rr(yx,xx,"esm2017")}k4();const A4={apiKey:"AIzaSyDTBxVDAukVBYp0pw7pVEIFk5ZMHNhkmZM",authDomain:"artistapp-demo.firebaseapp.com",projectId:"artistapp-demo",storageBucket:"artistapp-demo.firebasestorage.app",messagingSenderId:"165877906268",appId:"1:165877906268:web:a11ee7315f932f4433df99"},Wp=v_(A4),ts=Kj(Wp),re=OP(Wp);T4(Wp);const jE=A.createContext({}),Wn=()=>A.useContext(jE),j4=({children:t})=>{const[e,n]=A.useState(null),[r,s]=A.useState(!0),i=async g=>{var w;try{const _=await jo(ke(re,"users",g.uid));if(_.exists()){const S=_.data();return{uid:g.uid,email:g.email,displayName:S.displayName||g.displayName||"",role:S.role||"artist",phone:S.phone||"",createdAt:((w=S.createdAt)==null?void 0:w.toDate())||new Date}}return null}catch(_){return console.error("Error fetching user data:",_),null}},a=async(g,w)=>{try{const _=await CA(ts,g,w),S=await i(_.user);if(!S)throw new Error("User data not found");return n(S),S}catch(_){throw console.error("Login error:",_),_}},c=async(g,w,_,S,j,N)=>{try{const x=await jA(ts,g,w),b={uid:x.user.uid,email:x.user.email,displayName:_,role:S,phone:j,createdAt:new Date},L={displayName:_,email:x.user.email,role:S,phone:j,createdAt:new Date,uid:x.user.uid};if(N){const F=Qe(re,"users"),$=Vt(F,jr("referralCode","==",N)),T=await Mt($);if(!T.empty){const v=T.docs[0];L.referredBy=v.id}}return await YP(ke(re,"users",x.user.uid),L),n(b),b}catch(x){throw console.error("Registration error:",x),x}},u=async()=>{try{await VA(ts),n(null)}catch(g){throw console.error("Logout error:",g),g}},d=async g=>{try{await AA(ts,g)}catch(w){throw console.error("Forgot password error:",w),w}},f=async(g,w)=>{try{if(!e||!ts.currentUser)throw new Error("No authenticated user");const _=Ii.credential(e.email,g);await kA(ts.currentUser,_),await RA(ts.currentUser,w)}catch(_){throw console.error("Change password error:",_),_}};A.useEffect(()=>LA(ts,async w=>{if(w){const _=await i(w);n(_)}else n(null);s(!1)}),[]);const p={currentUser:e,login:a,register:c,logout:u,forgotPassword:d,changePassword:f,loading:r};return o.jsx(jE.Provider,{value:p,children:t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var C4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:c="",children:u,...d},f)=>A.createElement("svg",{ref:f,...C4,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${R4(t)}`,c].join(" "),...d},[...e.map(([p,g])=>A.createElement(p,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=ae("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ae("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=ae("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=ae("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=ae("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Rl="/assets/logo-CygSWhQO.png",W4=()=>{const{currentUser:t,logout:e}=Wn(),n=Fs(),[r,s]=A.useState(!1),i=c=>n.pathname===c,a=async()=>{try{await e(),s(!1)}catch(c){console.error("Logout error:",c)}};return o.jsx("header",{className:"bg-white shadow-lg border-b border-gray-100 sticky top-0 z-40",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsxs(fe,{to:"/",className:"flex items-center space-x-2",children:[o.jsx("img",{src:Rl,alt:"FrameGlobe Logo",className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 object-contain"}),o.jsx("span",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-900",children:"FrameGlobe"})]}),o.jsxs("nav",{className:"hidden md:flex space-x-6 lg:space-x-8",children:[o.jsx(fe,{to:"/",className:`text-sm font-medium transition-colors ${i("/")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Home"}),o.jsx(fe,{to:"/gallery",className:`text-sm font-medium transition-colors ${i("/gallery")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Gallery"}),o.jsx(fe,{to:"/requirements",className:`text-sm font-medium transition-colors ${i("/requirements")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Custom Art"}),(t==null?void 0:t.role)==="artist"&&o.jsxs(o.Fragment,{children:[o.jsx(fe,{to:"/dashboard",className:`text-sm font-medium transition-colors ${i("/dashboard")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Dashboard"}),o.jsx(fe,{to:"/profile",className:`text-sm font-medium transition-colors ${i("/profile")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Profile"})]}),(t==null?void 0:t.role)==="admin"&&o.jsx(fe,{to:"/admin",className:`text-sm font-medium transition-colors ${i("/admin")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Admin"}),(t==null?void 0:t.role)==="affiliate"&&o.jsx(fe,{to:"/affiliate/dashboard",className:`text-sm font-medium transition-colors ${i("/affiliate/dashboard")?"text-indigo-600":"text-gray-500 hover:text-gray-900"}`,children:"Dashboard"})]}),o.jsx("div",{className:"hidden md:flex items-center space-x-4",children:t?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-gray-700",children:[o.jsx(On,{className:"h-5 w-5"}),o.jsx("span",{className:"text-sm font-medium truncate max-w-24 lg:max-w-none",children:t.displayName}),o.jsx("span",{className:"text-xs px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full",children:t.role})]}),o.jsxs("button",{onClick:a,className:"flex items-center space-x-1 text-gray-500 hover:text-red-600 transition-colors",children:[o.jsx(Nx,{className:"h-4 w-4"}),o.jsx("span",{className:"text-sm",children:"Logout"})]})]}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(fe,{to:"/login",className:"text-sm font-medium text-gray-500 hover:text-gray-900 transition-colors",children:"Login"}),o.jsx(fe,{to:"/register",className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 transition-colors",children:"Sign Up"})]})}),o.jsx("div",{className:"md:hidden",children:o.jsx("button",{onClick:()=>s(!r),className:"text-gray-500 hover:text-gray-900 transition-colors",children:r?o.jsx(Ht,{className:"h-6 w-6"}):o.jsx($4,{className:"h-6 w-6"})})})]}),r&&o.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:o.jsxs("div",{className:"flex flex-col space-y-4",children:[o.jsx(fe,{to:"/",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/")?"text-indigo-600":"text-gray-500"}`,children:"Home"}),o.jsx(fe,{to:"/gallery",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/gallery")?"text-indigo-600":"text-gray-500"}`,children:"Gallery"}),o.jsx(fe,{to:"/requirements",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/requirements")?"text-indigo-600":"text-gray-500"}`,children:"Custom Art"}),t?o.jsxs(o.Fragment,{children:[t.role==="artist"&&o.jsxs(o.Fragment,{children:[o.jsx(fe,{to:"/dashboard",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/dashboard")?"text-indigo-600":"text-gray-500"}`,children:"Dashboard"}),o.jsx(fe,{to:"/profile",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/profile")?"text-indigo-600":"text-gray-500"}`,children:"Profile"})]}),t.role==="admin"&&o.jsx(fe,{to:"/admin",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/admin")?"text-indigo-600":"text-gray-500"}`,children:"Admin"}),t.role==="affiliate"&&o.jsx(fe,{to:"/affiliate/dashboard",onClick:()=>s(!1),className:`text-sm font-medium transition-colors ${i("/affiliate/dashboard")?"text-indigo-600":"text-gray-500"}`,children:"Dashboard"}),o.jsxs("div",{className:"flex items-center space-x-2 pt-2 border-t border-gray-200",children:[o.jsx(On,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-700 truncate",children:t.displayName}),o.jsx("span",{className:"text-xs px-2 py-1 bg-indigo-100 text-indigo-800 rounded-full",children:t.role})]}),o.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-red-600 text-sm font-medium",children:[o.jsx(Nx,{className:"h-4 w-4"}),o.jsx("span",{children:"Logout"})]})]}):o.jsxs("div",{className:"flex flex-col space-y-2 pt-2 border-t border-gray-200",children:[o.jsx(fe,{to:"/login",onClick:()=>s(!1),className:"text-sm font-medium text-gray-500",children:"Login"}),o.jsx(fe,{to:"/register",onClick:()=>s(!1),className:"bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium text-center",children:"Sign Up"})]})]})})]})})},H4="/assets/logowhite-DFmiz_WK.png",G4=()=>o.jsx("footer",{className:"bg-gray-900 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"col-span-1 md:col-span-2",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("img",{src:H4,alt:"FrameGlobe Logo",className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 object-contain"}),o.jsx("span",{className:"text-xl font-bold",children:"FrameGlobe"})]}),o.jsx("p",{className:"text-gray-300 mb-4",children:"Connecting talented artists with art enthusiasts worldwide. Discover unique artworks and support independent artists."}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[o.jsx("span",{className:"sr-only",children:"Facebook"}),o.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})})]}),o.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[o.jsx("span",{className:"sr-only",children:"Instagram"}),o.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.621 5.367 11.988 11.988 11.988s11.987-5.367 11.987-11.988C24.004 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.349-1.051-2.349-2.348s1.052-2.349 2.349-2.349 2.348 1.052 2.348 2.349-1.051 2.348-2.348 2.348zm7.718 0c-1.297 0-2.349-1.051-2.349-2.348s1.052-2.349 2.349-2.349 2.348 1.052 2.348 2.349-1.051 2.348-2.348 2.348z"})})]}),o.jsxs("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:[o.jsx("span",{className:"sr-only",children:"Twitter"}),o.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx(fe,{to:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),o.jsx("li",{children:o.jsx(fe,{to:"/gallery",className:"text-gray-300 hover:text-white transition-colors",children:"Gallery"})}),o.jsx("li",{children:o.jsx(fe,{to:"/requirements",className:"text-gray-300 hover:text-white transition-colors",children:"Custom Art"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Info"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-4 w-4 text-indigo-400"}),o.jsx("span",{className:"text-gray-300",children:"frameglobe.store@gmail.com"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($c,{className:"h-4 w-4 text-indigo-400"}),o.jsx("span",{className:"text-gray-300",children:"+971 (56) 1196530"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(F4,{className:"h-4 w-4 text-indigo-400"}),o.jsx("span",{className:"text-gray-300",children:"UAE, INDIA"})]})]})]})]}),o.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:o.jsx("p",{className:"text-gray-400",children:" 2024 FrameGlobe. All rights reserved. Empowering artists worldwide."})})]})}),K4=()=>o.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[o.jsx(W4,{}),o.jsx("main",{className:"flex-1",children:o.jsx(N2,{})}),o.jsx(G4,{})]}),ha=({children:t,allowedRoles:e})=>{const{currentUser:n}=Wn();return n?e.includes(n.role)?o.jsx(o.Fragment,{children:t}):o.jsx(z0,{to:"/",replace:!0}):o.jsx(z0,{to:"/login",replace:!0})},Q4=()=>{var f;const{currentUser:t}=Wn(),[e,n]=A.useState([]),[r,s]=A.useState(!0),[i,a]=A.useState(null),[c,u]=A.useState([]);A.useEffect(()=>{const p=async()=>{try{const w=Vt(Qe(re,"artworks")),S=(await Mt(w)).docs.map(j=>({id:j.id,...j.data()}));if(n(S),t){const j=ke(re,"users",t.uid),N=await jo(j);if(N.exists()){const x=N.data();a(x),x.commissions&&g(x.commissions)}}}catch(w){console.error("Error fetching data: ",w),J.error("Could not load dashboard data.")}finally{s(!1)}},g=async w=>{const _=await Promise.all(w.map(async S=>{const j=ke(re,"orders",S.orderId),N=await jo(j);if(N.exists()){const x=N.data();return{...S,artworkName:x.artwork.title,artistName:x.artistName}}return S}));u(_)};p()},[t]);const d=((f=i==null?void 0:i.commissions)==null?void 0:f.reduce((p,g)=>p+g.commissionAmount,0))||0;return o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Affiliate Dashboard - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Your affiliate dashboard to track earnings and share artwork."})]}),o.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-8",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"Affiliate Dashboard"}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-4",children:"Your Earnings"}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[o.jsx("p",{className:"text-lg text-gray-600",children:"Total Commissions Earned"}),o.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",d.toFixed(2)]})]})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-800 mb-4",children:"Commission History"}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Artwork Name"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Artist Name"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.artworkName||"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.artistName||"N/A"}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["",p.commissionAmount.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.earnedAt.toDate().toLocaleDateString()})]},g))})]})}):o.jsx("p",{className:"p-6 text-gray-500",children:"You have not earned any commissions yet."})})]})]})})]})},Y4="/assets/logowithtitle-Db7f5Ym4.png",X4=()=>o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"FrameGlobe - Connect Artists with Art Lovers Worldwide"}),o.jsx("meta",{name:"description",content:"Discover unique artworks from talented artists. FrameGlobe is the premier platform connecting artists with art enthusiasts globally. Browse, commission, and buy original art."}),o.jsx("meta",{name:"keywords",content:"art, artists, paintings, drawings, artwork, commission, buy art, art gallery, artist platform"}),o.jsx("meta",{property:"og:title",content:"FrameGlobe - Connect Artists with Art Lovers"}),o.jsx("meta",{property:"og:description",content:"Discover unique artworks from talented artists worldwide"}),o.jsx("meta",{property:"og:type",content:"website"})]}),o.jsxs("section",{className:"relative bg-gradient-to-r from-indigo-600 to-purple-600 text-white overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/20 to-purple-600/20"}),o.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-32",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-7xl font-bold mb-8 leading-tight",children:["Where Art Meets",o.jsx("span",{className:"block text-yellow-300 bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"Passion"})]}),o.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl mb-12 max-w-4xl mx-auto opacity-95 leading-relaxed",children:"Join the world's most vibrant community of artists and art enthusiasts. Discover extraordinary artworks, connect with talented creators, and bring your artistic visions to life."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[o.jsxs(fe,{to:"/gallery",className:"group bg-white text-indigo-600 px-10 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-xl flex items-center justify-center",children:["Explore Masterpieces",o.jsx(Nh,{className:"ml-3 h-6 w-6 group-hover:translate-x-1 transition-transform"})]}),o.jsx(fe,{to:"/register",className:"group border-3 border-white text-white px-10 py-4 rounded-xl font-bold text-lg hover:bg-white hover:text-indigo-600 transition-all duration-300 transform hover:scale-105 shadow-xl",children:"Start Creating Today"})]})]})})]}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-white to-gray-50",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-8",children:"Empowering Artists, Inspiring Collectors"}),o.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 leading-relaxed max-w-4xl mx-auto",children:"FrameGlobe is more than a marketplaceit's a thriving ecosystem where creativity flourishes. We bridge the gap between visionary artists and passionate collectors, fostering meaningful connections that celebrate the transformative power of art."})]})}),o.jsx("section",{className:"py-24 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-20",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Why Artists & Collectors Choose Us"}),o.jsx("p",{className:"text-xl sm:text-2xl text-gray-600 max-w-3xl mx-auto",children:"Experience the future of art discovery and creation with our innovative platform designed for the modern art world."})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12",children:[o.jsxs("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-300",children:[o.jsx("div",{className:"bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-2xl p-6 w-20 h-20 mx-auto mb-6 group-hover:from-indigo-200 group-hover:to-indigo-300 transition-all duration-300 flex items-center justify-center",children:o.jsx(_i,{className:"h-10 w-10 text-indigo-600"})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900",children:"Curated Excellence"}),o.jsx("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed",children:"Discover handpicked artworks from verified artists across painting, digital art, sculpture, and photography."})]}),o.jsxs("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-300",children:[o.jsx("div",{className:"bg-gradient-to-br from-purple-100 to-purple-200 rounded-2xl p-6 w-20 h-20 mx-auto mb-6 group-hover:from-purple-200 group-hover:to-purple-300 transition-all duration-300 flex items-center justify-center",children:o.jsx(Ro,{className:"h-10 w-10 text-purple-600"})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900",children:"Direct Connections"}),o.jsx("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed",children:"Connect directly with artists for custom commissions, collaborations, and personalized artwork creation."})]}),o.jsxs("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-300",children:[o.jsx("div",{className:"bg-gradient-to-br from-green-100 to-green-200 rounded-2xl p-6 w-20 h-20 mx-auto mb-6 group-hover:from-green-200 group-hover:to-green-300 transition-all duration-300 flex items-center justify-center",children:o.jsx(Ix,{className:"h-10 w-10 text-green-600"})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900",children:"Trusted Platform"}),o.jsx("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed",children:"Secure transactions, verified artists, and quality assurance ensure a safe and reliable art buying experience."})]}),o.jsxs("div",{className:"text-center group hover:transform hover:scale-105 transition-all duration-300",children:[o.jsx("div",{className:"bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-2xl p-6 w-20 h-20 mx-auto mb-6 group-hover:from-yellow-200 group-hover:to-yellow-300 transition-all duration-300 flex items-center justify-center",children:o.jsx(V4,{className:"h-10 w-10 text-yellow-600"})}),o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900",children:"Global Community"}),o.jsx("p",{className:"text-gray-600 text-base sm:text-lg leading-relaxed",children:"Join thousands of artists and collectors from around the world in celebrating creativity and artistic expression."})]})]})]})}),o.jsx("section",{className:"py-24 bg-gradient-to-r from-indigo-50 to-purple-50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-8",children:"For Artists: Your Canvas, Your Career"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-indigo-100 rounded-lg p-2 flex-shrink-0",children:o.jsx(P4,{className:"h-6 w-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Showcase Your Talent"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Create a stunning portfolio that highlights your unique artistic style and attracts the right collectors."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-purple-100 rounded-lg p-2 flex-shrink-0",children:o.jsx(_x,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Build Your Following"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Connect with art enthusiasts who appreciate your work and grow a loyal community of supporters."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-green-100 rounded-lg p-2 flex-shrink-0",children:o.jsx(kx,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Earn From Your Passion"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Turn your artistic passion into a sustainable career with our commission and sales platform."})]})]})]}),o.jsx("div",{className:"mt-10",children:o.jsxs(fe,{to:"/register",className:"inline-flex items-center bg-indigo-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-indigo-700 transition-colors transform hover:scale-105 shadow-lg",children:["Join as Artist",o.jsx(Nh,{className:"ml-3 h-6 w-6"})]})})]}),o.jsx("div",{className:"relative",children:o.jsx("div",{className:"bg-gradient-to-br from-indigo-400 to-purple-500 rounded-2xl h-96 flex items-center justify-center shadow-2xl",children:o.jsx("img",{src:Y4,alt:""})})})]})})}),o.jsx("section",{className:"py-24 bg-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 items-center",children:[o.jsx("div",{className:"relative order-2 lg:order-1",children:o.jsx("div",{className:"bg-gradient-to-br from-purple-400 to-pink-500 rounded-2xl h-96 flex items-center justify-center shadow-2xl",children:o.jsx(_x,{className:"h-24 w-24 text-white opacity-80"})})}),o.jsxs("div",{className:"order-1 lg:order-2",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-8",children:"For Collectors: Discover Your Next Treasure"}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-purple-100 rounded-lg p-2 flex-shrink-0",children:o.jsx(kx,{className:"h-6 w-6 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Unique Artworks"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Discover one-of-a-kind pieces that speak to your soul and complement your personal style."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-indigo-100 rounded-lg p-2 flex-shrink-0",children:o.jsx(Ro,{className:"h-6 w-6 text-indigo-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Custom Commissions"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Work directly with artists to create personalized pieces that perfectly match your vision and space."})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-green-100 rounded-lg p-2 flex-shrink-0",children:o.jsx(Ix,{className:"h-6 w-6 text-green-600"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Secure Purchases"}),o.jsx("p",{className:"text-gray-600 text-lg",children:"Buy with confidence knowing every transaction is protected and every artist is verified."})]})]})]}),o.jsx("div",{className:"mt-10",children:o.jsxs(fe,{to:"/gallery",className:"inline-flex items-center bg-purple-600 text-white px-8 py-4 rounded-xl font-bold text-lg hover:bg-purple-700 transition-colors transform hover:scale-105 shadow-lg",children:["Start Collecting",o.jsx(Nh,{className:"ml-3 h-6 w-6"})]})})]})]})})}),o.jsxs("section",{className:"py-24 bg-gradient-to-r from-indigo-600 to-purple-600 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black opacity-20"}),o.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-8",children:"Ready to Transform Your Art Journey?"}),o.jsx("p",{className:"text-xl sm:text-2xl mb-12 opacity-95 max-w-3xl mx-auto",children:"Join thousands of artists and collectors who are already part of the FrameGlobe community. Your next masterpiece or perfect artwork is just a click away."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center items-center",children:[o.jsx(fe,{to:"/register",className:"group bg-white text-indigo-600 px-10 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 shadow-xl",children:"Join as Artist"}),o.jsx(fe,{to:"/gallery",className:"group border-3 border-white text-white px-10 py-4 rounded-xl font-bold text-lg hover:bg-white hover:text-indigo-600 transition-all duration-300 transform hover:scale-105 shadow-xl",children:"Browse Gallery"}),o.jsx(fe,{to:"/requirements",className:"group bg-yellow-500 text-gray-900 px-10 py-4 rounded-xl font-bold text-lg hover:bg-yellow-400 transition-all duration-300 transform hover:scale-105 shadow-xl",children:"Custom Art"})]})]})]})]}),J4=({artwork:t,showPrice:e=!1})=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-shadow group",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"aspect-square overflow-hidden",children:o.jsx("img",{src:t.imageUrl?t.imageUrl.replace("/upload/","/upload/w_400,h_400,c_fill,q_auto/"):"https://images.pexels.com/photos/1053924/pexels-photo-1053924.jpeg",alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),o.jsxs("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300",children:[o.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx("div",{className:"absolute bottom-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:o.jsxs(fe,{to:`/artwork/${t.id}`,className:"bg-indigo-600 text-white px-3 py-1 rounded-full text-sm font-medium hover:bg-indigo-700 transition-colors flex items-center space-x-1",children:[o.jsx(er,{className:"h-3 w-3"}),o.jsx("span",{children:"View"})]})})]}),t.isCustomizable&&o.jsxs("div",{className:"absolute top-2 left-2 bg-purple-500 text-white px-2 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[o.jsx(_i,{className:"h-3 w-3"}),o.jsx("span",{children:"Customizable"})]}),e&&t.price&&o.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-500 text-white px-2 py-1 rounded-full text-sm font-medium",children:["$",t.price]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-2 line-clamp-1",children:t.title}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(On,{className:"h-4 w-4 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:t.artistName})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"inline-block bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium",children:t.category}),o.jsx("div",{className:"flex items-center space-x-2",children:t.tags.slice(0,2).map(n=>o.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["#",n]},n))})]}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center space-x-2",children:t.isCustomizable&&o.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded",children:"Can be customized"})}),o.jsx(fe,{to:`/artwork/${t.id}`,className:"text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:"View Details"})]})})]})]}),Z4=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState(!0),[a,c]=A.useState(!1),[u,d]=A.useState(""),[f,p]=A.useState("all"),[g,w]=A.useState("all"),_=["All","painting","drawing","digital","sculpture","photography","mixed-media","Graphite pencil portrait","Charcoal pencil portrait","Acrylic portrait Painting","Oil Painting portrait","Digital portrait","Watercolor portrait","Acrylic landscape Painting","Oil landscape Painting","Watercolor landscape","Colour pencil portraits","Kerala Mural painting","Ball pen portrait"];A.useEffect(()=>{S()},[]),A.useEffect(()=>{j()},[t,u,f,g]);const S=async(x=!1)=>{x?c(!0):i(!0);try{const b=Vt(Qe(re,"artworks"),jr("isAvailable","==",!0),ci("createdAt","desc")),F=(await Mt(b)).docs.map($=>({id:$.id,...$.data()}));e(F)}catch(b){console.error("Error fetching artworks:",b)}finally{i(!1),c(!1)}},j=()=>{let x=t;u&&(x=x.filter(b=>b.title.toLowerCase().includes(u.toLowerCase())||b.description.toLowerCase().includes(u.toLowerCase())||b.artistName.toLowerCase().includes(u.toLowerCase())||b.tags.some(L=>L.toLowerCase().includes(u.toLowerCase())))),f!=="all"&&(x=x.filter(b=>b.category.toLowerCase()===f.toLowerCase())),g==="customizable"?x=x.filter(b=>b.isCustomizable):g==="fixed"&&(x=x.filter(b=>!b.isCustomizable)),r(x)},N=()=>{S(!0)};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading amazing artworks..."})]})}):o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Art Gallery - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Browse our curated collection of paintings, drawings, digital art, and more from talented artists worldwide."}),o.jsx("meta",{name:"keywords",content:"art gallery, paintings, drawings, digital art, buy art, commission art"})]}),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white shadow-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:"Art Gallery"}),o.jsx("button",{onClick:N,disabled:a,className:"p-2 text-gray-600 hover:text-indigo-600 transition-colors disabled:opacity-50",title:"Refresh gallery",children:o.jsx(Tx,{className:`h-5 w-5 ${a?"animate-spin":""}`})})]}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Discover unique artworks from talented artists around the world"})]})})}),o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"relative sm:col-span-2 lg:col-span-1",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search artworks...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:u,onChange:x=>d(x.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",value:f,onChange:x=>p(x.target.value),children:_.map(x=>o.jsx("option",{value:x,children:x==="all"?"All Categories":x.charAt(0).toUpperCase()+x.slice(1)},x))})]}),o.jsxs("div",{className:"relative",children:[o.jsx(_i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",value:g,onChange:x=>w(x.target.value),children:[o.jsx("option",{value:"all",children:"All Artworks"}),o.jsx("option",{value:"customizable",children:"Customizable Only"}),o.jsx("option",{value:"fixed",children:"Fixed Artworks"})]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16",children:[o.jsx("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:o.jsxs("p",{className:"text-gray-600",children:["Showing ",n.length," of ",t.length," published artworks"]})}),n.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"text-gray-400 mb-4",children:o.jsx(er,{className:"h-16 w-16 mx-auto"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.length===0?"No published artworks yet":"No artworks found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:t.length===0?"Artists haven't published any artworks to the gallery yet":"Try adjusting your search or filter criteria"}),t.length===0&&o.jsxs("button",{onClick:N,disabled:a,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 flex items-center space-x-2 mx-auto",children:[o.jsx(Tx,{className:`h-4 w-4 ${a?"animate-spin":""}`}),o.jsx("span",{children:"Refresh Gallery"})]})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:n.map(x=>o.jsx(J4,{artwork:x,showPrice:!1},x.id))})]})]})]})},eD=()=>{const{id:t}=c2(),{currentUser:e}=Wn(),[n,r]=A.useState(null),[s,i]=A.useState(!0),[a,c]=A.useState(!1),[u,d]=A.useState({clientName:(e==null?void 0:e.displayName)||"",clientEmail:(e==null?void 0:e.email)||"",clientPhone:"",address:"",requirements:"",alterationDescription:""}),[f,p]=A.useState(null),g=Fs();A.useEffect(()=>{const j=new URLSearchParams(g.search).get("affiliateId");j&&p(j),t&&w(t)},[t]);const w=async S=>{try{const j=await jo(ke(re,"artworks",S));if(j.exists()){const N=j.data();r({id:j.id,...N,isCustomizable:N.isCustomizable??!1})}}catch(j){console.error("Error fetching artwork:",j),J.error("Failed to load artwork")}finally{i(!1)}},_=async S=>{if(S.preventDefault(),!n||!u.clientName||!u.clientEmail||!u.clientPhone){J.error("Please fill in all required fields");return}try{const j={artworkId:n.id,artistId:n.artistId,artistName:n.artistName,clientId:(e==null?void 0:e.uid)||"guest",clientName:u.clientName,clientEmail:u.clientEmail,clientPhone:u.clientPhone,address:u.address,requirements:u.requirements,alterationDescription:u.alterationDescription,status:"pending",orderDate:new Date,artwork:{title:n.title,imageUrl:n.imageUrl,price:n.price,category:n.category,isCustomizable:n.isCustomizable}};f&&(j.affiliateId=f),await fo(Qe(re,"orders"),j),await fetch("https://formspree.io/f/xeokbzrq",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({clientName:u.clientName,clientEmail:u.clientEmail,clientPhone:u.clientPhone,address:u.address,requirements:u.requirements,alterationDescription:u.alterationDescription,artworkTitle:n.title,artworkCategory:n.category,artworkPrice:n.price,artistName:n.artistName,message:`New Art Order Submitted

Client: ${u.clientName}
Email: ${u.clientEmail}
Phone: ${u.clientPhone}

Artwork: ${n.title} (${n.category})
Price: ${n.price}

Address: ${u.address}
Requirements: ${u.requirements}
Alteration: ${u.alterationDescription}
Artist: ${n.artistName}`})}),J.success("Order submitted successfully! Admin will contact you soon."),c(!1),d({clientName:(e==null?void 0:e.displayName)||"",clientEmail:(e==null?void 0:e.email)||"",clientPhone:"",address:"",requirements:"",alterationDescription:""})}catch(j){console.error("Error submitting order:",j),J.error("Failed to submit order")}};return s?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsxs("title",{children:[n.title," by ",n.artistName," - FrameGlobe"]}),o.jsx("meta",{name:"description",content:`${n.description} - Original ${n.category} by ${n.artistName}. View details and order this unique artwork.`}),o.jsx("meta",{name:"keywords",content:`${n.tags.join(", ")}, ${n.category}, art, ${n.artistName}`}),o.jsx("meta",{property:"og:title",content:`${n.title} by ${n.artistName}`}),o.jsx("meta",{property:"og:description",content:n.description}),o.jsx("meta",{property:"og:image",content:n.imageUrl}),o.jsx("meta",{property:"og:type",content:"article"})]}),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[o.jsx("div",{className:"mb-4 sm:mb-6",children:o.jsxs(fe,{to:"/gallery",className:"inline-flex items-center text-indigo-600 hover:text-indigo-800 transition-colors",children:[o.jsx(RE,{className:"h-4 w-4 mr-2"}),"Back to Gallery"]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:o.jsx("div",{className:"relative",children:o.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-auto object-contain max-h-[80vh]",style:{aspectRatio:"auto"}})})})}),o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:n.title}),o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(On,{className:"h-5 w-5 text-gray-400"}),o.jsxs("span",{className:"text-lg text-gray-700",children:["by ",n.artistName]})]}),n.isCustomizable&&o.jsx("div",{className:"flex items-center space-x-2 mb-4",children:o.jsxs("div",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1",children:[o.jsx(_i,{className:"h-4 w-4"}),o.jsx("span",{children:"This artwork can be customized"})]})}),o.jsx("p",{className:"text-gray-700 mb-6",children:n.description}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(LE,{className:"h-4 w-4 text-gray-400"}),o.jsxs("div",{children:[o.jsx("span",{className:"block text-sm text-gray-500",children:"Category"}),o.jsx("span",{className:"text-gray-900 capitalize",children:n.category})]})]})}),n.tags.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Tags"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(S=>o.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:["#",S]},S))})]}),o.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Co,{className:"h-5 w-5"}),o.jsx("span",{children:"Order This Artwork"})]}),e&&e.role==="affiliate"&&o.jsxs("button",{onClick:()=>{const S=`${window.location.origin}/artwork/${n.id}?affiliateId=${e.uid}`;navigator.clipboard.writeText(S),J.success("Share link copied to clipboard!")},className:"w-full mt-4 bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(OE,{className:"h-5 w-5"}),o.jsx("span",{children:"Share This Artwork"})]})]})})]})]}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-4 sm:p-6 max-h-[90vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Order Artwork"}),o.jsxs("p",{className:"text-gray-600 mb-6",children:['Fill in your details to order "',n.title,'"']}),o.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),o.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:u.clientName,onChange:S=>d({...u,clientName:S.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),o.jsx("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:u.clientEmail,onChange:S=>d({...u,clientEmail:S.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),o.jsx("input",{type:"tel",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:u.clientPhone,onChange:S=>d({...u,clientPhone:S.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),o.jsx("textarea",{required:!0,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"House number, street, area, city, postal code",value:u.address,onChange:S=>d({...u,address:S.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Special Requirements"}),o.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Any special requirements or notes...",value:u.requirements,onChange:S=>d({...u,requirements:S.target.value})})]}),n.isCustomizable&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[o.jsx(Pu,{className:"inline h-4 w-4 mr-1"}),"Customization Request"]}),o.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Describe how you'd like this artwork to be customized (colors, size, elements, etc.)...",value:u.alterationDescription,onChange:S=>d({...u,alterationDescription:S.target.value})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Since this artwork is customizable, please describe any changes you'd like the artist to make."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Submit Order"})]})]})]})})]})]}):o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Artwork not found"}),o.jsx(fe,{to:"/gallery",className:"text-indigo-600 hover:text-indigo-800",children:"Back to Gallery"})]})})},tD=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(""),[s,i]=A.useState(!1),[a,c]=A.useState(!1),[u,d]=A.useState(""),{login:f}=Wn(),p=Ju(),g=async w=>{if(w.preventDefault(),!a){c(!0),d("");try{const _=await f(t,n);_.role==="admin"?p("/admin"):_.role==="artist"?p("/dashboard"):_.role==="client"?p("/customer-dashboard"):p("/")}catch(_){console.error("Login error:",_),_.code==="auth/invalid-credential"?d("Invalid email or password. Please check your credentials and try again."):_.code==="auth/user-not-found"?d("No account found with this email address. Please register first."):_.code==="auth/wrong-password"?d("Incorrect password. Please try again."):_.code==="auth/invalid-email"?d("Please enter a valid email address."):_.code==="auth/user-disabled"?d("This account has been disabled. Please contact support."):_.code==="auth/too-many-requests"?d("Too many failed login attempts. Please try again later."):d("Login failed. Please try again.")}finally{c(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Login - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Login to your FrameGlobe account to access your dashboard and manage your artworks."})]}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:Rl,alt:"FrameGlobe Logo",className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 object-contain"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",o.jsx(fe,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),u&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(CE,{className:"h-5 w-5 text-red-400"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Login Failed"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("p",{children:u})})]})]})}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[o.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:w=>e(w.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:w=>r(w.target.value)}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!s),children:s?o.jsx(PE,{className:"h-4 w-4 text-gray-400"}):o.jsx(er,{className:"h-4 w-4 text-gray-400"})})]})]}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("div",{className:"text-sm",children:o.jsx(fe,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Forgot your password?"})})}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:a?"Signing in...":"Sign in"})})]})]})})]})},nD=()=>{const[t,e]=A.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",role:"artist"}),[n,r]=A.useState(!1),[s,i]=A.useState(!1),{register:a}=Wn(),c=Ju(),[u,d]=A.useState(null),f=Fs();A.useEffect(()=>{const S=new URLSearchParams(f.search).get("ref");S&&d(S)},[f.search]);const p=_=>{e({...t,[_.target.name]:_.target.value})},g=_=>{const S=_.replace(/[\s-()]/g,""),j=/^(\+91|91)?[6-9]\d{9}$/,N=/^(\+971|971)?[5][0-9]\d{7}$/;return j.test(S)||N.test(S)},w=async _=>{if(_.preventDefault(),!s){if(t.password!==t.confirmPassword){alert("Passwords do not match");return}if(!g(t.phone)){alert(`Please enter a valid phone number.
India: +91 followed by 10 digits (starting with 6-9)
UAE: +971 followed by 9 digits (starting with 5)`);return}i(!0);try{await a(t.email,t.password,t.name,t.role,t.phone,u),await fetch("https://formspree.io/f/xldnylwy",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email,phone:t.phone,message:`New Artist signup.

Name: ${t.name}
Email: ${t.email}
Phone: ${t.phone}`})}),c("/dashboard")}catch(S){console.error("Registration error:",S)}finally{i(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Sign Up - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Join FrameGlobe as an artist to showcase your work or as a client to discover amazing artworks."})]}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:Rl,alt:"FrameGlobe Logo",className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 object-contain"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),o.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",o.jsx(fe,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to existing account"})]})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[o.jsxs("div",{className:"flex space-x-4",children:[o.jsxs("button",{type:"button",onClick:()=>e({...t,role:"artist"}),className:`flex-1 p-4 border-2 rounded-lg transition-colors ${t.role==="artist"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(On,{className:"h-6 w-6 mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Artist Signup"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Showcase your work"})]}),o.jsxs("button",{type:"button",onClick:()=>e({...t,role:"affiliate"}),className:`flex-1 p-4 border-2 rounded-lg transition-colors ${t.role==="affiliate"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(Ro,{className:"h-6 w-6 mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Affiliate Signup"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Share artwork"})]}),o.jsxs("button",{type:"button",onClick:()=>e({...t,role:"client"}),className:`flex-1 p-4 border-2 rounded-lg transition-colors ${t.role==="client"?"border-indigo-600 bg-indigo-50 text-indigo-600":"border-gray-300 hover:border-gray-400"}`,children:[o.jsx(Ro,{className:"h-6 w-6 mx-auto mb-2"}),o.jsx("div",{className:"text-sm font-medium",children:"Client"}),o.jsx("div",{className:"text-xs text-gray-500",children:"Discover art"})]})]}),o.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),o.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Your full name",value:t.name,onChange:p})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your@email.com",value:t.email,onChange:p})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),o.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"India: +91 9876543210 | UAE: +971 501234567",value:t.phone,onChange:p}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your phone number with country code (India: +91, UAE: +971)"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",required:!0,className:"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Create a password",value:t.password,onChange:p}),o.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?o.jsx(PE,{className:"h-4 w-4 text-gray-400"}):o.jsx(er,{className:"h-4 w-4 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Confirm your password",value:t.confirmPassword,onChange:p})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating Account...":"Create Account"})})]})]})})]})},Zf=(t,e=1200,n=.8)=>new Promise(r=>{const s=document.createElement("canvas"),i=s.getContext("2d"),a=new Image;a.onload=()=>{let{width:c,height:u}=a;c>e&&(u=u*e/c,c=e),s.width=c,s.height=u,i.drawImage(a,0,0,c,u),s.toBlob(d=>{const f=new File([d],t.name,{type:"image/jpeg",lastModified:Date.now()});r(f)},"image/jpeg",n)},a.src=URL.createObjectURL(t)}),Ax=t=>Zf(t,400,.7),em=({onFileSelect:t,selectedFile:e,accept:n="image/*",label:r,description:s,disabled:i=!1})=>{const[a,c]=A.useState(!1),u=_=>{_.preventDefault(),i||c(!0)},d=_=>{_.preventDefault(),c(!1)},f=_=>{if(_.preventDefault(),c(!1),i)return;const S=_.dataTransfer.files;S.length>0&&t(S[0])},p=_=>{var j;const S=((j=_.target.files)==null?void 0:j[0])||null;t(S)},g=()=>{t(null)},w=_=>{if(_===0)return"0 Bytes";const S=1024,j=["Bytes","KB","MB","GB"],N=Math.floor(Math.log(_)/Math.log(S));return parseFloat((_/Math.pow(S,N)).toFixed(2))+" "+j[N]};return o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:r}),e?o.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:e.type.startsWith("image/")?o.jsx(M4,{className:"h-8 w-8 text-green-600"}):o.jsx(L4,{className:"h-8 w-8 text-blue-600"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),o.jsx("p",{className:"text-xs text-gray-500",children:w(e.size)})]})]}),o.jsx("button",{type:"button",onClick:g,disabled:i,className:"flex-shrink-0 p-1 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Ht,{className:"h-5 w-5"})})]}),e.type.startsWith("image/")&&o.jsx("div",{className:"mt-3",children:o.jsx("img",{src:URL.createObjectURL(e),alt:"Preview",className:"max-w-full h-32 object-cover rounded border"})}),o.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[o.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"File selected"}),o.jsx("button",{type:"button",onClick:()=>{var _;return(_=document.getElementById("file-input"))==null?void 0:_.click()},disabled:i,className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Change file"})]}),o.jsx("input",{id:"file-input",type:"file",accept:n,onChange:p,className:"hidden",disabled:i})]}):o.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${a?"border-indigo-500 bg-indigo-50":i?"border-gray-200 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-indigo-400 hover:bg-gray-50 cursor-pointer"}`,onDragOver:u,onDragLeave:d,onDrop:f,onClick:()=>{var _;return!i&&((_=document.getElementById("file-input"))==null?void 0:_.click())},children:[o.jsx("input",{id:"file-input",type:"file",accept:n,onChange:p,className:"hidden",disabled:i}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center ${a?"bg-indigo-100":"bg-gray-100"}`,children:o.jsx(VE,{className:`h-6 w-6 ${a?"text-indigo-600":"text-gray-400"}`})}),o.jsxs("div",{children:[o.jsx("p",{className:`text-sm font-medium ${i?"text-gray-400":"text-gray-900"}`,children:a?"Drop your file here":"Click to upload or drag and drop"}),s&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:s})]})]})]})]})},rD=()=>{var Wo,lt,Ho;const{currentUser:t}=Wn(),[e,n]=A.useState([]),[r,s]=A.useState([]),[i,a]=A.useState([]),[c,u]=A.useState([]),[d,f]=A.useState([]),[p,g]=A.useState([]),[w,_]=A.useState(!0),[S,j]=A.useState("artworks"),[N,x]=A.useState(!1),[b,L]=A.useState(!1),[F,$]=A.useState(!1),[T,v]=A.useState(!1),[I,k]=A.useState(!1),[P,D]=A.useState(""),[E,H]=A.useState(null),[ie,Z]=A.useState(null),[nt,B]=A.useState(null),[ee,ne]=A.useState(!1),[ye,de]=A.useState(!1),[_e,We]=A.useState(""),[Et,He]=A.useState(null),[Pt,Hn]=A.useState(!1),[Bs,Zt]=A.useState(!1),[Gn,mr]=A.useState(!1),[Dt,qs]=A.useState(""),[Bt,Ws]=A.useState("all"),[bn,Bo]=A.useState(""),[Tn,Wr]=A.useState("all"),[In,qo]=A.useState(""),[Sn,Hr]=A.useState("all"),[Te,Ie]=A.useState({title:"",description:"",category:"painting",price:"",isCustomizable:!1,tags:"",file:null}),[le,Ee]=A.useState({title:"",description:"",category:"painting",price:"",isCustomizable:!1,tags:"",file:null}),fn=["painting","drawing","digital","sculpture","photography","mixed-media","Graphite pencil portrait","Charcoal pencil portrait","Acrylic portrait Painting","Oil Painting portrait","Digital portrait","Watercolor portrait","Acrylic landscape Painting","Oil landscape Painting","Watercolor landscape","Colour pencil portraits","Kerala Mural painting","Ball pen portrait","other"];A.useEffect(()=>{t&&Hs()},[t]),A.useEffect(()=>{Gr()},[e,Dt,Bt]),A.useEffect(()=>{C()},[r,bn,Tn]),A.useEffect(()=>{q()},[i,In,Sn]);const Hs=async()=>{if(t)try{const R=Vt(Qe(re,"artworks"),jr("artistId","==",t.uid),ci("createdAt","desc")),Se=(await Mt(R)).docs.map(rt=>({id:rt.id,...rt.data()})),Re=Vt(Qe(re,"sharedRequirements"),jr("artistId","==",t.uid),ci("sharedAt","desc")),Qn=(await Mt(Re)).docs.map(rt=>({id:rt.id,...rt.data()})),pn=Vt(Qe(re,"sharedOrders"),jr("artistId","==",t.uid),ci("sharedAt","desc")),Yr=(await Mt(pn)).docs.map(rt=>({id:rt.id,...rt.data()}));n(Se),s(Qn),a(Yr)}catch(R){console.error("Error fetching data:",R),J.error("Failed to load data")}finally{_(!1)}},Gr=()=>{let R=e;Dt&&(R=R.filter(G=>G.title.toLowerCase().includes(Dt.toLowerCase())||G.description.toLowerCase().includes(Dt.toLowerCase())||G.tags.some(Se=>Se.toLowerCase().includes(Dt.toLowerCase())))),Bt!=="all"&&(R=R.filter(G=>G.category===Bt)),u(R)},C=()=>{let R=r;bn&&(R=R.filter(G=>G.requirement.clientName.toLowerCase().includes(bn.toLowerCase())||G.requirement.description.toLowerCase().includes(bn.toLowerCase())||G.requirement.category&&G.requirement.category.toLowerCase().includes(bn.toLowerCase()))),Tn!=="all"&&(R=R.filter(G=>G.status===Tn)),f(R)},q=()=>{let R=i;In&&(R=R.filter(G=>G.order.artwork.title.toLowerCase().includes(In.toLowerCase())||G.order.artwork.category.toLowerCase().includes(In.toLowerCase()))),Sn!=="all"&&(R=R.filter(G=>G.status===Sn)),g(R)},K=R=>{B(R),Ee({title:R.title,description:R.description,category:R.category,price:R.price?R.price.toString():"",isCustomizable:R.isCustomizable,tags:R.tags.join(", "),file:null}),L(!0)},he=async R=>{if(R.preventDefault(),!(!nt||!t)){de(!0);try{let G={title:le.title,description:le.description,category:le.category,price:le.price?parseFloat(le.price):null,isCustomizable:le.isCustomizable,tags:le.tags.split(",").map(Se=>Se.trim()).filter(Se=>Se),updatedAt:new Date};if(le.file){const Se=await Zf(le.file),Re=await Ax(le.file),ve="dlsgpthqy",Qn="artist_upload_preset",pn=`https://api.cloudinary.com/v1_1/${ve}/image/upload`,nn=new FormData;nn.append("file",Se),nn.append("upload_preset",Qn);const rt=await(await fetch(pn,{method:"POST",body:nn})).json(),gr=new FormData;gr.append("file",Re),gr.append("upload_preset",Qn);const Ci=await(await fetch(pn,{method:"POST",body:gr})).json();G.imageUrl=rt.secure_url,G.thumbnailUrl=Ci.secure_url,G.publicId=rt.public_id}await gt(ke(re,"artworks",nt.id),G),n(e.map(Se=>Se.id===nt.id?{...Se,...G}:Se)),J.success("Artwork updated successfully!"),L(!1),Ee({title:"",description:"",category:"painting",price:"",isCustomizable:!1,tags:"",file:null}),B(null)}catch(G){console.error("Error updating artwork:",G),J.error("Failed to update artwork")}finally{de(!1)}}},ht=async R=>{if(R.preventDefault(),!(!Te.file||!t)){ne(!0);try{const G=await Zf(Te.file),Se=await Ax(Te.file),Re="dlsgpthqy",ve="artist_upload_preset",Qn=`https://api.cloudinary.com/v1_1/${Re}/image/upload`,pn=new FormData;pn.append("file",G),pn.append("upload_preset",ve);const Yr=await(await fetch(Qn,{method:"POST",body:pn})).json(),rt=new FormData;rt.append("file",Se),rt.append("upload_preset",ve);const An=await(await fetch(Qn,{method:"POST",body:rt})).json(),Ci={artistId:t.uid,artistName:t.displayName,title:Te.title,description:Te.description,category:Te.category,imageUrl:Yr.secure_url,thumbnailUrl:An.secure_url,publicId:Yr.public_id,price:Te.price?parseFloat(Te.price):null,isCustomizable:Te.isCustomizable,tags:Te.tags.split(",").map(Ri=>Ri.trim()).filter(Ri=>Ri),createdAt:new Date,updatedAt:new Date,isAvailable:!0};await fo(Qe(re,"artworks"),Ci),J.success("Artwork uploaded successfully!"),x(!1),Ie({title:"",description:"",category:"painting",price:"",isCustomizable:!1,tags:"",file:null}),Hs()}catch(G){console.error("Error uploading artwork:",G),J.error("Failed to upload artwork")}finally{ne(!1)}}},en=async R=>{if(window.confirm("Are you sure you want to delete this artwork? This action cannot be undone."))try{await Ma(ke(re,"artworks",R)),n(e.filter(G=>G.id!==R)),J.success("Artwork deleted successfully")}catch(G){console.error("Error deleting artwork:",G),J.error("Failed to delete artwork")}},at=async(R,G)=>{const Se=!G,Re=Se?"published":"hidden";if(window.confirm(`Are you sure you want to ${Se?"publish":"hide"} this artwork?`)){He(R);try{await gt(ke(re,"artworks",R),{isAvailable:Se,updatedAt:new Date}),n(e.map(ve=>ve.id===R?{...ve,isAvailable:Se}:ve)),J.success(`Artwork ${Re} successfully`)}catch(ve){console.error("Error updating artwork visibility:",ve),J.error(`Failed to ${Se?"publish":"hide"} artwork`)}finally{He(null)}}},pr=async(R,G)=>{if(!t||!E)return;if(E.requirement.acceptedBy&&E.requirement.acceptedBy.artistId!==t.uid){J.error("This requirement has already been accepted by another artist");return}const Se=G==="accept"?"Are you sure you want to accept this requirement?":"Are you sure you want to decline this requirement?";if(window.confirm(Se)){if(G==="decline"&&!_e.trim()){J.error("Please provide a reason for declining");return}try{const Re={status:G==="accept"?"accepted":"declined",[`${G}edAt`]:new Date};if(G==="decline"&&(Re.declineReason=_e),await gt(ke(re,"sharedRequirements",R),Re),G==="accept"){await gt(ke(re,"requirements",E.requirementId),{status:"assigned",acceptedBy:{artistId:t.uid,artistName:t.displayName,artistEmail:t.email,acceptedAt:new Date}});const ve=Vt(Qe(re,"sharedRequirements"),jr("requirementId","==",E.requirementId)),pn=(await Mt(ve)).docs.map(async nn=>{nn.id!==R&&await gt(ke(re,"sharedRequirements",nn.id),{"requirement.acceptedBy":{artistId:t.uid,artistName:t.displayName,artistEmail:t.email,acceptedAt:new Date}})});await Promise.all(pn)}s(r.map(ve=>ve.id===R?{...ve,...Re}:ve)),G==="accept"&&s(r.map(ve=>ve.requirementId===E.requirementId?{...ve,requirement:{...ve.requirement,acceptedBy:{artistId:t.uid,artistName:t.displayName,artistEmail:t.email,acceptedAt:new Date}}}:ve)),J.success(`Requirement ${G}ed successfully`),$(!1),We("")}catch(Re){console.error(`Error ${G}ing requirement:`,Re),J.error(`Failed to ${G} requirement`)}}},Kn=async(R,G)=>{if(!t||!ie)return;const Se=G==="accept"?"Are you sure you want to accept this order?":"Are you sure you want to decline this order?";if(window.confirm(Se)){if(G==="decline"&&!_e.trim()){J.error("Please provide a reason for declining");return}try{const Re={status:G==="accept"?"accepted":"declined",[`${G}edAt`]:new Date};G==="decline"&&(Re.declineReason=_e),await gt(ke(re,"sharedOrders",R),Re),G==="accept"?await gt(ke(re,"orders",ie.orderId),{status:"confirmed",confirmedAt:new Date}):await gt(ke(re,"orders",ie.orderId),{status:"cancelled",declineReason:_e,cancelledAt:new Date}),a(i.map(ve=>ve.id===R?{...ve,...Re}:ve)),J.success(`Order ${G}ed successfully`),v(!1),We("")}catch(Re){console.error(`Error ${G}ing order:`,Re),J.error(`Failed to ${G} order`)}}},mn=async R=>{if(window.confirm("Are you sure you want to delete this requirement? This action cannot be undone."))try{await Ma(ke(re,"sharedRequirements",R)),s(r.filter(G=>G.id!==R)),J.success("Requirement deleted successfully"),$(!1)}catch(G){console.error("Error deleting requirement:",G),J.error("Failed to delete requirement")}},Gs=async R=>{if(window.confirm("Are you sure you want to delete this order? This action cannot be undone."))try{await Ma(ke(re,"sharedOrders",R)),a(i.filter(G=>G.id!==R)),J.success("Order deleted successfully"),v(!1)}catch(G){console.error("Error deleting order:",G),J.error("Failed to delete order")}},Kr=R=>{const G=`*Order Declined - FrameGlobe*

*Artwork:* ${R.order.artwork.title}
*Category:* ${R.order.artwork.category}
*Decline Reason:* ${R.declineReason}

*Order Details:*
- Shared Date: ${kn(R.sharedAt)}
- Declined Date: ${kn(R.declinedAt)}

*Artist:* ${R.artistName}
*Email:* ${R.artistEmail}

Please review and take necessary action.`,Re=`https://wa.me/?text=${encodeURIComponent(G)}`;window.open(Re,"_blank")},qt=R=>{switch(R){case"pending":return"bg-yellow-100 text-yellow-800";case"accepted":return"bg-green-100 text-green-800";case"declined":return"bg-red-100 text-red-800";case"in-progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},kn=R=>{if(!R)return"N/A";const G=R.seconds?new Date(R.seconds*1e3):new Date(R);return G.toLocaleDateString()+" "+G.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},tn=R=>{D(R),k(!0)},Ge=R=>R.requirement.acceptedBy&&R.requirement.acceptedBy.artistId!==(t==null?void 0:t.uid),Qr=R=>R.requirement.acceptedBy&&R.requirement.acceptedBy.artistId===(t==null?void 0:t.uid);return w?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Artist Dashboard - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Manage your artworks, view client requirements, and handle orders in your artist dashboard."})]}),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6 sm:mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-4 sm:space-y-0",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Artist Dashboard"}),o.jsxs("p",{className:"text-gray-600 mt-1 sm:mt-2 text-sm sm:text-base",children:["Welcome back, ",t==null?void 0:t.displayName]})]}),o.jsxs("button",{onClick:()=>x(!0),className:"bg-indigo-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center space-x-2 text-sm sm:text-base",children:[o.jsx(z4,{className:"h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("span",{className:"hidden sm:inline",children:"Upload Artwork"}),o.jsx("span",{className:"sm:hidden",children:"Upload"})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(_i,{className:"h-6 w-6 sm:h-8 sm:w-8 text-indigo-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Artworks"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:e.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Co,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Requirements"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:r.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Jf,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Orders"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:i.length})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex space-x-4 sm:space-x-8 px-4 sm:px-6 overflow-x-auto",children:[o.jsxs("button",{onClick:()=>j("artworks"),className:`py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${S==="artworks"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["My Artworks (",c.length,")"]}),o.jsxs("button",{onClick:()=>j("requirements"),className:`py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${S==="requirements"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Requirements (",d.length,")"]}),o.jsxs("button",{onClick:()=>j("orders"),className:`py-3 sm:py-4 px-1 border-b-2 font-medium text-xs sm:text-sm whitespace-nowrap ${S==="orders"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Orders (",p.length,")"]})]})}),o.jsxs("div",{className:"p-4 sm:p-6",children:[S==="artworks"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"sm:hidden",children:o.jsxs("button",{onClick:()=>Hn(!Pt),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[o.jsx("span",{children:"Filters"}),o.jsx(on,{className:"h-4 w-4"})]})}),o.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 ${Pt?"block":"hidden sm:grid"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("input",{type:"text",placeholder:"Search artworks...",className:"w-full pl-8 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",value:Dt,onChange:R=>qs(R.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsxs("select",{className:"w-full pl-8 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none text-sm",value:Bt,onChange:R=>Ws(R.target.value),children:[o.jsx("option",{value:"all",children:"All Categories"}),fn.map(R=>o.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))]})]})]}),c.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12",children:[o.jsx(_i,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:Dt||Bt!=="all"?"No artworks found":"No artworks yet"}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base px-4",children:Dt||Bt!=="all"?"Try adjusting your search or filter criteria":"Upload your first artwork to get started"}),!Dt&&Bt==="all"&&o.jsx("button",{onClick:()=>x(!0),className:"bg-indigo-600 text-white px-4 sm:px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors text-sm sm:text-base",children:"Upload Artwork"})]}):o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:c.map(R=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[o.jsxs("div",{className:"relative cursor-pointer",onClick:()=>tn(R.imageUrl),children:[o.jsx("img",{src:R.thumbnailUrl||R.imageUrl,alt:R.title,className:"w-full h-40 sm:h-48 object-cover hover:opacity-80 transition-opacity"}),o.jsx("div",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-1 rounded-full opacity-0 hover:opacity-100 transition-opacity",children:o.jsx(Fa,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),o.jsxs("div",{className:"p-3 sm:p-4",children:[o.jsx("h3",{className:"font-semibold text-base sm:text-lg mb-2 line-clamp-1",children:R.title}),o.jsx("p",{className:"text-gray-600 text-xs sm:text-sm mb-3 line-clamp-2",children:R.description}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs",children:R.category}),R.price&&o.jsxs("span",{className:"text-green-600 font-semibold text-sm",children:["",R.price]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>K(R),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit artwork",children:o.jsx(Pu,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),o.jsx("button",{onClick:()=>at(R.id,R.isAvailable),disabled:Et===R.id,className:`p-1 transition-colors ${R.isAvailable?"text-orange-600 hover:text-orange-800":"text-green-600 hover:text-green-800"} ${Et===R.id?"opacity-50 cursor-not-allowed":""}`,title:R.isAvailable?"Hide from gallery":"Publish to gallery",children:Et===R.id?o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 sm:h-4 sm:w-4 border-b-2 border-current"}):R.isAvailable?o.jsx(er,{className:"h-3 w-3 sm:h-4 sm:w-4"}):o.jsx(er,{className:"h-3 w-3 sm:h-4 sm:w-4 opacity-50"})}),o.jsx("button",{onClick:()=>en(R.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete artwork",children:o.jsx(Nr,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${R.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.isAvailable?"Published":"Hidden"})]})]})]},R.id))})]}),S==="requirements"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"sm:hidden",children:o.jsxs("button",{onClick:()=>Zt(!Bs),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[o.jsx("span",{children:"Filters"}),o.jsx(on,{className:"h-4 w-4"})]})}),o.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 ${Bs?"block":"hidden sm:grid"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("input",{type:"text",placeholder:"Search requirements...",className:"w-full pl-8 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",value:bn,onChange:R=>Bo(R.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsxs("select",{className:"w-full pl-8 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none text-sm",value:Tn,onChange:R=>Wr(R.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"accepted",children:"Accepted"}),o.jsx("option",{value:"declined",children:"Declined"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]}),d.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12",children:[o.jsx(Co,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No requirements found"}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base px-4",children:bn||Tn!=="all"?"Try adjusting your search or filter criteria":"Client requirements will appear here when shared with you"})]}):d.map(R=>{var Re;const G=Ge(R),Se=Qr(R);return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["Requirement from ",R.requirement.clientName]}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Proposed Price: ",R.proposedPrice]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[Se&&o.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:[o.jsx(Xf,{className:"h-3 w-3"}),o.jsx("span",{children:"Accepted by you"})]}),G&&o.jsxs("div",{className:"flex items-center space-x-1 bg-orange-100 text-orange-800 px-2 py-1 rounded-full text-xs",children:[o.jsx(Ex,{className:"h-3 w-3"}),o.jsxs("span",{children:["Accepted by ",(Re=R.requirement.acceptedBy)==null?void 0:Re.artistName]})]}),R.status==="declined"&&R.declineReason&&o.jsxs("div",{className:"flex items-center space-x-1 bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs",children:[o.jsx(Ht,{className:"h-3 w-3"}),o.jsx("span",{children:"Declined by you"})]})]}),R.status==="declined"&&R.declineReason&&o.jsxs("p",{className:"text-xs sm:text-sm text-red-600 mt-1",children:["Reason: ",R.declineReason]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${qt(R.status)}`,children:R.status==="declined"&&R.declineReason?"Declined by you":R.status.charAt(0).toUpperCase()+R.status.slice(1)}),o.jsxs("button",{onClick:()=>{H(R),$(!0)},className:"bg-gray-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm hover:bg-gray-700 transition-colors flex items-center space-x-1",children:[o.jsx(er,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"View"})]}),o.jsxs("button",{onClick:()=>mn(R.id),className:"bg-red-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm hover:bg-red-700 transition-colors flex items-center space-x-1",children:[o.jsx(Nr,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Shared: ",kn(R.sharedAt)]})]},R.id)})]}),S==="orders"&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"sm:hidden",children:o.jsxs("button",{onClick:()=>mr(!Gn),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg text-sm font-medium text-gray-700",children:[o.jsx("span",{children:"Filters"}),o.jsx(on,{className:"h-4 w-4"})]})}),o.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-3 gap-4 mb-6 ${Gn?"block":"hidden sm:grid"}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsx("input",{type:"text",placeholder:"Search orders...",className:"w-full pl-8 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",value:In,onChange:R=>qo(R.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4 sm:h-5 sm:w-5"}),o.jsxs("select",{className:"w-full pl-8 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none text-sm",value:Sn,onChange:R=>Hr(R.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"accepted",children:"Accepted"}),o.jsx("option",{value:"declined",children:"Declined"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]}),p.length===0?o.jsxs("div",{className:"text-center py-8 sm:py-12",children:[o.jsx(Jf,{className:"h-12 w-12 sm:h-16 sm:w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base px-4",children:In||Sn!=="all"?"Try adjusting your search or filter criteria":"Orders will appear here when clients order your artworks"})]}):p.map(R=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[o.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:()=>tn(R.order.artwork.imageUrl),children:o.jsx("img",{src:R.order.artwork.imageUrl,alt:R.order.artwork.title,className:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-lg hover:opacity-80 transition-opacity"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:R.order.artwork.title}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:R.order.artwork.category}),R.status==="declined"&&R.declineReason&&o.jsxs("p",{className:"text-xs sm:text-sm text-red-600 mt-1 line-clamp-2",children:["Declined by you: ",R.declineReason]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${qt(R.status)}`,children:R.status==="declined"&&R.declineReason?"Declined by you":R.status.charAt(0).toUpperCase()+R.status.slice(1)}),R.status==="declined"&&R.declineReason&&o.jsxs("button",{onClick:()=>Kr(R),className:"bg-green-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm hover:bg-green-700 transition-colors flex items-center space-x-1",title:"Share decline details via WhatsApp",children:[o.jsx(bx,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),o.jsxs("button",{onClick:()=>{Z(R),v(!0)},className:"bg-gray-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm hover:bg-gray-700 transition-colors flex items-center space-x-1",children:[o.jsx(er,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"View"})]}),o.jsxs("button",{onClick:()=>Gs(R.id),className:"bg-red-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm hover:bg-red-700 transition-colors flex items-center space-x-1",children:[o.jsx(Nr,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Shared: ",kn(R.sharedAt)]})]},R.id))]})]})]})]}),I&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"relative max-w-full max-h-full",children:[o.jsx("button",{onClick:()=>k(!1),className:"absolute top-2 sm:top-4 right-2 sm:right-4 text-white hover:text-gray-300 z-10",children:o.jsx(Ht,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),o.jsx("img",{src:P,alt:"Full size view",className:"max-w-full max-h-full object-contain"})]})}),N&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-4 sm:p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Upload New Artwork"}),o.jsx("button",{onClick:()=>x(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),o.jsxs("form",{onSubmit:ht,className:"space-y-4 sm:space-y-6",children:[o.jsx(em,{onFileSelect:R=>Ie({...Te,file:R}),selectedFile:Te.file,accept:"image/*",label:"Artwork Image *",description:"Upload your artwork image (JPEG, PNG, WebP)",disabled:ee}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),o.jsx("input",{type:"text",required:!0,value:Te.title,onChange:R=>Ie({...Te,title:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Artwork title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),o.jsx("select",{required:!0,value:Te.category,onChange:R=>Ie({...Te,category:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:fn.map(R=>o.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{required:!0,rows:4,value:Te.description,onChange:R=>Ie({...Te,description:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Describe your artwork..."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (INR)"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:Te.price,onChange:R=>Ie({...Te,price:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Optional price"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),o.jsx("input",{type:"text",value:Te.tags,onChange:R=>Ie({...Te,tags:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"tag1, tag2, tag3"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"customizable",checked:Te.isCustomizable,onChange:R=>Ie({...Te,isCustomizable:R.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),o.jsx("label",{htmlFor:"customizable",className:"ml-2 text-sm text-gray-700",children:"This artwork can be customized"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:ee||!Te.file,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:[o.jsx(VE,{className:"h-4 w-4"}),o.jsx("span",{children:ee?"Uploading...":"Upload Artwork"})]})]})]})]})}),b&&nt&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-4 sm:p-6 max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4 sm:mb-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Edit Artwork"}),o.jsx("button",{onClick:()=>{L(!1),B(null),Ee({title:"",description:"",category:"painting",price:"",isCustomizable:!1,tags:"",file:null})},className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]}),o.jsxs("form",{onSubmit:he,className:"space-y-4 sm:space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Image"}),o.jsx("div",{className:"relative",children:o.jsx("img",{src:nt.thumbnailUrl||nt.imageUrl,alt:nt.title,className:"w-full h-32 object-cover rounded-lg border"})})]}),o.jsx(em,{onFileSelect:R=>Ee({...le,file:R}),selectedFile:le.file,accept:"image/*",label:"Replace Image (Optional)",description:"Upload a new image to replace the current one (JPEG, PNG, WebP)",disabled:ye}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),o.jsx("input",{type:"text",required:!0,value:le.title,onChange:R=>Ee({...le,title:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Artwork title"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),o.jsx("select",{required:!0,value:le.category,onChange:R=>Ee({...le,category:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",children:fn.map(R=>o.jsx("option",{value:R,children:R.charAt(0).toUpperCase()+R.slice(1)},R))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),o.jsx("textarea",{required:!0,rows:4,value:le.description,onChange:R=>Ee({...le,description:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Describe your artwork..."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (INR)"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:le.price,onChange:R=>Ee({...le,price:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Optional price"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),o.jsx("input",{type:"text",value:le.tags,onChange:R=>Ee({...le,tags:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"tag1, tag2, tag3"})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{type:"checkbox",id:"editCustomizable",checked:le.isCustomizable,onChange:R=>Ee({...le,isCustomizable:R.target.checked}),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),o.jsx("label",{htmlFor:"editCustomizable",className:"ml-2 text-sm text-gray-700",children:"This artwork can be customized"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{type:"button",onClick:()=>{L(!1),B(null),Ee({title:"",description:"",category:"painting",price:"",isCustomizable:!1,tags:"",file:null})},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:ye,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2 text-sm",children:[o.jsx(Pu,{className:"h-4 w-4"}),o.jsx("span",{children:ye?"Updating...":"Update Artwork"})]})]})]})]})}),F&&E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 space-y-2 sm:space-y-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Requirement Details"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>mn(E.id),className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(Nr,{className:"h-4 w-4"}),o.jsx("span",{children:"Delete"})]}),o.jsx("button",{onClick:()=>$(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:"Client Request"}),o.jsx("div",{className:"bg-gray-50 p-3 sm:p-4 rounded-lg",children:o.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:E.requirement.description})})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Proposed Price"}),o.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:["",E.proposedPrice]})]}),E.requirement.category&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Category"}),o.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm",children:E.requirement.category})]}),E.requirement.deadline&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Deadline"}),o.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:new Date(E.requirement.deadline.seconds*1e3).toLocaleDateString()})]})]}),o.jsxs("div",{className:"space-y-4",children:[E.requirement.attachmentUrl&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Reference Image"}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:E.requirement.attachmentUrl,alt:"Client reference",className:"w-full h-auto object-contain max-h-64 rounded-lg border cursor-pointer",onClick:()=>tn(E.requirement.attachmentUrl)}),o.jsx("button",{onClick:()=>tn(E.requirement.attachmentUrl),className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity",children:o.jsx(Fa,{className:"h-4 w-4"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Status"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${qt(E.status)}`,children:E.status==="declined"&&E.declineReason?"Declined by you":E.status.charAt(0).toUpperCase()+E.status.slice(1)})]}),Qr(E)&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Xf,{className:"h-5 w-5 text-green-600"}),o.jsx("h4",{className:"font-medium text-green-900 text-sm sm:text-base",children:"Accepted by You"})]}),o.jsxs("p",{className:"text-green-700 text-sm",children:["You accepted this requirement on ",kn((Wo=E.requirement.acceptedBy)==null?void 0:Wo.acceptedAt)]})]}),Ge(E)&&o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(Ex,{className:"h-5 w-5 text-orange-600"}),o.jsx("h4",{className:"font-medium text-orange-900 text-sm sm:text-base",children:"Already Accepted"})]}),o.jsxs("p",{className:"text-orange-700 text-sm",children:["This requirement has been accepted by ",o.jsx("strong",{children:(lt=E.requirement.acceptedBy)==null?void 0:lt.artistName})," on"," ",kn((Ho=E.requirement.acceptedBy)==null?void 0:Ho.acceptedAt)]})]}),E.status==="pending"&&!Ge(E)&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decline Reason (if declining)"}),o.jsx("textarea",{rows:3,value:_e,onChange:R=>We(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Reason for declining this requirement..."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsxs("button",{onClick:()=>pr(E.id,"decline"),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2 text-sm",children:[o.jsx(Ht,{className:"h-4 w-4"}),o.jsx("span",{children:"Decline"})]}),o.jsxs("button",{onClick:()=>pr(E.id,"accept"),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2 text-sm",children:[o.jsx(vx,{className:"h-4 w-4"}),o.jsx("span",{children:"Accept"})]})]})]}),E.status==="declined"&&E.declineReason&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4",children:[o.jsx("h4",{className:"font-medium text-red-900 mb-2 text-sm sm:text-base",children:"Decline Reason"}),o.jsx("p",{className:"text-red-700 text-sm",children:E.declineReason})]})]})]})]})})}),T&&ie&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 sm:mb-6 space-y-2 sm:space-y-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Order Details"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[ie.status==="declined"&&ie.declineReason&&o.jsxs("button",{onClick:()=>Kr(ie),className:"bg-green-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 text-sm",title:"Share decline details via WhatsApp",children:[o.jsx(bx,{className:"h-4 w-4"}),o.jsx("span",{children:"Share via WhatsApp"})]}),o.jsxs("button",{onClick:()=>Gs(ie.id),className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(Nr,{className:"h-4 w-4"}),o.jsx("span",{children:"Delete"})]}),o.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:ie.order.artwork.imageUrl,alt:ie.order.artwork.title,className:"w-full h-auto object-contain max-h-96 rounded-lg cursor-pointer",onClick:()=>tn(ie.order.artwork.imageUrl)}),o.jsx("button",{onClick:()=>tn(ie.order.artwork.imageUrl),className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity",children:o.jsx(Fa,{className:"h-4 w-4"})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2",children:ie.order.artwork.title}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:ie.order.artwork.category})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Status"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${qt(ie.status)}`,children:ie.status==="declined"&&ie.declineReason?"Declined by you":ie.status.charAt(0).toUpperCase()+ie.status.slice(1)})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Shared Date"}),o.jsx("p",{className:"text-gray-700 text-sm sm:text-base",children:kn(ie.sharedAt)})]}),ie.order.requirements&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Special Requirements"}),o.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:o.jsx("p",{className:"text-gray-700 text-sm",children:ie.order.requirements})})]}),ie.order.alterationDescription&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm sm:text-base",children:"Customization Request"}),o.jsx("div",{className:"bg-purple-50 p-3 rounded-lg",children:o.jsx("p",{className:"text-gray-700 text-sm",children:ie.order.alterationDescription})})]}),ie.status==="pending"&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Decline Reason (if declining)"}),o.jsx("textarea",{rows:3,value:_e,onChange:R=>We(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-sm",placeholder:"Reason for declining this order..."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsxs("button",{onClick:()=>Kn(ie.id,"decline"),className:"flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center justify-center space-x-2 text-sm",children:[o.jsx(Ht,{className:"h-4 w-4"}),o.jsx("span",{children:"Decline"})]}),o.jsxs("button",{onClick:()=>Kn(ie.id,"accept"),className:"flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center space-x-2 text-sm",children:[o.jsx(vx,{className:"h-4 w-4"}),o.jsx("span",{children:"Accept"})]})]})]}),ie.status==="declined"&&ie.declineReason&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4",children:[o.jsx("h4",{className:"font-medium text-red-900 mb-2 text-sm sm:text-base",children:"Decline Reason"}),o.jsx("p",{className:"text-red-700 text-sm",children:ie.declineReason})]})]})]})]})})})]})]})},sD=()=>{const{currentUser:t}=Wn(),[e,n]=A.useState({}),[r,s]=A.useState(!1),[i,a]=A.useState(!0),[c,u]=A.useState({bio:"",specialties:"",location:"",website:"",instagram:"",twitter:"",facebook:""});A.useEffect(()=>{t&&d()},[t]);const d=async()=>{var p,g,w,_;if(t)try{const S=await jo(ke(re,"users",t.uid));if(S.exists()){const j=S.data();if(!j.referralCode){const N=t.uid.slice(0,8);await gt(ke(re,"users",t.uid),{referralCode:N}),j.referralCode=N}n(j),u({bio:j.bio||"",specialties:((p=j.specialties)==null?void 0:p.join(", "))||"",location:j.location||"",website:j.website||"",instagram:((g=j.socialLinks)==null?void 0:g.instagram)||"",twitter:((w=j.socialLinks)==null?void 0:w.twitter)||"",facebook:((_=j.socialLinks)==null?void 0:_.facebook)||""})}}catch(S){console.error("Error fetching profile:",S),J.error("Failed to load profile")}finally{a(!1)}},f=async()=>{if(t)try{const p={bio:c.bio,specialties:c.specialties.split(",").map(g=>g.trim()).filter(g=>g),location:c.location,website:c.website,socialLinks:{instagram:c.instagram,twitter:c.twitter,facebook:c.facebook}};await gt(ke(re,"users",t.uid),p),n({...e,...p}),s(!1),J.success("Profile updated successfully!")}catch(p){console.error("Error updating profile:",p),J.error("Failed to update profile")}};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Artist Profile - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Manage your artist profile, update your bio, specialties, and social links."})]}),o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center",children:o.jsx(On,{className:"h-10 w-10 text-indigo-600"})}),o.jsxs("div",{className:"text-white",children:[o.jsx("h1",{className:"text-2xl font-bold",children:t==null?void 0:t.displayName}),o.jsx("p",{className:"opacity-90",children:"Artist Profile"})]})]}),o.jsx("div",{className:"flex space-x-2",children:r?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:f,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[o.jsx(B4,{className:"h-4 w-4"}),o.jsx("span",{children:"Save"})]}),o.jsxs("button",{onClick:()=>{s(!1),d()},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[o.jsx(Ht,{className:"h-4 w-4"}),o.jsx("span",{children:"Cancel"})]})]}):o.jsxs("button",{onClick:()=>s(!0),className:"bg-white bg-opacity-20 text-white px-4 py-2 rounded-lg hover:bg-opacity-30 transition-colors flex items-center space-x-2",children:[o.jsx(Pu,{className:"h-4 w-4"}),o.jsx("span",{children:"Edit Profile"})]})})]})}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx(ds,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{className:"font-medium text-gray-700",children:"Email"})]}),o.jsx("p",{className:"text-gray-900",children:t==null?void 0:t.email})]})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Your Referral Link"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"text",readOnly:!0,value:`${window.location.origin}/register?ref=${e.referralCode}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50 focus:outline-none"}),o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/register?ref=${e.referralCode}`),J.success("Referral link copied to clipboard!")},className:"p-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:o.jsx(O4,{className:"h-5 w-5"})})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Biography"}),r?o.jsx("textarea",{value:c.bio,onChange:p=>u({...c,bio:p.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Tell us about yourself as an artist..."}):o.jsx("p",{className:"text-gray-700",children:e.bio||"No biography added yet. Click edit to add your artist story."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Art Specialties"}),r?o.jsx("input",{type:"text",value:c.specialties,onChange:p=>u({...c,specialties:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"e.g. Portrait painting, Digital art, Watercolor (comma separated)"}):o.jsx("div",{className:"flex flex-wrap gap-2",children:e.specialties&&e.specialties.length>0?e.specialties.map(p=>o.jsx("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 rounded-full text-sm",children:p},p)):o.jsx("p",{className:"text-gray-500",children:"No specialties added yet."})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Commission Activity"}),e.commissions&&e.commissions.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Commission Amount"}),o.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date Earned"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.commissions.map((p,g)=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.orderId}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:["",p.commissionAmount.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:p.earnedAt.toDate().toLocaleDateString()})]},g))})]})}):o.jsx("p",{className:"text-gray-500",children:"No commission activity yet."})]})]})]})})})]})},iD=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState(!0),[a,c]=A.useState("all");A.useEffect(()=>{(async()=>{try{const f=Vt(Qe(re,"users"),jr("role","==","artist")),g=(await Mt(f)).docs.map(j=>({id:j.id,...j.data()}));e(g);const w=Vt(Qe(re,"artworks")),S=(await Mt(w)).docs.map(j=>({id:j.id,...j.data()}));r(S)}catch(f){console.error("Error fetching data:",f)}finally{i(!1)}})()},[]);const u=t.filter(d=>a==="no-artworks"?!n.some(f=>f.artistId===d.uid):!0);return s?o.jsx("div",{children:"Loading..."}):o.jsxs("div",{className:"container mx-auto p-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Artist Profiles"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{htmlFor:"filter",className:"mr-2",children:"Filter:"}),o.jsxs("select",{id:"filter",value:a,onChange:d=>c(d.target.value),className:"border p-2 rounded",children:[o.jsx("option",{value:"all",children:"All Artists"}),o.jsx("option",{value:"no-artworks",children:"Artists with no artworks"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>o.jsxs("div",{className:"border p-4 rounded-lg",children:[o.jsx("h2",{className:"text-xl font-semibold",children:d.displayName}),o.jsx("p",{children:d.email})]},d.uid))})]})},gc=({className:t="h-4 w-4"})=>o.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),oD=()=>{const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState([]),[a,c]=A.useState([]),[u,d]=A.useState([]),[f,p]=A.useState([]),[g,w]=A.useState([]),[_,S]=A.useState(!0),[j,N]=A.useState("orders"),[x,b]=A.useState(!1),[L,F]=A.useState(!1),[$,T]=A.useState(!1),[v,I]=A.useState(!1),[k,P]=A.useState(!1),[D,E]=A.useState(""),[H,ie]=A.useState(null),[Z,nt]=A.useState(null),[B,ee]=A.useState([]),[ne,ye]=A.useState(""),[de,_e]=A.useState(""),[We,Et]=A.useState("all"),[He,Pt]=A.useState(""),[Hn,Bs]=A.useState("all"),[Zt,Gn]=A.useState(!1);A.useState(null),A.useState(null),A.useEffect(()=>{mr()},[]),A.useEffect(()=>{Dt()},[t,de,We]),A.useEffect(()=>{qs()},[n,He,Hn]);const mr=async()=>{try{const C=Vt(Qe(re,"orders"),ci("orderDate","desc")),K=(await Mt(C)).docs.map(Ge=>({id:Ge.id,...Ge.data()})),he=Vt(Qe(re,"requirements"),ci("createdAt","desc")),en=(await Mt(he)).docs.map(Ge=>({id:Ge.id,...Ge.data()})),at=Vt(Qe(re,"sharedRequirements"),ci("sharedAt","desc")),Kn=(await Mt(at)).docs.map(Ge=>({id:Ge.id,...Ge.data()})),mn=Vt(Qe(re,"users"),jr("role","==","artist")),Kr=(await Mt(mn)).docs.map(Ge=>({id:Ge.id,...Ge.data()})),qt=Vt(Qe(re,"users")),tn=(await Mt(qt)).docs.map(Ge=>({id:Ge.id,...Ge.data()}));e(K),r(en),i(Kn),c(Kr),d(tn)}catch(C){console.error("Error fetching data:",C),J.error("Failed to load data")}finally{S(!1)}},Dt=()=>{let C=t;de&&(C=C.filter(q=>q.artwork.title.toLowerCase().includes(de.toLowerCase())||q.clientName.toLowerCase().includes(de.toLowerCase())||q.artistName.toLowerCase().includes(de.toLowerCase()))),We!=="all"&&(C=C.filter(q=>q.status===We)),p(C)},qs=()=>{let C=n;He&&(C=C.filter(q=>q.clientName.toLowerCase().includes(He.toLowerCase())||q.description.toLowerCase().includes(He.toLowerCase())||q.category&&q.category.toLowerCase().includes(He.toLowerCase()))),Hn!=="all"&&(C=C.filter(q=>q.status===Hn)),w(C)},Bt=(C,q)=>{const K=s.find(he=>he.requirementId===C&&he.artistId===q);return(K==null?void 0:K.status)||"pending"},Ws=(C,q)=>{const K=s.find(he=>he.requirementId===C&&he.artistId===q);return(K==null?void 0:K.declineReason)||null},bn=async(C,q)=>{try{if(await gt(ke(re,"orders",C),{status:q,[`${q}At`]:new Date}),q==="completed"){const K=t.find(he=>he.id===C);if(K&&K.artwork.price){const he=await jo(ke(re,"users",K.artistId));if(he.exists()){const ht=he.data();if(ht.referredBy&&t.filter(at=>at.artistId===K.artistId&&at.status==="completed").length===0){const at=K.artwork.price*.05;await gt(ke(re,"users",ht.referredBy),{commissions:fx({orderId:K.id,commissionAmount:at,earnedAt:new Date})}),J.success("Commission for first order awarded to referring artist!")}}if(K.affiliateId){const ht=K.artwork.price*.05;await gt(ke(re,"users",K.affiliateId),{commissions:fx({orderId:K.id,commissionAmount:ht,earnedAt:new Date})}),J.success("Commission awarded to affiliate!")}}}e(t.map(K=>K.id===C?{...K,status:q}:K)),J.success("Order status updated")}catch(K){console.error("Error updating order status:",K),J.error("Failed to update order status")}},Bo=async(C,q)=>{try{await gt(ke(re,"requirements",C),{status:q,[`${q}At`]:new Date}),r(n.map(K=>K.id===C?{...K,status:q}:K)),J.success("Requirement status updated")}catch(K){console.error("Error updating requirement status:",K),J.error("Failed to update requirement status")}},Tn=async C=>{if(window.confirm("Are you sure you want to delete this order? This action cannot be undone."))try{await Ma(ke(re,"orders",C)),e(t.filter(q=>q.id!==C)),J.success("Order deleted successfully"),T(!1)}catch(q){console.error("Error deleting order:",q),J.error("Failed to delete order")}},Wr=async C=>{if(window.confirm("Are you sure you want to delete this requirement? This action cannot be undone."))try{await Ma(ke(re,"requirements",C)),r(n.filter(q=>q.id!==C)),J.success("Requirement deleted successfully"),I(!1)}catch(q){console.error("Error deleting requirement:",q),J.error("Failed to delete requirement")}},In=async()=>{if(!H||!ne){J.error("Please enter a proposed price");return}try{const C=a.map(K=>K.uid),q=C.map(K=>{const he=a.find(ht=>ht.uid===K);return fo(Qe(re,"sharedRequirements"),{requirementId:H.id,artistId:K,artistName:(he==null?void 0:he.displayName)||"Unknown",artistEmail:(he==null?void 0:he.email)||"",sharedAt:new Date,status:"pending",proposedPrice:parseFloat(ne),requirement:H})});await Promise.all(q),await gt(ke(re,"requirements",H.id),{status:"shared",sharedWith:C,sharedAt:new Date}),r(n.map(K=>K.id===H.id?{...K,status:"shared",sharedWith:C}:K)),J.success(`Requirement shared with all ${C.length} artists`),F(!1),ie(null),ye(""),mr()}catch(C){console.error("Error sharing requirement to all artists:",C),J.error("Failed to share requirement to all artists")}},qo=async()=>{if(!H||B.length===0){J.error("Please select at least one artist");return}if(!ne){J.error("Please enter a proposed price");return}try{const C=B.map(q=>{const K=a.find(he=>he.uid===q);return fo(Qe(re,"sharedRequirements"),{requirementId:H.id,artistId:q,artistName:(K==null?void 0:K.displayName)||"Unknown",artistEmail:(K==null?void 0:K.email)||"",sharedAt:new Date,status:"pending",proposedPrice:parseFloat(ne),requirement:H})});await Promise.all(C),await gt(ke(re,"requirements",H.id),{status:"shared",sharedWith:[...H.sharedWith||[],...B],sharedAt:new Date}),r(n.map(q=>q.id===H.id?{...q,status:"shared",sharedWith:[...q.sharedWith||[],...B]}:q)),J.success(`Requirement shared with ${B.length} artist(s)`),b(!1),ie(null),ee([]),ye(""),mr()}catch(C){console.error("Error sharing requirement:",C),J.error("Failed to share requirement")}},Sn=async C=>{try{const q=a.find(K=>K.uid===C.artistId);if(!q){J.error("Artist not found");return}await fo(Qe(re,"sharedOrders"),{orderId:C.id,artistId:C.artistId,artistName:C.artistName,artistEmail:q.email,sharedAt:new Date,status:"pending",order:{artworkId:C.artworkId,requirements:C.requirements,alterationDescription:C.alterationDescription,artwork:C.artwork}}),await gt(ke(re,"orders",C.id),{status:"shared",sharedAt:new Date}),e(t.map(K=>K.id===C.id?{...K,status:"shared"}:K)),J.success(`Order shared with ${C.artistName}`)}catch(q){console.error("Error sharing order:",q),J.error("Failed to share order")}},Hr=C=>{const q=` *DECLINED ORDER - NEED NEW ARTIST*

 *Order Details:*
 Artwork: ${C.artwork.title}
 Category: ${C.artwork.category}
 Artist: ${C.artistName} (DECLINED)
 Client: ${C.clientName}

 *Price:* ${C.artwork.price||"Not specified"}

 *Address:*
${C.address}

 *Decline Reason:*
${C.declineReason||"No reason provided"}

${C.requirements?` *Special Requirements:*
${C.requirements}

`:""}${C.alterationDescription?` *Customization Request:*
${C.alterationDescription}

`:""} *Looking for a new artist to take this order!*

#DeclinedOrder #NeedArtist #FrameGlobe`,he=`https://wa.me/?text=${encodeURIComponent(q)}`;window.open(he,"_blank"),J.success("Order details shared to WhatsApp!")},Te=C=>{const q=` *CLIENT REQUIREMENT - NEED ARTIST*

 *Requirement Details:*
 ID: #${C.id.slice(-6)}
 Client: ${C.clientName}
${C.address?` *Address:* ${C.address}`:""}

${C.category?` *Category:* ${C.category}`:""}
${C.budget?` *Budget:* ${C.budget}`:""}
${C.deadline?` *Deadline:* ${new Date(C.deadline.seconds*1e3).toLocaleDateString()}`:""}

 *Description:*
${C.description}

 *Status:* ${C.status.charAt(0).toUpperCase()+C.status.slice(1)}

${C.sharedWith&&C.sharedWith.length>0?` *Shared with ${C.sharedWith.length} artist(s)
`:""}
${C.acceptedBy?` *Accepted by:* ${C.acceptedBy.artistName}
`:""}
${C.workCompleted?` *Work Completed by:* ${C.workCompleted.artistName}
`:""}
${C.attachmentUrl?` *Reference Image: ${C.attachmentUrl}
`:""} *Looking for an artist to fulfill this requirement!*

#ClientRequirement #NeedArtist #FrameGlobe`,he=`https://wa.me/?text=${encodeURIComponent(q)}`;window.open(he,"_blank"),J.success("Requirement details shared to WhatsApp!")},Ie=C=>{switch(C){case"pending":case"open":return"bg-yellow-100 text-yellow-800";case"confirmed":case"shared":return"bg-blue-100 text-blue-800";case"assigned":return"bg-purple-100 text-purple-800";case"in-progress":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"accepted":return"bg-green-100 text-green-800";case"declined":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},le=C=>u.find(q=>q.uid===C),Ee=C=>{if(!C)return"N/A";const q=C.seconds?new Date(C.seconds*1e3):new Date(C);return q.toLocaleDateString()+" "+q.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},fn=C=>{E(C),P(!0)},Hs=()=>{if(j==="orders")return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"sm:hidden",children:o.jsxs("button",{onClick:()=>Gn(!Zt),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(on,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter Orders"})]}),o.jsx(wx,{className:`h-5 w-5 text-gray-400 transition-transform ${Zt?"rotate-180":""}`})]})}),o.jsxs("div",{className:"hidden sm:grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search orders...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:de,onChange:C=>_e(C.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",value:We,onChange:C=>Et(C.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"shared",children:"Shared"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),Zt&&o.jsxs("div",{className:"sm:hidden space-y-3 mb-6 bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search orders...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:de,onChange:C=>_e(C.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",value:We,onChange:C=>Et(C.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"shared",children:"Shared"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),f.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Sx,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:de||We!=="all"?"Try adjusting your search or filter criteria":"Orders will appear here when clients place them"})]}):f.map(C=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4 flex-1",children:[o.jsx("div",{className:"cursor-pointer flex-shrink-0",onClick:()=>fn(C.artwork.imageUrl),children:o.jsx("img",{src:C.artwork.imageUrl,alt:C.artwork.title,className:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-lg hover:opacity-80 transition-opacity"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:C.artwork.title}),o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:["by ",C.artistName]}),C.artwork.price&&o.jsxs("p",{className:"text-xs sm:text-sm font-medium text-green-600",children:["",C.artwork.price]}),C.status==="cancelled"&&C.declineReason&&o.jsxs("p",{className:"text-xs text-red-600 mt-1 line-clamp-2",children:["Declined: ",C.declineReason]})]})]}),o.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2 sm:items-center",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie(C.status)} whitespace-nowrap`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)}),o.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[C.status==="pending"&&o.jsxs("button",{onClick:()=>Sn(C),className:"bg-blue-600 text-white px-2 py-1 rounded text-xs hover:bg-blue-700 transition-colors flex items-center space-x-1",children:[o.jsx(DE,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),C.status==="cancelled"&&o.jsxs("button",{onClick:()=>Hr(C),className:"bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors flex items-center space-x-1",title:"Share to WhatsApp Group",children:[o.jsx(gc,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),o.jsxs("button",{onClick:()=>{nt(C),T(!0)},className:"bg-gray-600 text-white px-2 py-1 rounded text-xs hover:bg-gray-700 transition-colors flex items-center space-x-1",children:[o.jsx(er,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"View"})]}),o.jsxs("button",{onClick:()=>Tn(C.id),className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700 transition-colors flex items-center space-x-1",children:[o.jsx(Nr,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Order Date: ",Ee(C.orderDate)]})]},C.id))]});if(j==="requirements")return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"sm:hidden",children:o.jsxs("button",{onClick:()=>Gn(!Zt),className:"w-full flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(on,{className:"h-5 w-5 text-gray-400"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filter Requirements"})]}),o.jsx(wx,{className:`h-5 w-5 text-gray-400 transition-transform ${Zt?"rotate-180":""}`})]})}),o.jsxs("div",{className:"hidden sm:grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search requirements...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:He,onChange:C=>Pt(C.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",value:Hn,onChange:C=>Bs(C.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"shared",children:"Shared"}),o.jsx("option",{value:"assigned",children:"Assigned"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]}),Zt&&o.jsxs("div",{className:"sm:hidden space-y-3 mb-6 bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"relative",children:[o.jsx(gs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsx("input",{type:"text",placeholder:"Search requirements...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",value:He,onChange:C=>Pt(C.target.value)})]}),o.jsxs("div",{className:"relative",children:[o.jsx(on,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),o.jsxs("select",{className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 appearance-none",value:Hn,onChange:C=>Bs(C.target.value),children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"shared",children:"Shared"}),o.jsx("option",{value:"assigned",children:"Assigned"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]}),g.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Co,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No requirements found"}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:He||Hn!=="all"?"Try adjusting your search or filter criteria":"Client requirements will appear here"})]}):g.map(C=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 sm:p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:["Requirement #",C.id.slice(-6)]}),o.jsx("p",{className:"text-xs sm:text-sm text-gray-600 truncate",children:C.clientName}),C.sharedWith&&C.sharedWith.length>0&&o.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[o.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Shared with:"}),C.sharedWith.slice(0,3).map((q,K)=>{var Kn;const he=a.find(mn=>mn.uid===q),ht=Bt(C.id,q),en=ht==="accepted",at=ht==="declined",pr=Ws(C.id,q);return o.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${en?"bg-green-100 text-green-800":at?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,title:at&&pr?`Declined: ${pr}`:"",children:[((Kn=he==null?void 0:he.displayName)==null?void 0:Kn.split(" ")[0])||"Unknown",en&&" ",at&&" "]},q)}),C.sharedWith.length>3&&o.jsxs("span",{className:"text-xs text-gray-500",children:["+",C.sharedWith.length-3," more"]})]})]}),o.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2 sm:items-center",children:[o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie(C.status)} whitespace-nowrap`,children:C.status.charAt(0).toUpperCase()+C.status.slice(1)}),o.jsxs("div",{className:"flex space-x-1 sm:space-x-2",children:[C.status==="open"&&o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{ie(C),F(!0)},className:"bg-purple-600 text-white px-2 py-1 rounded text-xs hover:bg-purple-700 transition-colors flex items-center space-x-1",children:[o.jsx(Ro,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Share All"})]}),o.jsxs("button",{onClick:()=>{ie(C),b(!0)},className:"bg-indigo-600 text-white px-2 py-1 rounded text-xs hover:bg-indigo-700 transition-colors flex items-center space-x-1",children:[o.jsx(OE,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),o.jsxs("button",{onClick:()=>Te(C),className:"bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 transition-colors flex items-center space-x-1",title:"Share to WhatsApp Group",children:[o.jsx(gc,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"WhatsApp"})]}),o.jsxs("button",{onClick:()=>{ie(C),I(!0)},className:"bg-gray-600 text-white px-2 py-1 rounded text-xs hover:bg-gray-700 transition-colors flex items-center space-x-1",children:[o.jsx(er,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"View"})]}),o.jsxs("button",{onClick:()=>Wr(C.id),className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700 transition-colors flex items-center space-x-1",children:[o.jsx(Nr,{className:"h-3 w-3"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:["Created: ",Ee(C.createdAt)]})]},C.id))]});if(j==="artist-profiles")return o.jsx(iD,{artists:a})};if(_)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})});const Gr={totalOrders:t.length,pendingOrders:t.filter(C=>C.status==="pending").length,totalRequirements:n.length,openRequirements:n.filter(C=>C.status==="open").length};return o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Admin Dashboard - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Manage orders, client requirements, and oversee the FrameGlobe platform."})]}),o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6 sm:mb-8",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),o.jsx("p",{className:"text-gray-600 mt-2 text-sm sm:text-base",children:"Manage orders and client requirements"})]}),o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-6 sm:mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Sx,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Orders"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:Gr.totalOrders})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(q4,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Pending Orders"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:Gr.pendingOrders})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Co,{className:"h-6 w-6 sm:h-8 sm:w-8 text-green-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Total Requirements"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:Gr.totalRequirements})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ro,{className:"h-6 w-6 sm:h-8 sm:w-8 text-purple-600"}),o.jsxs("div",{className:"ml-3 sm:ml-4",children:[o.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:"Open Requirements"}),o.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:Gr.openRequirements})]})]})})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex space-x-4 sm:space-x-8 px-4 sm:px-6 overflow-x-auto",children:[o.jsxs("button",{onClick:()=>N("orders"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${j==="orders"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Orders (",f.length,")"]}),o.jsxs("button",{onClick:()=>N("requirements"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${j==="requirements"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Requirements (",g.length,")"]}),o.jsxs("button",{onClick:()=>N("artist-profiles"),className:`py-4 px-1 border-b-2 font-medium text-sm whitespace-.r(nowrap ${j==="artist-profiles"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Artist Profiles (",a.length,")"]})]})}),o.jsx("div",{className:"p-4 sm:p-6",children:Hs()})]})]}),k&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"relative w-full h-full max-w-4xl max-h-full",children:[o.jsx("button",{onClick:()=>P(!1),className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10 p-2",children:o.jsx(Ht,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),o.jsx("img",{src:D,alt:"Full size view",className:"w-full h-full object-contain"})]})}),$&&Z&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Order Details"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[Z.status==="cancelled"&&o.jsxs("button",{onClick:()=>Hr(Z),className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 text-sm",title:"Share to WhatsApp Group",children:[o.jsx(gc,{className:"h-4 w-4"}),o.jsx("span",{children:"Share to WhatsApp"})]}),o.jsxs("button",{onClick:()=>Tn(Z.id),className:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(Nr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),o.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:o.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx("div",{children:o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:Z.artwork.imageUrl,alt:Z.artwork.title,className:"w-full h-auto object-contain max-h-96 rounded-lg cursor-pointer",onClick:()=>fn(Z.artwork.imageUrl)}),o.jsx("button",{onClick:()=>fn(Z.artwork.imageUrl),className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity",children:o.jsx(Fa,{className:"h-4 w-4"})})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:Z.artwork.title}),o.jsxs("div",{className:"flex items-center space-x-2 mb-2 flex-wrap",children:[o.jsx(_i,{className:"h-4 w-4 text-gray-400"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["by ",Z.artistName]}),Z.artwork.isCustomizable&&o.jsx("span",{className:"text-xs text-purple-600 bg-purple-100 px-2 py-1 rounded",children:"Customizable"}),Z.artwork.price&&o.jsxs("span",{className:"text-sm font-medium text-green-600 bg-green-100 px-2 py-1 rounded",children:["",Z.artwork.price]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ie(Z.status)}`,children:Z.status.charAt(0).toUpperCase()+Z.status.slice(1)}),o.jsxs("select",{value:Z.status,onChange:C=>bn(Z.id,C.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1",children:[o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"shared",children:"Shared"}),o.jsx("option",{value:"confirmed",children:"Confirmed"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Client Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"break-all",children:Z.clientName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`mailto:${Z.clientEmail}`,className:"text-indigo-600 hover:text-indigo-800 break-all",children:Z.clientEmail})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($c,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`tel:${Z.clientPhone}`,className:"text-indigo-600 hover:text-indigo-800",children:Z.clientPhone})]}),o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(U4,{className:"h-4 w-4 text-gray-400 flex-shrink-0 mt-0.5"}),o.jsx("span",{className:"break-words",children:Z.address})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Artist Information"}),(()=>{const C=le(Z.artistId);return C?o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"break-all",children:C.displayName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`mailto:${C.email}`,className:"text-indigo-600 hover:text-indigo-800 break-all",children:C.email})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($c,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`tel:${C.phone}`,className:"text-indigo-600 hover:text-indigo-800",children:C.phone})]})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"Artist information not available"})})()]}),Z.affiliateId&&(()=>{const C=le(Z.affiliateId);return C?o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Affiliate Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"break-all",children:C.displayName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`mailto:${C.email}`,className:"text-indigo-600 hover:text-indigo-800 break-all",children:C.email})]})]})]}):null})(),(()=>{const C=u.find(q=>q.uid===Z.artistId);if(C&&C.referredBy){const q=le(C.referredBy);return q?o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Referred By (Commission Recipient)"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"break-all",children:q.displayName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`mailto:${q.email}`,className:"text-indigo-600 hover:text-indigo-800 break-all",children:q.email})]})]})]}):null}return null})()]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Timeline"}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Order Date:"})," ",Ee(Z.orderDate)]}),Z.sharedAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Shared:"})," ",Ee(Z.sharedAt)]}),Z.confirmedAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Confirmed:"})," ",Ee(Z.confirmedAt)]}),Z.inProgressAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"In Progress:"})," ",Ee(Z.inProgressAt)]}),Z.completedAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Completed:"})," ",Ee(Z.completedAt)]}),Z.cancelledAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Cancelled:"})," ",Ee(Z.cancelledAt)]})]})]}),(Z.requirements||Z.alterationDescription)&&o.jsxs("div",{className:"space-y-3",children:[Z.requirements&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Special Requirements"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded break-words",children:Z.requirements})]}),Z.alterationDescription&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customization Request"}),o.jsx("p",{className:"text-sm text-gray-600 bg-purple-50 p-3 rounded break-words",children:Z.alterationDescription})]})]}),Z.status==="cancelled"&&Z.declineReason&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Decline Reason"}),o.jsx("p",{className:"text-sm text-red-600 bg-red-50 p-3 rounded break-words",children:Z.declineReason})]})]})]})]})})}),v&&H&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Requirement Details"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>Te(H),className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2 text-sm",title:"Share to WhatsApp Group",children:[o.jsx(gc,{className:"h-4 w-4"}),o.jsx("span",{children:"Share to WhatsApp"})]}),o.jsxs("button",{onClick:()=>Wr(H.id),className:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(Nr,{className:"h-4 w-4"}),o.jsx("span",{className:"hidden sm:inline",children:"Delete"})]}),o.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-gray-600 p-2",children:o.jsx(Ht,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["Requirement #",H.id.slice(-6)]}),o.jsxs("div",{className:"flex items-center space-x-2 flex-wrap",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Ie(H.status)}`,children:H.status.charAt(0).toUpperCase()+H.status.slice(1)}),o.jsxs("select",{value:H.status,onChange:C=>Bo(H.id,C.target.value),className:"text-sm border border-gray-300 rounded px-3 py-1",children:[o.jsx("option",{value:"open",children:"Open"}),o.jsx("option",{value:"shared",children:"Shared"}),o.jsx("option",{value:"assigned",children:"Assigned"}),o.jsx("option",{value:"in-progress",children:"In Progress"}),o.jsx("option",{value:"completed",children:"Completed"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Client Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(On,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("span",{className:"break-all",children:H.clientName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`mailto:${H.clientEmail}`,className:"text-indigo-600 hover:text-indigo-800 break-all",children:H.clientEmail})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx($c,{className:"h-4 w-4 text-gray-400 flex-shrink-0"}),o.jsx("a",{href:`tel:${H.clientPhone}`,className:"text-indigo-600 hover:text-indigo-800",children:H.clientPhone})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Timeline"}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Created:"})," ",Ee(H.createdAt)]}),H.sharedAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Shared:"})," ",Ee(H.sharedAt)]}),H.acceptedBy&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Accepted:"})," ",Ee(H.acceptedBy.acceptedAt)]}),H.inProgressAt&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"In Progress:"})," ",Ee(H.inProgressAt)]}),H.workCompleted&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Completed:"})," ",Ee(H.workCompleted.completedAt)]})]})]}),(H.category||H.budget||H.deadline)&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Requirements"}),o.jsxs("div",{className:"space-y-1 text-sm",children:[H.category&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Category:"})," ",H.category]}),H.budget&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Budget:"})," ",H.budget]}),H.deadline&&o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Deadline:"})," ",new Date(H.deadline.seconds*1e3).toLocaleDateString()]})]})]}),H.sharedWith&&H.sharedWith.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Artist Responses"}),o.jsx("div",{className:"space-y-2",children:H.sharedWith.map(C=>{const q=a.find(at=>at.uid===C),K=Bt(H.id,C),he=Ws(H.id,C),ht=K==="accepted",en=K==="declined";return o.jsxs("div",{className:`p-3 rounded-lg border ${ht?"bg-green-50 border-green-200":en?"bg-red-50 border-red-200":"bg-blue-50 border-blue-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium text-sm",children:(q==null?void 0:q.displayName)||"Unknown Artist"}),o.jsx("span",{className:`px-2 py-1 rounded text-xs ${ht?"bg-green-100 text-green-800":en?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:K.charAt(0).toUpperCase()+K.slice(1)})]}),en&&he&&o.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",he]})]},C)})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Description"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded break-words",children:H.description})]}),H.attachmentUrl&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Reference Image"}),o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:H.attachmentUrl,alt:"Client reference",className:"w-full max-w-sm h-auto object-contain rounded-lg border cursor-pointer",onClick:()=>fn(H.attachmentUrl)}),o.jsx("button",{onClick:()=>fn(H.attachmentUrl),className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity",children:o.jsx(Fa,{className:"h-4 w-4"})})]})]}),H.acceptedBy&&o.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Accepted by Artist"}),o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Artist:"})," ",H.acceptedBy.artistName]}),o.jsxs("p",{className:"break-all",children:[o.jsx("strong",{children:"Email:"})," ",H.acceptedBy.artistEmail]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Accepted:"})," ",Ee(H.acceptedBy.acceptedAt)]})]})]}),H.workCompleted&&o.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Work Completed"}),o.jsxs("div",{className:"text-sm text-blue-800",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Artist:"})," ",H.workCompleted.artistName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Completed:"})," ",Ee(H.workCompleted.completedAt)]}),H.workCompleted.notes&&o.jsxs("p",{children:[o.jsx("strong",{children:"Notes:"})," ",H.workCompleted.notes]})]})]})]})]})]})})}),L&&H&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-4 sm:p-6",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Share with All Artists"}),o.jsxs("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:["This will share the requirement with all ",a.length," ","artists."]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposed Price () *"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:ne,onChange:C=>ye(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter proposed price for artists",required:!0})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{onClick:()=>{F(!1),ie(null),ye("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:In,disabled:!ne,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Share with All (",a.length,")"]})]})]})}),x&&H&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md p-4 sm:p-6 max-h-[80vh] overflow-y-auto",children:[o.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-4",children:"Share Requirement with Artists"}),o.jsx("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:"Select artists to share this requirement with:"}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposed Price () *"}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:ne,onChange:C=>ye(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter proposed price for artists",required:!0})]}),o.jsx("div",{className:"max-h-40 overflow-y-auto mb-4",children:a.map(C=>o.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[o.jsx("input",{type:"checkbox",checked:B.includes(C.uid),onChange:q=>{q.target.checked?ee([...B,C.uid]):ee(B.filter(K=>K!==C.uid))},className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900 truncate",children:C.displayName}),o.jsx("p",{className:"text-sm text-gray-600 truncate",children:C.email})]})]},C.uid))}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsx("button",{onClick:()=>{b(!1),ie(null),ee([]),ye("")},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:qo,disabled:B.length===0||!ne,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Share (",B.length,")"]})]})]})})]})]})},aD=()=>{const{currentUser:t}=Wn(),[e,n]=A.useState(!1),[r,s]=A.useState(!1),[i,a]=A.useState({clientName:(t==null?void 0:t.displayName)||"",clientEmail:(t==null?void 0:t.email)||"",clientPhone:"",address:"",description:"",category:"",budget:"",deadline:"",attachment:null}),c=["painting","drawing","digital","sculpture","photography","mixed-media","Graphite pencil portrait","Charcoal pencil portrait","Acrylic portrait Painting","Oil Painting portrait","Digital portrait","Watercolor portrait","Acrylic landscape Painting","Oil landscape Painting","Watercolor landscape","Colour pencil portraits","Kerala Mural painting","Ball pen portrait","other"],u=async d=>{var f,p;if(d.preventDefault(),!i.clientName||!i.clientEmail||!i.clientPhone||!i.address||!i.description){J.error("Please fill in all required fields");return}n(!0);try{let g=null,w=null;if(i.attachment){s(!0);const S="dlsgpthqy",j="artist_upload_preset",N=`https://api.cloudinary.com/v1_1/${S}/image/upload`,x=new FormData;x.append("file",i.attachment),x.append("upload_preset",j);try{const b=await fetch(N,{method:"POST",body:x});if(!b.ok){const F=await b.json();throw console.error("Cloudinary upload failed:",F),new Error(`Cloudinary upload failed: ${((f=F.error)==null?void 0:f.message)||b.statusText}`)}const L=await b.json();g=L.secure_url,w=L.public_id}catch(b){console.error("Error uploading to Cloudinary:",b),J.error(`Attachment upload failed: ${b.message||"Could not connect to Cloudinary."}`),n(!1),s(!1);return}s(!1)}const _={clientId:(t==null?void 0:t.uid)||"guest",clientName:i.clientName,clientEmail:i.clientEmail,clientPhone:i.clientPhone,description:i.description,category:i.category||null,address:i.address,budget:i.budget?parseFloat(i.budget):null,deadline:i.deadline?new Date(i.deadline):null,attachmentUrl:g,attachmentPublicId:w,status:"open",createdAt:new Date};await fo(Qe(re,"requirements"),_),J.success("Your requirement has been submitted successfully! Our admin will contact you soon.");try{(await fetch("https://formspree.io/f/mkgbaaoa",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({clientName:_.clientName,clientEmail:_.clientEmail,clientPhone:_.clientPhone,description:_.description,category:_.category,budget:_.budget,address:_.address,deadline:((p=_.deadline)==null?void 0:p.toISOString())||"",attachmentUrl:_.attachmentUrl||""})})).ok||console.warn("Formspree email not sent.")}catch(S){console.error("Formspree email error:",S)}a({clientName:(t==null?void 0:t.displayName)||"",clientEmail:(t==null?void 0:t.email)||"",address:"",clientPhone:"",description:"",category:"",budget:"",deadline:"",attachment:null})}catch(g){console.error("Error submitting requirement:",g),J.error("Failed to submit requirement")}finally{n(!1)}};return o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Submit Art Requirements - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Tell us about your custom artwork requirements. Our artists can create the perfect piece for you."}),o.jsx("meta",{name:"keywords",content:"custom art, commission art, art requirements, custom painting, personalized artwork"})]}),o.jsx("div",{className:"min-h-screen bg-gray-50",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:[o.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[o.jsx("div",{className:"flex justify-center mb-4",children:o.jsx("div",{className:"bg-indigo-100 rounded-full p-3",children:o.jsx(Co,{className:"h-8 w-8 text-indigo-600"})})}),o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Tell Us About Your Art Requirements"}),o.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto",children:"Looking for custom artwork? Share your vision with us and we'll connect you with the perfect artist to bring your ideas to life."})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 sm:p-8",children:o.jsxs("form",{onSubmit:u,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),o.jsx("input",{type:"text",required:!0,value:i.clientName,onChange:d=>a({...i,clientName:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Your full name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",required:!0,value:i.clientEmail,onChange:d=>a({...i,clientEmail:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your@email.com"})]})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),o.jsx("input",{type:"tel",required:!0,value:i.clientPhone,onChange:d=>a({...i,clientPhone:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Your phone number"})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Project Details"}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Describe Your Project *"}),o.jsx("textarea",{required:!0,rows:6,value:i.description,onChange:d=>a({...i,description:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Please describe your artwork requirements in detail. Include style preferences, dimensions, subject matter, colors, mood, and any specific elements you want included..."}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The more details you provide, the better we can match you with the right artist."})]}),o.jsxs("div",{className:"mt-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Address *"}),o.jsx("textarea",{required:!0,rows:3,value:i.address,onChange:d=>a({...i,address:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"House number, street, area, city, postal code"})]}),o.jsx("div",{className:"mt-4",children:o.jsx(em,{onFileSelect:d=>a({...i,attachment:d}),selectedFile:i.attachment,accept:"image/*",label:"Reference Image (Optional)",description:"Upload any reference images, sketches, or inspiration photos to help artists understand your vision.",disabled:e||r})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(LE,{className:"inline h-4 w-4 mr-1"}),"Preferred Category"]}),o.jsxs("select",{value:i.category,onChange:d=>a({...i,category:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[o.jsx("option",{value:"",children:"Select category"}),c.map(d=>o.jsx("option",{value:d,children:d.charAt(0).toUpperCase()+d.slice(1)},d))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Jf,{className:"inline h-4 w-4 mr-1"}),"Budget (INR)"]}),o.jsx("input",{type:"number",min:"0",step:"0.01",value:i.budget,onChange:d=>a({...i,budget:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Your budget"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(D4,{className:"inline h-4 w-4 mr-1"}),"Preferred Deadline"]}),o.jsx("input",{type:"date",value:i.deadline,onChange:d=>a({...i,deadline:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",min:new Date().toISOString().split("T")[0]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[o.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:Rl,alt:"FrameGlobe Logo",className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 object-contain"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"What happens next?"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Our admin team will review your requirements and connect you with suitable artists. You'll receive a response within 24-48 hours with artist recommendations and next steps."})]})]}),o.jsxs("button",{type:"submit",disabled:e||r,className:"w-full bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[o.jsx(DE,{className:"h-5 w-5"}),o.jsx("span",{children:r?"Uploading...":e?"Submitting...":"Submit Requirements"})]})]})]})}),o.jsxs("div",{className:"mt-8 sm:mt-12 bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"How It Works"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-indigo-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:o.jsx("span",{className:"text-indigo-600 font-bold",children:"1"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Submit Requirements"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Tell us about your vision, budget, and timeline"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-indigo-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:o.jsx("span",{className:"text-indigo-600 font-bold",children:"2"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Artist Matching"}),o.jsx("p",{className:"text-sm text-gray-600",children:"We'll match you with artists who specialize in your style"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"bg-indigo-100 rounded-full p-3 w-12 h-12 mx-auto mb-3 flex items-center justify-center",children:o.jsx("span",{className:"text-indigo-600 font-bold",children:"3"})}),o.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Create Together"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Work with your chosen artist to create your perfect piece"})]})]})]})]})})]})},lD=()=>{const[t,e]=A.useState(""),[n,r]=A.useState(!1),[s,i]=A.useState(""),[a,c]=A.useState(""),{forgotPassword:u}=Wn(),d=async f=>{if(f.preventDefault(),!n){r(!0),c(""),i("");try{await u(t),i("Password reset email sent! Check your inbox and follow the instructions to reset your password.")}catch(p){console.error("Password reset error:",p),p.code==="auth/user-not-found"?c("No account found with this email address. Please check your email or create a new account."):p.code==="auth/invalid-email"?c("Please enter a valid email address."):p.code==="auth/too-many-requests"?c("Too many password reset attempts. Please try again later."):c("Failed to send password reset email. Please try again.")}finally{r(!1)}}};return o.jsxs(o.Fragment,{children:[o.jsxs(qn,{children:[o.jsx("title",{children:"Reset Password - FrameGlobe"}),o.jsx("meta",{name:"description",content:"Reset your FrameGlobe account password to regain access to your dashboard."})]}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:Rl,alt:"FrameGlobe Logo",className:"h-6 w-6 sm:h-8 sm:w-8 md:h-10 md:w-10 object-contain"})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),s&&o.jsx("div",{className:"rounded-md bg-green-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(Xf,{className:"h-5 w-5 text-green-400"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Email Sent Successfully"}),o.jsx("div",{className:"mt-2 text-sm text-green-700",children:o.jsx("p",{children:s})})]})]})}),a&&o.jsx("div",{className:"rounded-md bg-red-50 p-4",children:o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(CE,{className:"h-5 w-5 text-red-400"})}),o.jsxs("div",{className:"ml-3",children:[o.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Reset Failed"}),o.jsx("div",{className:"mt-2 text-sm text-red-700",children:o.jsx("p",{children:a})})]})]})}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email-address",className:"block text-sm font-medium text-gray-700",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Enter your email address",value:t,onChange:f=>e(f.target.value)}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(ds,{className:"h-4 w-4 text-gray-400"})})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:n||!!s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:n?"Sending...":"Send Reset Email"})}),o.jsx("div",{className:"text-center",children:o.jsxs(fe,{to:"/login",className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:[o.jsx(RE,{className:"h-4 w-4 mr-1"}),"Back to Sign In"]})})]}),s&&o.jsxs("div",{className:"mt-6 text-center",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Didn't receive the email? Check your spam folder or"}),o.jsx("button",{onClick:()=>{i(""),c("")},className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 transition-colors duration-200",children:"Try again"})]})]})})]})},cD=()=>{const{user:t}=Wn(),[e,n]=A.useState([]),[r,s]=A.useState(!0);return A.useEffect(()=>{(async()=>{if(t)try{const a=Vt(Qe(re,"orders"),jr("clientId","==",t.uid)),u=(await Mt(a)).docs.map(d=>({id:d.id,...d.data()}));n(u)}catch(a){console.error("Error fetching orders:",a)}finally{s(!1)}})()},[t]),r?o.jsx("div",{children:"Loading..."}):o.jsxs("div",{className:"container mx-auto p-4",children:[o.jsx("h1",{className:"text-2xl font-bold mb-4",children:"My Orders"}),e.length===0?o.jsx("p",{children:"You have no orders."}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(i=>o.jsxs("div",{className:"border p-4 rounded-lg",children:[o.jsx("h2",{className:"text-xl font-semibold",children:i.artwork.title}),o.jsxs("p",{children:["Status: ",i.status]}),i.status==="completed"&&o.jsx("a",{href:i.artwork.imageUrl,download:!0,className:"mt-2 inline-block bg-blue-500 text-white px-4 py-2 rounded",children:"Download Artwork"})]},i.id))})]})};function uD(){return o.jsx(s_,{children:o.jsx(j4,{children:o.jsx(R2,{children:o.jsxs("div",{className:"App",children:[o.jsx(ZI,{position:"top-right"}),o.jsxs(T2,{children:[o.jsxs(Wt,{path:"/",element:o.jsx(K4,{}),children:[o.jsx(Wt,{index:!0,element:o.jsx(X4,{})}),o.jsx(Wt,{path:"gallery",element:o.jsx(Z4,{})}),o.jsx(Wt,{path:"artwork/:id",element:o.jsx(eD,{})}),o.jsx(Wt,{path:"requirements",element:o.jsx(aD,{})}),o.jsx(Wt,{path:"dashboard",element:o.jsx(ha,{allowedRoles:["artist"],children:o.jsx(rD,{})})}),o.jsx(Wt,{path:"profile",element:o.jsx(ha,{allowedRoles:["artist"],children:o.jsx(sD,{})})}),o.jsx(Wt,{path:"admin",element:o.jsx(ha,{allowedRoles:["admin"],children:o.jsx(oD,{})})}),o.jsx(Wt,{path:"/affiliate/dashboard",element:o.jsx(ha,{allowedRoles:["affiliate"],children:o.jsx(Q4,{})})}),o.jsx(Wt,{path:"customer-dashboard",element:o.jsx(ha,{allowedRoles:["client"],children:o.jsx(cD,{})})})]}),o.jsx(Wt,{path:"/login",element:o.jsx(tD,{})}),o.jsx(Wt,{path:"/register",element:o.jsx(nD,{})}),o.jsx(Wt,{path:"/forgot-password",element:o.jsx(lD,{})})]})]})})})})}zw(document.getElementById("root")).render(o.jsx(A.StrictMode,{children:o.jsx(uD,{})}));
